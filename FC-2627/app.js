!function(){function e(t,n,r){function i(o,a){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(s)return s(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var p=n[o]={exports:{}};t[o][0].call(p.exports,function(e){return i(t[o][1][e]||e)},p,p.exports,e,t,n,r)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}return e}()({1:[function(e,t,n){(function(r){!function(e){if("object"==typeof n&&void 0!==t)t.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i;i="undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:this,i.flUiFormRenderer=e()}}(function(){return function(){function t(n,r,i){function s(a,l){if(!r[a]){if(!n[a]){var c="function"==typeof e&&e;if(!l&&c)return c(a,!0);if(o)return o(a,!0);var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p}var u=r[a]={exports:{}};n[a][0].call(u.exports,function(e){return s(n[a][1][e]||e)},u,u.exports,t,n,r,i)}return r[a].exports}for(var o="function"==typeof e&&e,a=0;a<i.length;a++)s(i[a]);return s}return t}()({1:[function(e,t,n){"use strict";function r(e,t,n){var r=e.$eval(t),i=n.split("."),s=i.pop(),o=i.join("."),a=o?e.$eval(o):e;a[s]=JSON.parse(r),e.$watch(t,function(e){JSON.stringify(a[s])!==e&&(a[s]=JSON.parse(e))}),e.$watch(n,function(n){e.$eval(t+" = jsonString",{jsonString:JSON.stringify(n)})},!0)}function i(e){if(e._sensitive&&e.step){var t=null!=e.step.formFieldValues[e.id]&&""!==e.step.formFieldValues[e.id];return t&&e.sensitiveRedacted||t&&e.overrideVisibility&&!0===e.overrideVisibility}return!1}function s(){return o}n.fieldTemplateHlp=s,n.bindConfigObject=r;var o={getTag:function(e){switch(e._fieldType){case"heading":case"readOnlyHeading":return"h4";case"instructions":case"text":return"p";case"readOnlyText":case"readOnlyDate":return"dl";case"readOnlyCredentials":return"p";case"link":return"a";default:return e._fieldType}},getProperties:function(e,t){var n=[""];if(!e._fieldDefId)return n;if(i(e)&&n.push('permissions="{ view: false, edit: field.editMode, redacted: true }"'),null!=e.disabled&&n.push('is-disabled="field.disabled"'),null!=e.editMode&&n.push('edit-mode="field.editMode"'),e._fieldType.startsWith("super-")){n.push('label="{{field._label}}"'),n.push('required="field._required"'),n.push('org="org"');var r="field.step.formFieldValues['"+e.id+"']";if("super-digital-signature"===e._fieldType&&(r="field.step.formFieldValues['"+e.id+"'].config.signature",n.push('on-behalf="{{field.onBehalf}}"')),"super-input-radio"===e._fieldType){n.push('name="'+e.config.name+'"'),n.push('value="'+e._label+'"');for(var s=t.findIndex(function(t){return t===e}),o=e.config.name||"",a=e;s--;)"super-input-radio"===t[s]._fieldType&&t[s].config.name===o&&(a=t[s]);r="field.step.formFieldValues['"+a.id+"']"}if(!e.disabled){var l=e._required&&!e.disabled?"Required":"",c=e._label.replace(/'/g,"\\'").replace(/"/g,"&quot;");if(e._validator){(!e._validator.applyOnRequired||e._required&&e._validator.applyOnRequired)&&n.push('ss-validate="ignoreValidations || validator.'+e._validator.type+l+"("+r+", '"+c+"')\"")}else e._required&&n.push('ss-validate="ignoreValidations || validator.required('+r+", '"+c+"')\"")}n.push('model="'+r+'"')}return e._fieldType.startsWith("cmp-")&&n.push('field="field"'),"link"===e._fieldType&&(n.push('class="file-link"'),n.push('ss-icon="chain"'),n.push("href=\"{{field.config.isValid ? field.config.location : ''}}\""),n.push("ng-class=\"{'is-valid': field.config.isValid}\""),n.push('target="_blank"')),n.join(" ")},getVisibility:function(e){switch(e._fieldType){case"heading":case"readOnlyHeading":case"instructions":case"readOnlyText":case"readOnlyCredentials":case"readOnlyDate":case"link":return"!!field._label.length && field._active";default:return"field._active"}},getContent:function(e,t,n){var r,s="";switch(e._fieldType){case"heading":return"{{field._label}}";case"readOnlyHeading":return"{{field._label}}&nbsp;<em>Read-only</em>";case"instructions":case"text":return"{{field._label}}";case"link":return"{{field.config.display}}";case"readOnlyText":if(e.step&&null!=e.step.formFieldValues[e.id])if(e._fieldTypeOptions&&"super-select-list"===e._fieldTypeOptions.edit){var o=e.externalSourceOptions.find(function(t){return t.value===e.step.formFieldValues[e.id]});r=null!=o?o.name:"--"}else r=e.step.formFieldValues[e.id];else r="--";return i(e)&&(s='aria-label="value is redacted"',r="******"),'<dt class="field-label">'+e._label+"</dt><dd "+s+">"+r+"</dd>";case"readOnlyDate":return r=e.step&&null!=e.step.formFieldValues[e.id]?n("date")(e.step.formFieldValues[e.id],"MM/dd/yyyy"):"--/--/--",i(e)&&(s='aria-label="value is redacted"',r="******"),'<dt class="field-label">'+e._label+"</dt><dd "+s+">"+r+"</dd>";case"readOnlyCredentials":return null==e.config.readOnly||null!=e.config.populate&&!e.config.populate?"--":'<span ng-if="field.primaryParticipant == null">--</span><cmp-credentials-list ng-repeat="option in field.primaryParticipant.'+e.config.readOnly+'" model="option"></cmp-credentials-list>';case"super-select-list":return null!=e.externalSourceOptions?"<"+e._fieldType+'-item ng-repeat="option in field.externalSourceOptions track by $index" value="option.value" label="option.name"></'+e._fieldType+"-item>":"<"+e._fieldType+'-item ng-repeat="option in field._options track by $index" value="option" label="option"></'+e._fieldType+"-item>";default:return""}}}},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";e("./partials.compiled"),e("./module"),e("./includes");var r=(0,eval)("this");r.registerUiModule&&r.registerUiModule("ec-forms")},{"./includes":45,"./module":46,"./partials.compiled":47}],3:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={form:"=",label:"@"},p=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","$q","$window","filenameHlp","ssAsync","ssFormTemplatesApi","ssToastHlp","FileUploader","ssAuthSvc","ssModalSvc",function(e,t,n,i,s,o,a,l,c,p){function u(t){e.statusElem.text(""),_.processing=!0,_.processingStatus="deleting attachment...",s(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$remove();case 3:return n.next=5,e.form.$refresh();case 5:return n.next=7,f();case 7:e.statusElem.text("the file has been succesfully deleted"),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),_.processing=!1,_.processingStatus="";case 14:return n.prev=14,g.clearQueue(),n.finish(14);case 17:case"end":return n.stop()}},n,this,[[0,10,14,17]])}))()}function m(t){return t.filter(function(t){return!e.form._printPreviewDefinition||t._fileId!==e.form._printPreviewDefinition.templateFileId})}function d(){g=e.uploader=new l(b)}function f(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=n.initLoad;void 0!==s&&s&&(_.processing=!0,_.processingStatus="loading attachments...");var l=e.form._files.map(function(e){return o.getFile({id:e._fileId})});return t.all(l).then(function(t){e.form._files.forEach(function(e){var n=t.find(function(t){return t.id===e._fileId});e.filename=n._filename;var r=i.getExtension(e.filename);e.icon=i.getIcon(r)}),_.files=[].concat(r(e.form._files)),_.files=m(_.files)}).catch(function(e){a.error(y,h)}).finally(function(){_.processing=!1,_.processingStatus=""})}var g,v,h="File Upload Failed",y="There was an error getting the attachments for this form template",b={withCredentials:!1,headers:{Authorization:"Bearer "+c.token.access},filters:[{name:"validExt",fn:function(e){return!(!i.getExtension(e.name)||!i.getValidExtensions().includes(i.getExtension(e.name)))||(a.error("The file you have selected does not have a valid extension. Please add one or choose another file",h),!1)}},{name:"fileSize",fn:function(e){return!(null!=e.size&&e.size>=0&&e.size>=52428800)||(a.error("The file upload size cannot exceed 50MB. Please upload a smaller file.",h),!1)}},{name:"fileDupe",fn:function(e){return!_.files.find(function(t){return t.filename===e.name})||(a.error("You have already uploaded a file by that name.",h),!1)}}]},_=e.vm={files:[],processing:null,processingStatus:null};d(),g.onAfterAddingFile=function(t){e.statusElem.text(""),t.removeAfterUpload=!0,_.processing=!0,_.processingStatus="adding attachment...",o.attachFile({},{filename:t.file.name,fileType:2},null,!1).then(function(e){v=e,v.filename=e._filename,t.updatedUrl=o.getUploadFileUrl({id:v.id}),t.upload()}).catch(function(e){422===e.status&&a.error(e.data.errors.Title,h),_.processing=!1,_.processingStatus="",g.clearQueue()})},g.onBeforeUploadItem=function(e){e.url=e.updatedUrl},g.onErrorItem=function(e,t,n,r){_.processing=!1,_.processingStatus="",a.error("The selected file did not upload correctly. Please try again.",h),e.remove()},g.onCancelItem=function(e,t,n,r){_.processing=!1,_.processingStatus="",a.info("attachment upload cancelled."),e.remove()},g.onSuccessItem=function(t,n,r,i){s(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.associateFile({id:e.form.id},{fileId:v.id});case 3:return t.next=5,e.form.$refresh();case 5:return t.next=7,f();case 7:e.statusElem.text("the file has been uploaded succesfully"),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(0),_.processing=!1,_.processingStatus="",a.error("There was an error associating file with form template",h);case 15:return t.prev=15,g.clearQueue(),t.finish(15);case 18:case"end":return t.stop()}},t,this,[[0,10,15,18]])}))()},g.onCompleteAll=function(e){g.clearQueue(),g.destroy(),d()};e.go={download:function(e){o.getFileUrl({id:e}).then(function(e){n.open(e._string,"_blank")}).catch(function(e){a.error("The selected file did not download correctly. Please try again.","File Download Failed")})},delete:function(e){u(e)}};f({initLoad:!0})}]},{key:"link",value:function(e,t,n){e.statusElem=angular.element(t[0].querySelector(".attachment-status-alert"))}}]),t}(l.Component);angular.module("ec-forms-components").directive("cmpAttachments",function(){return new p(c,"attachments")})},{"base-component":36}],4:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={field:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$scope","$attrs","$window",function(e,t,n){function r(e){null!=e&&(o.template="super-input-radio"===e?"<"+e+'\n\t\t\t\t\tng-repeat="option in field._options track by $index"\n\t\t\t\t\tlabel="{{option}}"\n\t\t\t\t\tvalue="{{option}}"\n\t\t\t\t\tname="radio-group-'+s[0]+'"\n\t\t\t\t\tmodel="field.step.formFieldValues[\'\' + field.id + \'\']"\n\t\t\t\t\tis-disabled="vm.isDisabled"\n\t\t\t\t\tedit-mode="field.editMode"\n\t\t\t\t\tng-style="{width: field.config.colwidth}"\n\t\t\t\t\t></'+e+">":"<"+e+'\n\t\t\t\t\tng-repeat="option in field._options track by $index"\n\t\t\t\t\tlabel="{{option}}"\n\t\t\t\t\tvalue="{{option}}"\n\t\t\t\t\tname="{{option}}"\n\t\t\t\t\tmodel="field.step.formFieldValues[\'\' + field.id + \'-\' + $index + \'\']"\n\t\t\t\t\trequired="field._required"\n\t\t\t\t\tis-disabled="vm.isDisabled"\n\t\t\t\t\tedit-mode="field.editMode"\n\t\t\t\t\tng-style="{width: field.config.colwidth}"\n\t\t\t\t\t></'+e+">")}var i=new Uint32Array(1),s=n.crypto.getRandomValues(i),o=e.vm={template:"",validate:function(){return!0},isDisabled:e.field.disabled};e.field._required&&(o.validate=function(t,n){if(e.field.config.multiple)for(var r=0;r<e.field._options.length;r++)if(!0===t[e.field.id+"-"+r])return!0;return!!t[""+e.field.id]||n+" is required."});e.go={};e.$watch("field.config.multiple",function(t){e.field.config.selectType=!1===t?"super-input-radio":"super-input-checkbox",r(e.field.config.selectType)})}]}]),t}(a.Component);angular.module("ec-forms-components").directive("cmpCheckboxGroup",function(){return new c(l,"checkbox-group")})},{"base-component":36}],5:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={model:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$scope",function(e){e.vm={},e.go={}}]}]),t}(a.Component);angular.module("ec-forms-components").directive("cmpCredentialsList",function(){return new c(l,"credentials-list")})},{"base-component":36}],6:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={options:"=",field:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$scope","$element","ssValidateHlp","fieldsHlp",function(e,t,n,r){function i(){e.options=s.options.map(function(e){return e.value}),n.resetValidation(o)}var s=e.vm={},o=t.find("ul"),a=r.getValidator(e.field._fieldType),l=null;null==e.options&&(e.options=[]),s.options=e.options.map(function(e){return{value:e}}),e.$watch("vm.options",function(e,t){e!==t&&i()},!0),e.$watch("field.config.multiple",function(e,t){e!==t&&!1===e&&s.options.length<2&&(s.options.push({value:"Option 2"}),i())});e.go={addOption:function(){s.options.push({value:"Option "+(s.options.length+1)}),i()},dropOption:function(e,t,n){return l=t,n},moveOption:function(e,t){e>l&&e++,s.options.splice(e,1),i()},removeOption:function(t){if(e.field.config.selectType&&"super-input-radio"===e.field.config.selectType){if(2===s.options.length)return}else if(1===s.options.length)return;s.options.splice(t,1),i()},validate:function(){if("function"==typeof a){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.apply(null,t)}return!0}}}]}]),t}(a.Component);angular.module("ec-forms-components").directive("cmpDndOptions",function(){return new c(l,"dnd-options")})},{"base-component":36}],7:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={search:"=",filter:"=",type:"@",endpoint:"&"},p=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","$state","ssAsync","ssListSvc","$location","ssActiveUserSvc","ssFormInstancesApi","ssEmployeeApi","ssToastHlp","ssStorage","enumFormAdministratorType",function(e,t,n,i,s,o,a,l,c,p,u){function m(){y=0,b=0,S.formsAndPackets=[],d()}function d(){return null!=_&&(_.$abort(),_=null),_=n(regeneratorRuntime.mark(function t(){var n,i,s,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,y=S.isSorting?y:y+1,n=S.isSearching||S.isSorting?0:(y-1)*h,b=S.isSorting?b:b+h,i=e.endpoint(),i.config.limit=S.isSorting?b:h,i.config.offset=n,i.config=Object.assign(i.config,g(S.sortBy)),t.next=10,i.api(i.config);case 10:s=t.sent,v=parseInt(s.$headers["total-results"],10),s=f(s),s=s.filter(function(e){return"inactive"!==e.status}),S.formsAndPackets=S.isSorting?[].concat(r(s)):[].concat(r(S.formsAndPackets),r(s)),o=b-s.length,S.showInfScroll=s.length<v-o,t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),S.showInfScroll=!1;case 22:return t.prev=22,S.isLoading=!1,S.isSearching=!1,S.isSorting=!1,_=null,t.finish(22);case 28:case"end":return t.stop()}},t,this,[[0,19,22,28]])}))()}function f(e){return e.forEach(function(e){null!==e._formAdministrator.employeeId?e.adminName=e._formAdministrator.name:e.adminName=u.byValue(e._formAdministrator.formAdministratorType)||"None"}),e}function g(e){var t={};return t["sort["+e.field+"]"]=e.dir,t}var v,h=50,y=0,b=0,_=null,w={type:"FormTemplate",attributes:[{dueDateUtc:null,formTemplate:{formTemplateId:""},employee:{employeeId:""}}]},S=e.vm={formsAndPackets:[],showInfScroll:!0,isLoading:!1,isSearching:!1,isSorting:!1,sortCriteria:[{name:"Form Category",value:{field:"categoryname",dir:"asc"}},{name:"Form Administrator Type",value:{field:"formadministratortype",dir:"desc"}},{name:"Form Name (A-Z)",value:{field:"name",dir:"asc"}}]};S.sortBy=S.sortCriteria[0].value;e.go={initiateForm:function(e){e.initiating=!0;var t=null;n(regeneratorRuntime.mark(function n(){var r,i,l,p;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.getIdentityByType("employee");case 3:if(r=n.sent,1!==e._formAdministrator.formAdministratorType){n.next=6;break}throw"An Employee-Initiated form cannot be started by an employee who is also assigned as the Form Administrator.";case 6:return i=angular.copy(w),i.attributes[0].formTemplate.formTemplateId=e.id,i.attributes[0].employee.employeeId=r,n.next=11,a.send(i,{isemployeeinitiated:!0});case 11:l=n.sent,p=l[0]._steps.filter(function(e){return null!=e._stepParticipant}).map(function(e){return e._stepParticipant.employeeIds[0]}),r===l[0].currentStep._stepParticipant.employeeIds[0]?t="/ec-forms/inbox/"+l[0].id+"?returnUrl=/ec-forms/inbox&activeTab=initiate":c.success('"'+l[0].name+'" has been sent',"Form Sent",!1),t&&s.url(t),e.initiating=!1,n.next=23;break;case 19:n.prev=19,n.t0=n.catch(0),e.initiating=!1,c.error(n.t0,"Error",!1);case 23:case"end":return n.stop()}},n,this,[[0,19]])}))()},setInboxDefaultTab:function(){p.save("inboxDefaultTab","EmployeeInitiated",{persistent:!0,expires:null})}};e.$on("$destroy",e.$watch("vm.sortBy",function(e,t){e!==t&&(S.formsAndPackets=[],S.isSorting=!0,S.isLoading=!1,S.isSearching=!1,S.sortBy=e,d())})),e.$on("$destroy",e.$watch("search",function(e,t){e!==t&&(S.isSearching=!0,S.isLoading=!1,S.isSorting=!1,m())})),e.scrollData=function(){S.isLoading=!0,e.filter!==e.type&&y<0||S.showInfScroll&&null==_&&d()}}]}]),t}(l.Component);angular.module("ec-forms-components").directive("cmpEmpInitiatedTemplate",function(){return new p(c,"emp-initiated-template")})},{"base-component":36}],8:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={field:"=",group:"=",ignoreValidations:"=",org:"=?"},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$scope","$filter","ssValidationHlp","ssObjectHlp","fieldRendererHlp",function(e,t,n,r,i){function s(n){var r=i.getTag(n),s=i.getProperties(n,l),o=i.getContent(n,e.$root,t);p.template="<"+r+s+">"+o+"</"+r+">"}var o=r.glean,a=e.field,l=e.group,c=function(e){return e+" is required"},p=e.vm={template:""};e.validator={required:n.required(),numeric:n.numeric(),numericRequired:n.numeric({required:!0}),phone:n.phone(),phoneRequired:n.phone({required:!0}),ssn:n.ssn(),ssnRequired:n.ssn({required:!0}),email:n.email(),emailRequired:n.email({required:!0}),zip:n.zip(),zipRequired:n.zip({required:!0}),digitalSignatureRequired:n.object({required:!0},[function(e,t){return o(e,function(e){return e.isSigned&&null!=e.name&&""!==e.name.trim()||c(t)},c(t))}]),fileUploadRequired:n.string({required:!0})},i.bindConfigObject(e,"field._configJson","field.config"),e.$watch("ignoreValidations",function(){return Object.assign(e.field,{ignoreValidations:e.ignoreValidations})}),e.$watchGroup(["field._fieldType","field.overrideVisibility"],function(){return s(a)}),e.$watch(i.getVisibility(a),function(e){return p.visibility=e})}]}]),t}(a.Component);angular.module("ec-forms-components").directive("cmpFieldRenderer",function(){return new c(l,"field-renderer")})},{"base-component":36}],9:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={template:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$scope","$element","$document","ssAsync","ssEventSvc","ssToastHlp","ssFormTemplatesApi",function(e,t,n,r,i,s,o){function a(){e.$destroy(),e=null,t.remove(),t=null,p.removeClass(c),i.emit("fl-share-form-cancel")}var l=e.vm={formName:e.template._name,org:[],saving:!1},c="shown",p=angular.element(n[0].getElementById("modal-fade"));p.addClass(c);e.go={cancel:a,share:function(){l.saving=!0;var t=l.org[0];r(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.shareToOrg(e.template.id,{destinationOrgId:t.Id,destinationTemplateName:l.formName}).then(function(e){if(-1===e.status||e.status>=400)return 422===e.status?s.error(e.data.errors.Title,'Error sharing "'+l.formName+'" to '+t.Name+" ("+t.Id+")"):s.error("",'Error sharing "'+l.formName+'" to '+t.Name+" ("+t.Id+")"),void(l.saving=!1);s.success("",'"'+l.formName+'" has been shared to '+t.Name+" ("+t.Id+")"),a()}).catch(function(e){422===e.status?s.error(e.data.errors.Title,'Error sharing "'+l.formName+'" to '+t.Name+" ("+t.Id+")"):s.error(e,'Error sharing "'+l.formName+'" to '+t.Name+" ("+t.Id+")"),l.saving=!1});case 2:case"end":return n.stop()}},n,this)}))()}};angular.element(document.body).append(t)}]}]),t}(a.Component);angular.module("ec-forms-components").directive("cmpFlShareForm",function(){return new c(l,"fl-share-form")})},{"base-component":36}],10:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={search:"=",count:"=",filter:"=",type:"@",endpoint:"&"},p={0:"Complete Form",1:"Review Form",2:"Review & Approve",3:"View Form",4:"Review Profile"},u=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","$filter","$state","rAF","enumStepAction","enumFormStatus","ssAsync","ssObjectHlp","ssDateHlp","ssDateByOrgHlp","ssDueDateHlp",function(e,t,n,i,s,o,a,l,c,u,m){function d(){O=0,k=0,E.formsAndPackets=[],f()}function f(){return E.loading=!0,a(regeneratorRuntime.mark(function t(){var n,r,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,O=E.sorting?O:O+1,n=(O-1)*x,k=E.sorting?k:k+x,r=e.endpoint(),T=r.config.id,r.config.limit=E.sorting?k:x,r.config.offset=E.sorting?0:n,r.config=Object.assign(r.config,S(E.sortBy)),!r.config.id){t.next=15;break}return t.next=12,r.api(r.config);case 12:t.t0=t.sent,t.next=16;break;case 15:t.t0=null;case 16:s=t.t0,e.count=parseInt(s.$headers["total-results"],10),g(s),E.showInfScroll=k<e.count,t.next=25;break;case 22:t.prev=22,t.t1=t.catch(0),E.showInfScroll=!1;case 25:return t.prev=25,E.loading=!1,E.sorting=!1,t.finish(25);case 29:i(function(){E.loading=!1,e.$emit("forms-inbox.data-loaded")},e);case 30:case"end":return t.stop()}},t,this,[[0,22,25,29]])}))()}function g(e){e.forEach(function(e){e.userIsPrimary=null!==e._employee.employeeId&&e._employee.employeeId===T,h(e),e.formStatus=v(e),e._dueDateUtc&&(e.dueDateStatus=m.dueStatus(e,P.org))});var t=w(e);E.formsAndPackets=E.sorting?[].concat(r(t)):[].concat(r(E.formsAndPackets),r(t))}function v(e){if(!e.currentStep)return"No Workflow";if(!e.isUserStep){if(e.isSubmitted){var t=y(e._steps);return"Submitted "+u.utcIsoToRelativeMoment(e._steps[t]._submittedDtUtc,P.org).format("MM/DD/YY")}if(e.isComplete){return"Completed "+u.utcIsoToRelativeMoment(e._completionDateUtc,P.org).format("MM/DD/YY")}return e.isPending?"Workflow Pending":""}if(e.isRejected){return"Denied "+u.utcIsoToRelativeMoment(e.currentStep._submittedDtUtc,P.org).format("MM/DD/YY")+" "+b(e)}if(e.currentStep._lastModifiedDtUtc&&!e.isSubmitted&&!e.isComplete){return"Progress Saved "+u.utcIsoToRelativeMoment(e.currentStep._lastModifiedDtUtc,P.org).format("MM/DD/YY")}}function h(e){if(e.isUserStep=!1,e.isPending=!1,e.isSubmitted=!1,e.isComplete=!1,e.isRejected=!1,e.rejectedByUser=!1,e.stepActionName="undefined",e.stepActionLabel=null,e.currentStep&&(e.stepActionLabel=null!==e.currentStep._stepAction?p[e.currentStep._stepAction]:p[3],e.currentStep._stepAction===s.formEntry?e.stepActionName="Fill Out Form":e.stepActionName=s.byValue(e.currentStep._stepAction),e.isComplete=e.currentStep._stepAction===s.formCompleted,!e.isComplete)){var t=l.glean(e,function(e){return e.currentStep._meta.permissions.permittedActions.edit},!1),n=e._steps.indexOf(e.currentStep),r=y(e._steps);e.isSubmitted=n>=r&&null!=e._steps[r]._submittedDtUtc&&!c.isForeverPast(e._steps[r]._submittedDtUtc),null!=e.currentStep._stepParticipant&&angular.isArray(e.currentStep._stepParticipant.employeeIds)&&(e.isUserStep=e.currentStep._stepParticipant.employeeIds[0]===T),e.isUserStep&&e._statusId===o.rejected&&(e.isRejected=!0,2===e.currentStep._stepAction&&(e.rejectedByUser=!0)),e.isPending=!e.isUserStep&&!e.isSubmitted&&!t}}function y(e){for(var t=e.length-1;t>=0;t--)if(null!=e[t]._stepParticipant&&angular.isArray(e[t]._stepParticipant.employeeIds)&&e[t]._stepParticipant.employeeIds[0]===T)return e.indexOf(e[t])}function b(e){if(!e.rejectedByUser&&e.isUserStep){var t=e._steps.indexOf(e.currentStep)+1;return"by "+e._steps[t]._stepParticipant.name}return""}function _(e){var t=e.reduce(function(e,t){return e._completionDateUtc>t._completionDateUtc?e:t});return u.utcIsoToRelativeMoment(t._completionDateUtc,P.org).format("MM/DD/YY")}function w(e){var t=new Map;return e.map(function(e,n,r){var i,s,o,a;return e.isPacket=!1,
e.isInPacket?(t.has(e._packetInstance.instanceId)||t.set(e._packetInstance.instanceId,{name:e._packetInstance.name,isPacket:!0,isRejected:!1,showDetails:!1,content:[]}),s=e._packetInstance.completeFormInstanceIds.length,o=e._packetInstance.incompleteFormInstanceIds.length,a=s+o,i=t.get(e._packetInstance.instanceId),i.content.push(e),i.dueDateStatus=function(){var e=i.content.filter(function(e){return e.dueDateStatus&&"overdue"===e.dueDateStatus.class}),t=i.content.filter(function(e){return e.dueDateStatus&&"due-soon"===e.dueDateStatus.class});return e.length?{class:"overdue"}:t.length?{class:"due-soon"}:null}(),i.formStatus=function(){var e=i.content.filter(function(e){return e.isRejected});return e.length?(i.isRejected=!0,1===e.length?"form denied "+b(e[0]):e.length>1?e.length+" forms denied":void 0):0===o?"Completed "+_(i.content):s+"/"+a+" Forms Completed"}(),i.content.length>1?null:i):e}).filter(function(e){return null!=e})}function S(e){var t={};return t["sort["+e.field+"]"]=e.dir,t}var T,P=e.$root.utils.findInParentScope("routeVm",e),O=0,x=50,k=0,A=e.type,E=e.vm={formsAndPackets:[],showInfScroll:!0,loading:!1,refreshing:!1,sorting:!1,sortCriteria:[{name:"Most Recent",value:{field:"recentlysent",dir:"desc"}},{name:"Due Date",value:{field:"duedate",dir:"asc"}},{name:"Form/Packet Name (A-Z)",value:{field:"formname",dir:"asc"}}],type:A};E.sortBy=E.sortCriteria[1].value;e.go={complete:function(e){n.go("base.inboxFormInstance",{formInstanceId:e.id,activeTab:A})},toggleDetails:function(e){e.showDetails=!e.showDetails}};e.$watch("vm.sortBy",function(e,t){e!==t&&null!=E.formsAndPackets&&0!==E.formsAndPackets.length&&(E.sortBy=e,E.sorting=!0,f())}),e.$watch("search",function(e,t){e!==t&&d()}),e.scrollData=function(){e.filter!==e.type&&O<0||E.showInfScroll&&!E.loading&&f()}}]}]),t}(l.Component);angular.module("ec-forms-components").directive("cmpFormListGroup",function(){return new u(c,"form-list-group")})},{"base-component":36}],11:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={org:"=",form:"=",batch:"=",onComplete:"&?"},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$scope","ssAsync","$q","ssFormInstancesApi","$timeout","ssToastHlp","ssStorage","moment","$filter","$sce","ssDateByOrgHlp",function(e,t,n,r,i,s,o,a,l,c,p){function u(){m.inProgress=!1;var t=p.utcIsoToRelativeMoment(m.status._endedAtUtc,e.org),n=t.calendar(null,{sameDay:"[Sent Today at] LT",lastDay:"[Sent Yesterday at] LT",sameElse:"[Sent on] l [at] h:mm a"});m.statusHelperText=c.trustAsHtml(""+n),m.status._numFailed?(m.hasFailures=!0,m.sendStatusText=g+" sent to "+(m.numInBatch-m.numFailed)+" employees",m.progressMessage=m.numFailed+" failed to send",m.progressMessageClass="error",d||s.standard("",'"'+e.form._name+'" sent to '+m.numInBatch+" people, but only "+m.numComplete+" succeeded",!1)):(m.sendStatusText=g+" sent to "+m.numInBatch,m.progressMessage="Success!",m.progressMessageClass="success",d||s.success("",'"'+e.form._name+'" sent successfully to '+m.numInBatch+" "+(m.status._numInBatch>1?"people":"person"),!1),i(function(){v.removeBatch()},3e3))}var m=e.vm={progressMessage:"",status:"",sendStatusText:"",statusHelperText:"",percentComplete:"0%",loading:!0,inProgress:!1,showRemove:!0,loadingMessage:""},d=!1,f=!0,g="FormTemplate"===e.form._objectType?"Form":"Packet";m.formattedRecipientLength=l("number")(e.batch._includedEmployeeIds.length,0),m.sendStatusText="Sending "+g+" to "+m.formattedRecipientLength,m.statusHelperText=c.trustAsHtml("<strong>This may take several minutes.</strong> Sender will be notified and emailed when complete.");var v=e.go={removeBatch:function(){e.onComplete({batch:e.batch})},archiveBatch:function(){m.loadingMessage="Archiving batch...",m.loading=!0,m.status._isArchived=!0,m.status.$save().then(function(){v.removeBatch(),s.success("","Batch successfully archived")}).catch(function(e){console.error(e),s.error("","There was a problem archiving the batch. Please try again")}).finally(function(){m.loadingMessage="",m.loading=!1})}};(function(){function t(){r.getBatchStatus({id:e.batch.id}).then(function(e){switch(m.loading=!1,m.loadingMessage="",m.status=e,m.numInBatch=l("number")(m.status._numInBatch,0),m.numFailed=l("number")(m.status._numFailed,0),m.numComplete=l("number")(m.status._numComplete,0),m.status._status){case 0:m.progressMessage="Preparing to send",m.progressMessageClass="waiting",m.sendStatusText="Preparing "+g+" for "+m.formattedRecipientLength;break;case 1:m.inProgress=!0,m.sendStatusText="Sending "+g+" to "+m.formattedRecipientLength,m.percentComplete=m.status._percentComplete+"%";break;case 3:m.inProgress=!0,m.percentComplete="100%"}3===m.status._status||4===m.status._status||5===m.status._status?(d=f,i(function(){s.resolve()},3e3)):(f=!1,i(t,3e3))})}var s=n.defer();return m.loadingMessage="Preparing batch...",t(),s.promise})().then(function(){u()})}]}]),t}(a.Component);angular.module("ec-forms-components").directive("cmpFormSendStatus",function(){return new c(l,"form-send-status")})},{"base-component":36}],12:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){e.checked=!1}function a(e,t){if(e.length>0){var n={};return n["filter["+t+"]"]=e.map(function(e){return e.id}).join(","),n}return null}function l(e,t){var n={};if(null!=e){var r=e.split(" ").join(",");return n["filter["+t+"]"]=r,n}return null}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=e("base-component"),u={label:"@",model:"=",exclusions:"="},m=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),c(t,[{key:"controller",value:["$scope","$rootScope","$document","$element","ssAsync","ssListSvc","ssLocationSvc","ssJobTypeSvc","ssDepartmentSvc","ssEmployeeApi","enumEmployeeStatus","ssStringHlp","ssDateByOrgHlp","moment","ssToastHlp",function(e,t,n,r,i,s,c,p,u,m,d,f,g,v,h){function y(t){var n=e.exclusions.map(function(e){return{id:e.id}});return t.filter(function(e){return!n.find(function(t){return t.id===e.id})})}function b(e,t){var n=e.map(function(e){return e.id}),r=t.filter(function(e){return!n.includes(e.id)});r.forEach(function(e){t.splice(t.indexOf(e),1)}),r.length&&h.warn("One or more of the selected exclusions are not members of the current recipient group and have therefore been removed","")}e.routeVm=e.$root.utils.findInParentScope("routeVm",e);var _=v().format("MM/DD/YYYY"),w=null,S=null,T={selected:{},exclusions:[]},P=e.vm={asOf:_,formOpened:!1,filtering:!1,attempted:!1,selected:{location:[],jobType:[],employmentGroup:[],department:[],status:null,hireDateStart:null,hireDateEnd:null},employmentGroupDisabled:!1};i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.getAll();case 3:return P.locations=e.sent,e.next=6,p.getAll();case 6:return P.jobTypes=P.jobTypesAll=e.sent,e.next=9,s.getByExternalId("jobtype.employmentgroups");case 9:return P.employmentGroups=e.sent,P.employmentGroups=P.employmentGroups.map(function(e){return{_name:e.name,id:e.value}}),e.next=13,u.getAll();case 13:P.departments=e.sent,P.status=d.getEnums().map(function(e){return{_name:f.toProperCase(e.name.toLowerCase()),id:e.value}}),P.selected.status=[P.status.find(function(e){return e.id===d.active})],e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.error("ERROR",e.t0);case 21:case"end":return e.stop()}},e,this,[[0,18]])}))();var O=e.go={cancel:function(){P.formOpened=!1,P.filtering=!1,e.model.length&&(P.selected=angular.copy(T.selected,P.selected),e.exclusions=angular.copy(T.exclusions,e.exclusions))},resetFilters:function(){P.status[1].checked=!0,P.selected.status.push(P.status[1])},clearAllFilters:function(){P.selected.location=[],P.selected.jobType=[],P.selected.employmentGroup=[],P.selected.department=[],P.selected.status=[],P.selected.hireDateStart="",P.selected.hireDateEnd="",P.locations.forEach(o),P.jobTypes.forEach(o),P.employmentGroups.forEach(o),P.departments.forEach(o),P.status.forEach(o),e.exclusions=[],P.attempted=!1,P.filtering=!1},toggleFilter:function(){e.model.length||(O.clearAllFilters(),O.resetFilters()),P.formOpened=!P.formOpened},addGroup:function(){P.filtering=!0;var t=P.selected.hireDateStart&&P.selected.hireDateStart.toISOString()?g.startOfDayRelativeTo(v(P.selected.hireDateStart.toISOString()),e.routeVm.org):null,n=P.selected.hireDateEnd&&P.selected.hireDateEnd.toISOString()?g.endOfDayRelativeTo(v(P.selected.hireDateEnd.toISOString()),e.routeVm.org):null,r=Object.assign({},{fields:"firstname,lastname,id",limit:1e4,asOfTimeUtc:g.safeAsOfDateRelativeTo(v(P.asOf).startOf("day"),e.routeVm.org)},a(P.selected.location,"location"),a(P.selected.jobType,"jobType"),a(P.selected.employmentGroup,"employmentGroup"),a(P.selected.department,"department"),a(P.selected.status,"status"),l(t,"hiredatestart"),l(n,"hiredateend"));w=i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.query(r);case 3:S=t.sent,S=S.map(function(e){return{id:e.id}}),P.attempted=!0,b(S,e.exclusions),e.model=y(S),e.model.length&&(P.formOpened=!1,T.exclusions=angular.copy(e.exclusions,T.exclusions),T.selected=angular.copy(P.selected,T.selected)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error("error retrieving employees",t.t0);case 14:return t.prev=14,P.filtering=!1,w=null,t.finish(14);case 18:case"end":return t.stop()}},t,this,[[0,11,14,18]])}))()}};e.routeVm.removeGroup=function(){P.formOpened&&O.toggleFilter(),e.model=[],O.clearAllFilters(),O.resetFilters()},t.$on("$destroy",t.$on("parentAsOfDate-Change",function(e,t){null==t||null==t.asOf||""===t.asOf.toString()?P.asOf=_:P.asOf=v(t.asOf).format("MM/DD/YYYY")})),e.$on("destroy",e.$watch("vm.selected.jobType.length",function(e,t){e!==t&&(e>0?(P.employmentGroupDisabled=!0,P.selected.employmentGroup=[],P.employmentGroups.forEach(o)):P.employmentGroupDisabled=!1)})),e.$on("destroy",e.$watch("vm.selected.employmentGroup.length",function(e,t){if(e!==t)if(e>0){var n=P.selected.employmentGroup.map(function(e){return e.id}),r=P.jobTypesAll.map(function(e){return e._bargainingUnit.id});P.jobTypes=[];var i=r.filter(function(e){var t=e.split("_")[1];return!0===n.includes(t)});P.jobTypes=P.jobTypesAll.filter(function(e){return!0===i.includes(e._bargainingUnit.id)})}else P.jobTypes=P.jobTypesAll})),e.$on("destroy",e.$watch("vm.selected",function(e,t){e!==t&&w&&(w.$abort(),P.filtering=!1,P.attempted=!1)},!0))}]}]),t}(p.Component);angular.module("ec-forms-components").directive("cmpMultipleEmployeeSearch",function(){return new m(u,"multiple-employee-search")})},{"base-component":36}],13:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={fields:"=",showLabel:"@?",showRequired:"@?"},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$scope",function(e){e.vm={field:e.fields[0],showLabel:"false"!==e.showLabel,showRequired:"false"!==e.showRequired}}]}]),t}(a.Component);angular.module("ec-forms-components").directive("cmpPropertiesCustomCommon",function(){return new c(l,"properties-custom-common")})},{"base-component":36}],14:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$scope",function(e){e.vm={field:e.fields[0]},e.go={}}]}]),t}(a.Component);angular.module("ec-forms-components").directive("cmpPropertiesCustomDate",function(){return new c(l,"properties-custom-date")})},{"base-component":36}],15:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$scope","enumFieldWidths",function(e,t){var n=e.vm={newOption:"",field:e.fields[0],widths:t.getEnums().filter(function(e){return"Large"!==e.name&&"Full"!==e.name})};null==n.field._options&&(n.field._options=[])}]}]),t}(a.Component);angular.module("ec-forms-components").directive("cmpPropertiesCustomDropdown",function(){return new c(l,"properties-custom-dropdown")})},{"base-component":36}],16:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$scope","ssValidationHlp",function(e,t){var n=e.field=e.fields[0],r=(e.validator=t,e.vm={validator:{requiredUrl:t.url({require:!0})}}),i=(e.go={},/^((http|https):\/\/)/);e.$watch("field.config",function(t){e.$watch("field.config.location",function(e,t){e!==t&&(e&&0!==e.length&&!n.config.name?n.config.display=e:n.config.name?n.config.display=n.config.name:n.config.display="link will display here",!0===r.validator.requiredUrl(e)?(n.config.isValid=!0,i.test(n.config.location)||(n.config.location="http://"+n.config.location)):n.config.isValid=!1)}),e.$watch("field.config.name",function(e,t){e!==t&&(e&&0!==e.length?n.config.display=e:n.config.location?n.config.display=n.config.location:n.config.display="link will display here")})})}]}]),t}(a.Component);angular.module("ec-forms-components").directive("cmpPropertiesCustomFilelink",function(){return new c(l,"properties-custom-filelink")})},{"base-component":36}],17:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$scope","enumPersonnelCategory","enumMedicalCategory",function(e,t,n){var r=e.$root.utils.findInParentScope("formVm",e),i=e.vm={field:e.fields[0],personnel:t,medical:n,webFormCategory:r.formData._formFields[0]._documentCategory,webFormSubCategory:r.formData._formFields[0]._documentSubCategory,webFormCatSubCat:r.formData._formFields[0]._documentCategory+"-"+r.formData._formFields[0]._documentSubCategory,addToEmpRecord:!0};e.go={click:function(e){}};e.$watch("vm.addToEmpRecord",function(e,t){e!==t&&(r._updateEmployeeRecord=e,r.modelChanged())}),e.$watch("vm.webFormCatSubCat",function(e,t){if(e!==t){var n=e.split("-")[0],s=e.split("-")[1];i.field._updateEmployeeRecord=!0,i.field._documentCategory=n,i.field._documentSubCategory=s,r.modelChanged()}})}]}]),t}(a.Component);angular.module("ec-forms-components").directive("cmpPropertiesCustomFileupload",function(){return new c(l,"properties-custom-fileupload")})},{"base-component":36}],18:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$scope","enumFieldHeights","enumFieldWidths",function(e,t,n){var r=e.vm={field:e.fields[0],heights:t.getEnums(),widths:n.getEnums()};null!=r.field._label&&0!==r.field._label.length||(r.field._label="Input Label")}]}]),t}(a.Component);angular.module("ec-forms-components").directive("cmpPropertiesCustomInput",function(){return new c(l,"properties-custom-input")})},{"base-component":36}],19:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$scope",function(e){e.vm={field:e.fields[0]},e.go={}}]}]),t}(a.Component);angular.module("ec-forms-components").directive("cmpPropertiesCustomSectionhead",function(){return new c(l,"properties-custom-sectionhead")})},{"base-component":36}],20:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$scope",function(e){e.vm={field:e.fields[0],cols:[{name:"One",value:"100%"},{name:"Two",value:"50%"},{name:"Three",value:"33%"},{name:"Four",value:"25%"}]},e.go={}}]}]),t}(a.Component);angular.module("ec-forms-components").directive("cmpPropertiesCustomSelectbox",function(){return new c(l,"properties-custom-selectbox")})},{"base-component":36}],21:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$scope",function(e){e.vm={field:e.fields[0]},e.go={}}]}]),t}(a.Component);angular.module("ec-forms-components").directive("cmpPropertiesCustomSignature",function(){return new c(l,"properties-custom-signature")})},{"base-component":36}],22:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$scope","enumFieldWidths","fieldsHlp",function(e,t,n){var r=e.vm={field:e.fields[0],widths:t.getEnums()},i=n.getValidator(r.field._fieldType);e.go={validate:function(){if("function"==typeof i){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.apply(null,t)}return!0}}}]}]),t}(a.Component);angular.module("ec-forms-components").directive("cmpPropertiesCustomText",function(){return new c(l,"properties-custom-text")})},{"base-component":36}],23:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={fields:"=",canEdit:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$scope","ssEventSvc",function(e,t){var n=e.vm={activatableFields:e.fields.slice(2),commit:e.fields[2]._updateEmployeeRecord,hasExternalData:!0};e.$watch("canEdit",function(t,r){if(!1===t)for(var i=e.fields.length-1;i>=2;i--)e.fields[i]._updateEmployeeRecord=t,n.commit=!1}),e.$watch("vm.commit",function(n,r){if(n!==r){for(var i=e.fields.length-1;i>=2;i--)e.fields[i]._updateEmployeeRecord=n;t.emit("emp-record-commit",n,e)}}),n.hasExternalData=n.activatableFields.every(function(e){return e._externalData&&null!==e._externalData})}]}]),t}(a.Component);angular.module("ec-forms-components").directive("cmpPropertiesEmpRecord",function(){return new c(l,"properties-emp-record")})},{"base-component":36}],24:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={step:"=",form:"="},p=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","enumPersonnelCategory","enumMedicalCategory","ssEnum","ssAsync","ssEmployeeApi","ssEventSvc",function(e,t,n,i,s,o,a){function l(e,t,n){var i=m._stepEvents[t].eventActions;if(e){var s={eventAction:n};return m._stepEvents[t].eventActions=[].concat(r(i),[s]),m._stepEvents=m._stepEvents.slice(),s}m._stepEvents[t].eventActions=i.filter(function(e){return e.eventAction!==n}),m._stepEvents=m._stepEvents.slice()}function c(t,n){if(null!=m._stepEvents[0])for(var r=void 0,i=m._stepEvents[0].eventActions,s=0;s<i.length;s++)if(r=i[s],r.eventAction===u.stepEventAction.emailOthers){e.actions.hasOwnProperty(n)&&(void 0!=e.actions[n]&&null!=e.actions[n]||"emailIds"===n&&(e.actions[n]=[]),r.employeeIds=e.actions[n].map(function(e){return e.id})),m._stepEvents=m._stepEvents.slice();break}}function p(t){null==t||t.length<1||s(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.queryByIds({fields:"firstName,lastName"},{ids:t});case 2:e.actions.emailIds=n.sent;case 3:case"end":return n.stop()}},n,this)}))()}var u=e.vm={personnel:t,medical:n,stepAction:i.stepAction,stepEventAction:i.stepEventAction,stepEventType:i.stepEventType,stepParticipantType:i.stepParticipantType,webFormCategory:0,webFormSubCategory:t.otherDocuments,addToEmpRecord:!1},m=e.step,d=e.form,f=e.actions={};!function(){f.emailIds=[],null!=m._stepEvents&&(m._stepEvents[0].eventActions.forEach(function(e){e.eventAction===u.stepEventAction.emailFormSender?f.emailFormSender=!0:e.eventAction===u.stepEventAction.emailSupervisor?f.emailSupervisor=!0:e.eventAction===u.stepEventAction.emailOthers?(f.emailOthers=!0,
p(e.employeeIds)):e.eventAction===u.stepEventAction.emailEmployee?f.emailEmployee=!0:m.last&&e.eventAction===u.stepEventAction.addToEmployeeRecord&&(f.addToEmpRecord=!0)}),m._stepEvents[0].eventType=u.stepEventType.onComplete,u.addToEmpRecord=d._employeeRecord.addToEmployeeRecord,u.webFormSubCategory=d._employeeRecord.category+"-"+d._employeeRecord.subCategory,!1===d._employeeRecord.addToEmployeeRecord&&(u.webFormSubCategory=null))}();e.go={};e.$watch("vm.webFormSubCategory",function(e,t){if(e!==t){var n=e.split("-")[0],r=e.split("-")[1];d._employeeRecord.addToEmployeeRecord=!0,d._employeeRecord.category=n,d._employeeRecord.subCategory=r}}),e.$watch("actions.emailEmployee",function(e,t){e!==t&&l(e,0,u.stepEventAction.emailEmployee)}),e.$watch("actions.emailFormSender",function(e,t){e!==t&&l(e,0,u.stepEventAction.emailFormSender)}),e.$watch("actions.emailSupervisor",function(e,t){e!==t&&l(e,0,u.stepEventAction.emailSupervisor)}),e.$watch("actions.emailOthers",function(e,t){if(e!==t){var n=l(e,0,u.stepEventAction.emailOthers);e&&(n.employeeIds=[])}}),e.$watch("vm.addToEmpRecord",function(e,t){e!==t&&(d._employeeRecord.addToEmployeeRecord=e)}),e.$watch("actions.emailIds.length",function(e,t){e!==t&&c(0,"emailIds")}),e.$watch("step._stepAction",function(e,t){e!==t&&(m._stepEvents=[{eventType:u.stepEventType.onComplete,eventActions:[]}],f.emailOtherIds=[],m.last&&(f.addToEmpRecord=!0))})}]}]),t}(l.Component);angular.module("ec-forms-components").directive("cmpPropertiesFormComplete",function(){return new p(c,"properties-form-complete")})},{"base-component":36}],25:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={step:"="},p=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","ssEnum","ssAsync","ssEmployeeApi",function(e,t,n,i){function s(e,t,n){var i=c._stepEvents.find(function(e){return e.eventType===t.eventType}),s=i.eventActions;if(e){var o={eventAction:n};i.eventActions=[].concat(r(s),[o])}else i.eventActions=s.filter(function(e){return e.eventAction!==n});c._stepEvents=c._stepEvents.slice()}function o(e,n){var r=c._stepEvents.find(function(t){return t.eventType===e.eventType});if(r){var i=r.eventActions.find(function(e){return e.eventAction===t.stepEventAction.emailOthers});i&&(i.employeeIds=n.emails.map(function(e){return e.id}))}c._stepEvents=c._stepEvents.slice()}function a(){return[{title:"On Submit",eventType:t.stepEventType.onSubmit,eventActionEnum:t.stepAction.formEntry,eventActions:[{title:"Email Employee",eventAction:[t.stepEventAction.emailEmployee],checked:!1},{title:"Email Form Sender",eventAction:[t.stepEventAction.emailFormSender],checked:!1},{title:"Email Employee's Supervisor",eventAction:[t.stepEventAction.emailSupervisor],checked:!1,isDisabled:function(){return c._stepParticipant.participantType===t.stepParticipantType.employeeSSupervisor}},{title:"Email Others",eventAction:[t.stepEventAction.emailOthers],checked:!1,emails:[]}]},{title:"On Review",eventType:t.stepEventType.onReview,eventActionEnum:t.stepAction.reviewForm,eventActions:[{title:"Email Employee",eventAction:[t.stepEventAction.emailEmployee],checked:!1},{title:"Email Form Sender",eventAction:[t.stepEventAction.emailFormSender],checked:!1},{title:"Email Employee's Supervisor",eventAction:[t.stepEventAction.emailSupervisor],checked:!1,isDisabled:function(){return c._stepParticipant.participantType===t.stepParticipantType.employeeSSupervisor}},{title:"Email Others",eventAction:[t.stepEventAction.emailOthers],checked:!1,emails:[]}]},{title:"On Approve",eventType:t.stepEventType.onApprove,eventActionEnum:t.stepAction.reviewApproveOrDeny,eventActions:[{title:"Email Employee",eventAction:[t.stepEventAction.emailEmployee],checked:!1},{title:"Email Form Sender",eventAction:[t.stepEventAction.emailFormSender],checked:!1},{title:"Email Employee's Supervisor",eventAction:[t.stepEventAction.emailSupervisor],checked:!1,isDisabled:function(){return c._stepParticipant.participantType===t.stepParticipantType.employeeSSupervisor}},{title:"Email Others",eventAction:[t.stepEventAction.emailOthers],checked:!1,emails:[]}]},{title:"On Deny",eventType:t.stepEventType.onDeny,eventActionEnum:t.stepAction.reviewApproveOrDeny,eventActions:[{title:"Email Employee",eventAction:[t.stepEventAction.emailEmployee],checked:!1},{title:"Email Form Sender",eventAction:[t.stepEventAction.stopWorkFlow,t.stepEventAction.emailFormSender],checked:!1},{title:"Email Employee's Supervisor",eventAction:[t.stepEventAction.emailSupervisor],checked:!1,isDisabled:function(){return c._stepParticipant.participantType===t.stepParticipantType.employeeSSupervisor}},{title:"Email Others",eventAction:[t.stepEventAction.stopWorkFlow,t.stepEventAction.emailOthers],checked:!1,emails:[]}]},{title:"On Review",eventType:t.stepEventType.onEmployeeProfileReview,eventActionEnum:t.stepAction.employeeProfileReview,eventActions:[{title:"Email Employee",eventAction:[t.stepEventAction.emailEmployee],checked:!1},{title:"Email Form Sender",eventAction:[t.stepEventAction.emailFormSender],checked:!1},{title:"Email Employee's Supervisor",eventAction:[t.stepEventAction.emailSupervisor],checked:!1,isDisabled:function(){return c._stepParticipant.participantType===t.stepParticipantType.employeeSSupervisor}},{title:"Email Others",eventAction:[t.stepEventAction.emailOthers],checked:!1,emails:[]}]}]}var l=e.vm={stepEvents:new a},c=(e.go={eventClicked:function(e,t){t.eventAction.forEach(function(n){s(t.checked,e,n)})}},e.step);c._stepEvents&&c._stepEvents.length&&c._stepEvents.forEach(function(e){var r=e.eventActions.map(function(e){return e.eventAction}),s=[];if(r.includes(t.stepEventAction.emailOthers)){var o=e.eventActions.find(function(e){return e.eventAction===t.stepEventAction.emailOthers});s=o.employeeIds}var a=l.stepEvents.find(function(t){return t.eventType===e.eventType});a&&a.eventActions.forEach(function(e){e.eventAction.every(function(e){return r.indexOf(e)>-1})&&(e.checked=!0),s.length&&e.eventAction.includes(t.stepEventAction.emailOthers)&&n(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.queryByIds({fields:"firstName,lastName"},{ids:s});case 2:e.emails=t.sent;case 3:case"end":return t.stop()}},t,this)}))()})}),l.stepEvents.forEach(function(t,n){t.eventActions.forEach(function(t,r){t.emails&&e.$watch("vm.stepEvents["+n+"].eventActions["+r+"].emails.length",function(e,t){if(e!==t){var i=n,s=r;o(l.stepEvents[i],l.stepEvents[i].eventActions[s])}})})}),e.$watch("step._stepAction",function(e,n){e!==n&&(e===t.stepAction.formEntry?c._stepEvents=[{eventType:t.stepEventType.onSubmit,eventActions:[]}]:e===t.stepAction.reviewApproveOrDeny?c._stepEvents=[{eventType:t.stepEventType.onApprove,eventActions:[]},{eventType:t.stepEventType.onDeny,eventActions:[]}]:e===t.stepAction.reviewForm?c._stepEvents=[{eventType:t.stepEventType.onReview,eventActions:[]}]:e===t.stepAction.formCompleted?c._stepEvents=[{eventType:t.stepEventType.onComplete,eventActions:[]}]:e===t.stepAction.employeeProfileReview&&(c._stepEvents=[{eventType:t.stepEventType.onEmployeeProfileReview,eventActions:[]}]),l.stepEvents=new a)})}]}]),t}(l.Component);angular.module("ec-forms-components").directive("cmpPropertiesNotifications",function(){return new p(c,"properties-notifications")})},{"base-component":36}],26:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,l=function(){function e(e,t){var n=[],r=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,s=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=e("base-component"),u={form:"=",step:"="},m=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),c(t,[{key:"controller",value:["$scope","ssEnum","ssAsync","ssEmployeeApi","ssValidateHlp","ssValidationHlp","formsHlp","ssToastHlp",function(e,t,n,i,s,o,c,p){function u(e,t,n){var i=v._stepEvents[t].eventActions;if(e){var s={eventAction:n};return v._stepEvents[t].eventActions=[].concat(r(i),[s]),v._stepEvents=v._stepEvents.slice(),s}v._stepEvents[t].eventActions=i.filter(function(e){return e.eventAction!==n}),v._stepEvents=v._stepEvents.slice()}function m(t,n){if(null!=v._stepEvents[0])for(var r=void 0,i=v._stepEvents[0].eventActions,s=0;s<i.length;s++)if(r=i[s],r.eventAction===y.stepEventAction.emailOthers){e.actions.hasOwnProperty(n)&&(void 0!=e.actions[n]&&null!=e.actions[n]||"emailIds"===n&&(e.actions[n]=[]),r.employeeIds=e.actions[n].map(function(e){return e.id})),v._stepEvents=v._stepEvents.slice();break}}function d(e){null!=e&&n(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.get({id:e,fields:"firstName,lastName"},"",!1);case 3:n=t.sent,y.specificParticipant.push(n),g=angular.copy(n.id),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,this,[[0,8]])}))()}function f(t){null==t||t.length<1||n(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.queryByIds({fields:"firstName,lastName"},{ids:t});case 2:e.actions.emailIds=n.sent;case 3:case"end":return n.stop()}},n,this)}))()}var g,v=e.step,h=e.form,y=e.vm={specificParticipant:[],stepAction:t.stepAction,stepEventAction:t.stepEventAction,stepEventType:t.stepEventType,stepParticipantType:t.stepParticipantType,stepParticipant:t.stepParticipantType.getEnums().filter(function(e){return h._isEmployeeInitiated?0!==e.value&&3!==e.value:0!==e.value}),validator:{required:o.required()}},b=e.actions={};!function(){b.emailIds=[],null!=v._stepEvents&&(v._stepEvents[0].eventActions.forEach(function(e){e.eventAction===y.stepEventAction.emailFormSender?b.emailFormSender=!0:e.eventAction===y.stepEventAction.emailSupervisor?b.emailSupervisor=!0:e.eventAction===y.stepEventAction.emailOthers?(b.emailOthers=!0,f(e.employeeIds)):e.eventAction===y.stepEventAction.emailEmployee&&(b.emailEmployee=!0)}),v._stepEvents[0].eventType=y.stepEventType.onEmployeeProfileReview)}();e.go={selectParticipant:function(e){y.buttonLabel=e.name,v._stepParticipant.participantType=e.value,v._stepParticipant.employeeIds=y.specificParticipant=[]}};e.$watch("actions.emailEmployee",function(e,t){e!==t&&u(e,0,y.stepEventAction.emailEmployee)}),e.$watch("actions.emailFormSender",function(e,t){e!==t&&u(e,0,y.stepEventAction.emailFormSender)}),e.$watch("actions.emailSupervisor",function(e,t){e!==t&&u(e,0,y.stepEventAction.emailSupervisor)}),e.$watch("actions.emailOthers",function(e,t){if(e!==t){var n=u(e,0,y.stepEventAction.emailOthers);e&&(n.employeeIds=[])}}),e.$watch("actions.emailIds.length",function(e,t){e!==t&&m(0,"emailIds")}),e.$watchGroup(["form._steps.length","step._stepParticipant.participantType","step._stepParticipant.employeeIds"],function(n,r){var i=l(r,2),s=i[0],o=i[1];if(e.step._stepParticipant.participantType!==t.stepParticipantType.specificPerson||e.step._stepParticipant.employeeIds.length){var a=c.buildParticipantList(e.form._steps);c.updatePermissions({allSteps:e.form._steps,currentStep:e.step,participants:a,oldParticipantType:null!=s?s:null,oldEmployeeIds:o?o[0]:null})}}),function(){null==v._stepParticipant.participantType?y.buttonLabel="Please Select":y.buttonLabel=t.stepParticipantType.byValue(v._stepParticipant.participantType),v._stepParticipant.employeeIds.length&&d(v._stepParticipant.employeeIds[0])}(),e.$on("$destroy",e.$watch("vm.specificParticipant",function(e,t){return e.length?g&&e[0].id===g?void(g=null):(s.resetValidation(a),v._stepParticipant.employeeIds=y.specificParticipant.map(function(e){return e.id}),v._permissions[0].employeeId=v._stepParticipant.employeeIds[0],v._permissions[0].participantType=v._stepParticipant.participantType,void(v._permissions=v._permissions.slice())):(v._permissions[0].employeeId="",v._permissions[0].participantType=v._stepParticipant.participantType,void(v._permissions=v._permissions.slice()))}))}]},{key:"link",value:function(e,t,n){angular.element(document).ready(function(){a=angular.element(document.getElementById("step-participant-search"))})}}]),t}(p.Component);angular.module("ec-forms-components").directive("cmpPropertiesProfileReview",function(){return new m(u,"properties-profile-review")})},{"base-component":36}],27:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={form:"=",fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$scope","ssEventSvc","rAF",function(e,t,n){var r=e.vm={activatableFields:e.fields.slice(2),hasSensitiveFields:e.fields.some(function(e){return e._sensitive}),canEdit:!0};e.go={switchFieldTypes:function(t){var n=t?"edit":"view";e.fields[0]._fieldType=t?"heading":"readOnlyHeading",r.activatableFields.forEach(function(e){e._fieldTypeOptions&&e._fieldTypeOptions.view&&e._fieldTypeOptions.edit&&(e._fieldType=e._fieldTypeOptions[n])})}};r.canEdit=r.activatableFields.some(function(e){return e._fieldType&&!e._fieldType.includes("read")}),e.$watch("vm.canEdit",function(e,t){e!==t&&!1===e&&r.activatableFields.forEach(function(e){e._required=!1})}),r.canToggleFieldtype=r.activatableFields.every(function(e){return e._fieldTypeOptions&&e._fieldTypeOptions.view&&e._fieldTypeOptions.edit}),null==e.fields[0]._active&&(e.fields[0]._active=!0)}]}]),t}(a.Component);angular.module("ec-forms-components").directive("cmpPropertiesSmart",function(){return new c(l,"properties-smart")})},{"base-component":36}],28:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={form:"=",step:"="},p=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","ssAsync","ssEmployeeApi","enumStepParticipantType","ssModalSvc","ssEnum","formsHlp",function(e,t,n,i,s,o,a){function l(){return!!e.step.fieldGroups.length&&e.step.fieldGroups.reduce(function(e,t){return[].concat(r(e),r(t))},e.step.fieldGroups[0]).some(function(e){return 1==e._sensitive})}function c(e){e._permissions.forEach(function(e){null==e.participantType?e.display="select participant":e.participantType===i.specificPerson?e.emp?e.display=e.emp.fullName:e.employeeId.length?t(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.display="loading participant...",t.next=4,n.get({id:e.employeeId,fields:"firstname,lastname"},"",!1);case 4:e.emp=t.sent,e.display=e.emp.fullName,t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,this,[[0,8]])}))():e.display="select participant":e.display=i.byValue(e.participantType)})}var p=e.form,u=[],m=void 0;e.formVm=e.$root.utils.findInParentScope("formVm",e);var d=e.vm={},f=e.go={matchParticipant:function(e,t){return a.matchParticipant(e,t)},adjustStepAccess:function(t,n){var r=a.matchParticipant(n,e.step);return"canView"!==t||n[t]?"canViewSensitive"!==t||n[t]?"canEdit"===t?void(n[t]?e.formVm.suppressEditAccessModal||r?n.canView=!0:f.showEditModal().then(function(){n[t]=n.canView=!0}).catch(function(e){n[t]=!1,n.canView=!!n.canView}):n.canEditSensitive=!1):void("canEditSensitive"===t&&(e.formVm.suppressEditAccessModal||r||n.canEdit?n.canEdit=n.canViewSensitive=!0:f.showEditModal().then(function(){n.canEdit=n.canViewSensitive=!0}).catch(function(e){n[t]=n.canEdit=!1,n.canViewSensitive=!!n.canViewSensitive}))):void(n.canEditSensitive=!1):(n.canEdit=!1,n.canViewSensitive=!1,void(n.canEditSensitive=!1))},showEditModal:function(){var t={title:"Edit Step Access",content:"This form participant will have the ability to modify this form step only after it has been submitted by the primary participant.",primaryText:"Ok",secondaryText:"cancel",showSuppress:!0};return s.showStandard(t).then(function(t){e.formVm.suppressEditAccessModal=t.suppressTheModal}).catch(function(t){throw e.formVm.suppressEditAccessModal=t.suppressTheModal,"cancel"})}};!function(){if(e.step._permissions&&e.step._permissions.length){u.forEach(function(e){return e()});for(var t=0;t<e.step._permissions.length;t++)u.push(e.$watchGroup(["step._permissions["+t+"].canView","step._permissions["+t+"].canEdit","step._permissions["+t+"].canViewSensitive","step._permissions["+t+"].canEditSensitive"],function(t,n){null!=t&&angular.equals(t,n)||(e.step._permissions=e.step._permissions.slice())}))}}(),e.$watchCollection("step.fieldGroups",function(e,t){d.hasSensitiveFields=l()}),e.$watch("formVm.saving",function(t,n){null==t||angular.equals(t,n)||!1===t&&!0===n&&(m=a.buildParticipantList(p._steps),a.updatePermissions({allSteps:p._steps,currentStep:e.step,participants:m}),c(e.step))}),e.$watchGroup(["form._steps.length","step._stepParticipant.participantType","step._stepParticipant.employeeIds"],function(t,n){var r=n[1],s=n[2];e.step._stepParticipant.participantType===i.specificPerson&&!e.step._stepParticipant.employeeIds.length||(m=a.buildParticipantList(p._steps),a.updatePermissions({allSteps:p._steps,currentStep:e.step,participants:m,oldParticipantType:null!=r?r:null,oldEmployeeIds:s&&s.length?s[0]:null}),c(e.step))})}]}]),t}(l.Component);angular.module("ec-forms-components").directive("cmpPropertiesStepPermissions",function(){return new p(c,"properties-step-permissions")})},{"base-component":36}],29:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={form:"=",step:"="},p=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"controller",value:["$scope","ssEnum","ssAsync","ssEmployeeApi","ssValidateHlp","ssValidationHlp","ssToastHlp",function(e,t,n,r,i,s,a){function l(e){null!=e&&n(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.get({id:e,fields:"firstName,lastName"},"",!1);case 3:n=t.sent,u.specificParticipant.push(n),c=angular.copy(n.id),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,this,[[0,8]])}))()}var c,p=e.step,u=e.vm={specificParticipant:[],stepActions:[],stepParticipant:t.stepParticipantType,validator:{required:s.required()}};u.stepActions=t.stepAction.getEnums().filter(function(e){return e.value!==t.stepAction.formCompleted&&e.value!==t.stepAction.employeeProfileReview});e.go={selectParticipant:function(e){u.buttonLabel=e.name,p._stepParticipant.participantType=e.value,p._stepParticipant.employeeIds=u.specificParticipant=[]}};!function(){null==p._stepParticipant.participantType?u.buttonLabel="Please Select":u.buttonLabel=t.stepParticipantType.byValue(p._stepParticipant.participantType),p._stepParticipant.employeeIds.length&&l(p._stepParticipant.employeeIds[0])}(),e.$on("$destroy",e.$watch("vm.specificParticipant",function(e,t){if(e.length){if(c&&e[0].id===c)return void(c=null);i.resetValidation(o),p._stepParticipant.employeeIds=u.specificParticipant.map(function(e){return e.id})}}))}]},{key:"link",value:function(e,t,n){angular.element(document).ready(function(){o=angular.element(document.getElementById("step-participant-search"))})}}]),t}(l.Component);angular.module("ec-forms-components").directive("cmpPropertiesStep",function(){return new p(c,"properties-step")})},{"base-component":36}],30:[function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={step:"=",stepIndex:"="},p=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","ssAsync","ssEmployeeApi","ssModalSvc","enumStepParticipantType","fieldsHlp",function(e,t,n,i,s,o){var a,l=e.$root.utils.findInParentScope("formVm",e),c=e.routeVm=e.$root.utils.findInParentScope("routeVm",e),p=l.formData,u=(e.step,null),m=e.vm={stepParticipant:s,participantLabel:""};e.$watch("stepIndex",function(e,t){m.stepIndex=parseInt(e,10)}),e.$watch("step._stepParticipant",function(e,r){e&&(e.participantType===s.specificPerson?e.employeeIds&&e.employeeIds.length&&t(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.get({id:e.employeeIds[0],fields:"firstName,lastName"});case 2:return r=t.sent,m.participantLabel=r._firstName+" "+r._lastName,t.abrupt("return");case 5:case"end":return t.stop()}},t,this)}))():e.participantType||0===e.participantType?m.participantLabel=m.stepParticipant.byValue(e.participantType):m.participantLabel="select participant")},!0);var d=e.go=(a={fieldGroupSettings:function(t,n){t.stopPropagation(),c.vm.selectedFormObject=n,e.$emit("component-properties",n[0].config.cmp,n)},removeFieldGroup:function(e,t){var n=l.formData._formFields;l.modelChanged(),e[0]._fieldGroup&&e[0]._fieldGroup.length&&(c.added[e[0]._fieldGroup]=!1),e.forEach(function(e){c.commitToEmployeeRecord.includes(e.id)&&c.commitToEmployeeRecord.splice(c.commitToEmployeeRecord.indexOf(e.id),1),n.splice(n.indexOf(e),1)}),t.fieldGroups.splice(t.fieldGroups.indexOf(e),1)},dropFieldGroup:function(t,n,r,i,s){var a;if(l.modelChanged(),"fieldGroup"===i)return 0===s.fieldGroups.length&&(n=0),u={index:n,step:s},r;if(a=o.getFields(r.fields,r.component),r.allowMultiple){var m=new Date;a.map(function(e){return null!=e._fieldGroup&&(e._fieldGroup+="-"+m.getTime()),e})}else c.added[r.fields]=!0;return a.forEach(function(e){e.disabled=!0}),Array.prototype.splice.apply(p._formFields,[0,0].concat(a)),e.$emit("component-properties",r.component,a),c.vm.selectedFormObject=a,a},movedFieldGroup:function(e,t,n){u.step.fieldGroups[u.index]=t.filter(function(e){return!0}),n.fieldGroups.splice(e,1)}},r(a,"removeFieldGroup",function(e,t){var n=p._formFields;l.modelChanged(),e[0]._fieldGroup&&e[0]._fieldGroup.length&&(c.added[e[0]._fieldGroup]=!1),e.forEach(function(e){n.splice(n.indexOf(e),1)}),t.fieldGroups.splice(t.fieldGroups.indexOf(e),1)}),r(a,"removeStep",function(t,n,r){t.stopPropagation();var s=void 0;if(s=r.indexOf(c.vm.selectedFormObject)>n?r.indexOf(c.vm.selectedFormObject)-1:n-1<0?0:n-1,null==e.step.fieldGroups||0===e.step.fieldGroups.length){var o=r.splice(n,1)[0];p._steps.splice(p._steps.indexOf(o),1),e.$emit("component-properties","step",r[s]),c.vm.selectedFormObject=r[s]}else{var a={title:"Remove Step",content:"Removing this step will also remove any fields that are assigned to it.",primaryText:"Remove Step",secondaryText:"Cancel"};i.showDestructive(a).then(function(){var t=r.splice(n,1)[0];if(null!=t.fieldGroups)for(var i=t.fieldGroups.length;i--;){var o=t.fieldGroups[i];d.removeFieldGroup(o,t)}p._steps.splice(p._steps.indexOf(t),1),e.$emit("component-properties","step",r[s]),c.vm.selectedFormObject=r[s]})}l.modelChanged()}),a)}]}]),t}(l.Component);angular.module("ec-forms-components").directive("cmpStepRenderer",function(){return new p(c,"step-renderer")})},{"base-component":36}],31:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l=e("fl-ui-form-renderer"),c={field:"=",group:"="},p=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$scope","$filter","fieldsHlp",function(e,t,n){function r(n){var r=(0,l.fieldTemplateHlp)().getTag(n),i=(0,l.fieldTemplateHlp)().getProperties(n,s),a=(0,l.fieldTemplateHlp)().getContent(n,e.$root,t);o.template="<"+r+i+">"+a+"</"+r+">"}var i=e.field,s=e.group;(0,l.bindConfigObject)(e,"field._configJson","field.config");var o=e.vm={template:"",style:{}},a=n.getValidator(i._fieldType);e.go={validate:function(){if("function"==typeof a){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.apply(null,t)}return!0}};i.config.width&&(o.style.width=i.config.width,e.$watch("field.config.width",function(e){return o.style.width=e})),e.$watch("field._fieldType",function(){return r(i)}),e.$watch((0,l.fieldTemplateHlp)().getVisibility(i),function(e){return o.visibility=e})}]}]),t}(a.Component);angular.module("ec-forms-components").directive("cmpTemplateFieldRenderer",function(){return new p(c,"template-field-renderer")})},{"base-component":36,"fl-ui-form-renderer":1}],32:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={template:"=",org:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",
value:["$scope","$state","$location","buildConfig","ssAsync","ssActiveUserSvc","ssModalSvc","ssFormTemplatesApi","ssStatusApi","enumFormTemplateStatus","enumFormAdministratorType","ssFormInstancesApi","ssArrayHlp","ssToastHlp","ssEventSvc","ssObjectHlp",function(e,t,n,r,i,s,o,a,l,c,p,u,m,d,f,g){var v=e.routeVm=e.$root.utils.findInParentScope("routeVm",e),h=r.sharedFormsOrg,y=g.glean(e,function(e){return e.$root.isPermitted.activeUser.idmAdministrator},!1),b={type:"FormTemplate",attributes:[{dueDateUtc:null,formTemplate:{formTemplateId:""},employee:{employeeId:""}}]},_=e.vm={pendingMessage:"",showShare:!1};e.go={delete:function(e){var t={title:"Delete Form Template",content:"Once deleted, this form template will be removed and cannot be retrieved.",primaryText:"Delete Template",secondaryText:"Cancel"};o.showDestructive(t).then(function(){v.loading=!0,v.loadingMessage='Deleting "'+e._name+'"',i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$remove();case 3:return t.next=5,v.loadFormTemplates(!1);case 5:d.success("",'"'+e._name+'" has been deleted'),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:return t.prev=10,v.loading=!1,v.loadingMessage=null,t.finish(10);case 14:case"end":return t.stop()}},t,this,[[0,8,10,14]])}))()})},sendToSelf:i(regeneratorRuntime.mark(function e(t){var r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.isPending=!0,_.pendingMessage='Initiating "'+t._name+'"',r=null,e.next=5,s.getIdentityByType("employee");case 5:if(i=e.sent,e.prev=6,t._formAdministrator.formAdministratorType!==p.formPacketSender){e.next=9;break}throw"An Employee-Initiated form cannot be started by an employee who is also assigned as the Form Administrator.";case 9:return o=angular.copy(b),o.attributes[0].formTemplate.formTemplateId=t.id,o.attributes[0].employee.employeeId=i,e.next=14,u.send(o,{isemployeeinitiated:!0});case 14:a=e.sent,i===a[0].currentStep._stepParticipant.employeeIds[0]?r="/ec-forms/inbox/"+a[0].id+"?from=/ec-forms&returnUrl=/ec-forms/inbox":d.success('"'+a[0].name+'" has been sent',"Form Sent",!1),r&&n.url(r),t.isPending=!1,_.pendingMessage="",e.next=27;break;case 22:e.prev=22,e.t0=e.catch(6),d.error(e.t0,"Error",!1),t.isPending=!1,_.pendingMessage="";case 27:case"end":return e.stop()}},e,this,[[6,22]])})),send:function(e){t.go("base.send",{id:e.id,type:"FormTemplate"})},preview:function(e){n.url("/ec-formbuilder/form/"+e.id+"/preview?returnUrl=/ec-forms/")},edit:function(e){if("active"===e.status){var t={title:"Edit Form Template",content:"Editing will deactivate and disable it from being sent until it has been reactivated. Prior recipients will not receive changes made.",primaryText:"Edit Template",secondaryText:"Cancel"};o.showStandard(t).then(function(){var t="/ec-formbuilder/form/"+e.id+"/builder?deactivate=true";n.url(t)})}else{var r="/ec-formbuilder/form/"+e.id+"/builder";n.url(r)}},copy:function(e){e.isPending=!0,_.pendingMessage="Copying "+e._name,i(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.copy({id:e.id});case 3:return n=t.sent,t.next=6,v.loadFormTemplates(!1);case 6:m.findWhere(v.displayTemplates,{id:n.id}).isHighlighted=!0,d.success("",n._name+" created"),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:return t.prev=12,e.isPending=!1,_.pendingMessage=null,t.finish(12);case 16:case"end":return t.stop()}},t,this,[[0,10,12,16]])}))()},archive:function(e){var t={title:"Archive Form Template",content:e._name+" will not be deleted, but will be removed from this list.",primaryText:"Archive Template",secondaryText:"Cancel"};o.showDestructive(t).then(function(){e.isPending=!0,_.pendingMessage='Archiving "'+e._name+'"',i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.update({id:e.id},{statusId:c.archived,from:(new Date).toISOString()});case 3:return t.next=5,v.loadFormTemplates(!1);case 5:d.success("",'"'+e._name+'" has been archived'),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:return t.prev=10,e.isPending=!1,_.pendingMessage=null,t.finish(10);case 14:case"end":return t.stop()}},t,this,[[0,8,10,14]])}))()})},deactivate:function(e){var t={title:"Deactivate Form Template",content:"Deactivating this template will disable it from being sent.",primaryText:"Deactivate",secondaryText:"Cancel"};o.showDestructive(t).then(function(){v.loading=!0,v.loadingMessage='Deactivating "'+e._name+'"',a.editActive(e).then(function(t){v.loadFormTemplates(!1).then(function(){v.loading=!1,v.loadingMessage=null}).catch(function(t){d.error('There was a problem deactivating "'+e._name+'"',"Form Template")})}).catch(function(t){d.error('There was a problem deactivating "'+e._name+'"',"Form Template")})})},canShare:function(t){return y&&"active"===t.status&&e.org.id===h},share:function(){_.showShare=!0}};f.on("fl-share-form-cancel",function(){_.showShare=!1},e)}]}]),t}(a.Component);angular.module("ec-forms-components").directive("cmpTemplateListForm",function(){return new c(l,"template-list-form")})},{"base-component":36}],33:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-component"),l={template:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$scope","$state","$location","ssAsync","ssPacketsApi","ssModalSvc","ssFormTemplatesApi","ssStatusApi","enumFormTemplateStatus","ssToastHlp",function(e,t,n,r,i,s,o,a,l,c){var p=e.routeVm=e.$root.utils.findInParentScope("routeVm",e);e.go={send:function(e){t.go("base.send",{id:e.id,type:"Packet"})},toggleDetails:function(e){e.detailsOpen||e.contents||(e.loading=!0,r(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.get({id:e.id});case 3:return e.contents=t.sent,n=e.contents._formTemplateIds,t.next=7,n.map(function(e){return o.get({include:"steps,statusHistory",id:e})});case 7:e.contents.forms=t.sent,e.contents.forms.forEach(p.extendCommonProps),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(0);case 13:return t.prev=13,e.loading=!1,t.finish(13);case 16:case"end":return t.stop()}},t,this,[[0,11,13,16]])}))()),e.detailsOpen=!e.detailsOpen},editPacket:function(e){var t="/ec-formbuilder/packet/"+e.id+"/builder";n.url(t)},editForm:function(e){if("active"===e.status){var t={title:"Edit Form Template",content:"Editing will deactivate and disable it from being sent until it has been reactivated. Prior recipients will not receive changes made.",primaryText:"Edit Template",secondaryText:"Cancel"};s.showStandard(t).then(function(){var t="/ec-formbuilder/form/"+e.id+"/builder?deactivate=true";n.url(t)})}else{var r="/ec-formbuilder/form/"+e.id+"/builder";n.url(r)}}}}]}]),t}(a.Component);angular.module("ec-forms-components").directive("cmpTemplateListPacket",function(){return new c(l,"template-list-packet")})},{"base-component":36}],34:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={search:"=",sentBySort:"=",sortBy:"=",category:"=",type:"@",endpoint:"&",location:"=",count:"=?",emplId:"="},p=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","$location","ssAsync","ssEnum","ssFormInstancesApi","ssStorage","ssToastHlp","ssDateByOrgHlp","ssDueDateHlp",function(e,t,n,i,s,o,a,l,c){function p(){null!=h.getFormCountsPromise&&(h.getFormCountsPromise.$abort(),h.getFormCountsPromise=null),h.getFormCountsPromise=n(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={from:h.dateSent.from.toISOString(),to:h.dateSent.to.toISOString()},r=o.load("trackFormsFilters"),_&&r&&(e.category=r[0].category,e.search=r[0].search,e.location=r[0].location,e.sentBySort=r[0].sentby,e.sortBy=r[0].sort),null!=e.search&&e.search.length>0&&(n["filter[search]"]=e.search),null!=e.location&&"-1"!==e.location&&(n["filter[locationIds]"]=e.location),"recentlysent"===e.sortBy?n["sort["+e.sortBy+"]"]="desc":n["sort["+e.sortBy+"]"]="asc",null!=e.sentBySort&&"0"!==e.sentBySort&&(delete n["filter[formadministrator]"],delete n["filter[creatorId]"],n["filter["+e.sentBySort+"]"]=e.emplId),null!==u()&&(n.resolvemethod=u()),t.next=11,s.getFormCounts(n);case 11:h.counts=t.sent,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),a.warn("There was a problem getting the total counts for each section. Try refreshing your browser.","Form Counts");case 17:return t.prev=17,h.getFormCountsPromise=null,t.finish(17);case 20:case"end":return t.stop()}},t,this,[[0,14,17,20]])}))()}function u(){var e=t.search().resolvemethod;return"ReadModel"===e||"Mongo"===e?e:null}function m(){S.loading=!0,null!=h.getFormsPromise&&(h.getFormsPromise.$abort(),h.getFormsPromise=null),h.getFormsPromise=n(regeneratorRuntime.mark(function t(){var n,i,s,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,b++,n=(b-1)*y,i=e.endpoint(),i.config.limit=y,i.config.offset=n,s=o.load("trackFormsFilters"),_&&s&&(e.category=s[0].category,e.search=s[0].search,e.location=s[0].location,e.sentBySort=s[0].sentby,e.sortBy=s[0].sort),null!=e.search&&e.search.length>0&&(i.config["filter[search]"]=e.search),null!=e.location&&"-1"!==e.location&&(i.config["filter[locationIds]"]=e.location),"recentlysent"===e.sortBy?i.config["sort["+e.sortBy+"]"]="desc":i.config["sort["+e.sortBy+"]"]="asc",null!=e.sentBySort&&"0"!==e.sentBySort&&(delete i.config["filter[formadministrator]"],delete i.config["filter[creatorId]"],i.config["filter["+e.sentBySort+"]"]=e.emplId),t.prev=12,t.next=15,i.api(i.config);case 15:l=t.sent,l&&(l.forEach(d),w=v(l),S.formsAndPackets=[].concat(r(S.formsAndPackets),r(w)),S.showInfScroll=l.length&&l.length<parseInt(l.$headers["total-results"],10)),t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(12),t.t0;case 22:t.next=28;break;case 24:t.prev=24,t.t1=t.catch(0),S.showInfScroll=!1,a.error("There was an error retrieving Form Instances","");case 28:return t.prev=28,S.loading=!1,S.scrolling=!1,_=!1,o.clear("trackFormsFilters"),h.getFormsPromise=null,t.finish(28);case 35:case"end":return t.stop()}},t,this,[[0,24,28,35],[12,19]])}))()}function d(e){var t=i.formStatus.byValue(e._statusId).toLowerCase();e.isPacket=!1,e.primaryRecipient=e._employee,e.creatorId=e._creator.employeeId,e.isComplete="complete"===t,e.isRejected="rejected"===t,e.dueDateStatus=c.dueStatus(e,h.org),e.totalSteps=e._steps.filter(function(e){return 3!==e._stepAction}).length,e.searchText=e.name+" "+e.primaryRecipient.name,e.sentDate=l.utcIsoToRelativeMoment(e._createdUtc,h.org).format("M/D/YY"),e._lastReminderSentUtc&&(e.reminderSentDate=l.utcIsoToRelativeMoment(e._lastReminderSentUtc,h.org).format("M/D/YY")),f(e),g(e)}function f(t){null!=t.currentStep&&(t.currentStepIndex=t._steps.indexOf(t.currentStep),t.prevStep=0===t.currentStepIndex?t._steps[0]:t._steps[t.currentStepIndex-1],t.prevStepNum=t._steps.indexOf(t.prevStep)+1,t.currentStepAction=i.stepAction.byValue(t.currentStep._stepAction)||"undefined",null!=t.currentStep._stepParticipant&&(t.isUser=e.emplId===t.currentStep._stepParticipant.employeeIds[0],t.currentStepParticipantName=t.currentStep._stepParticipant.name||"undefined",t.currentStepMeta=t.isRejected?"Denied by "+t.currentStepParticipantName:t.currentStepAction+" | "+t.currentStepParticipantName))}function g(e){if(null!=e.currentStepIndex){var t=!1;e._steps.forEach(function(n){n.id===e._steps[e.currentStepIndex].id?(n.stepStatus=i.formStatus.byValue(e._statusId),t=!0):n.stepStatus=t?i.formStatus.byValue(0):i.formStatus.byValue(1),n.stepStatus=n.stepStatus.toLowerCase()})}}function v(t){var n=new Map;return t.map(function(t){var r;if(!t.isInPacket)return t;if(!n.has(t._packetInstance.instanceId)){var i=t._packetInstance.completeFormInstanceIds.length,s=t._packetInstance.incompleteFormInstanceIds.length,o={type:e.type,_employee:t._employee,name:t._packetInstance.name,isPacket:!0,primaryRecipient:t.primaryRecipient,creatorId:t.creatorId,searchText:t._packetInstance.name+" "+t.primaryRecipient.name,currentStepMeta:null,dueDateStatus:null,sentDate:t.sentDate,isRejected:!1,isComplete:0===s,content:[],completeCount:i,incompleteCount:s,totalFormsCount:i+s};o.packetCount=o.isComplete?"complete":o.completeCount+"/"+o.totalFormsCount+" forms complete",n.set(t._packetInstance.instanceId,o)}return r=n.get(t._packetInstance.instanceId),r.content.push(t),r.dueDateStatus=function(){var e=r.content.filter(function(e){return e.dueDateStatus&&"overdue"===e.dueDateStatus.class}),t=r.content.filter(function(e){return e.dueDateStatus&&"due-soon"===e.dueDateStatus.class});return e.length?{class:"overdue"}:t.length?{class:"due-soon"}:null}(),r.currentStepMeta=function(){var e=r.content.filter(function(e){return e.isRejected});return e.length?(r.isRejected=!0,1===e.length?"form denied by "+e[0].currentStepParticipantName:e.length>1?e.length+" forms denied":void 0):""}(),r.content.length>1?null:(r.countByType=function(e){return filter()},r)}).filter(function(e){return null!=e})}var h=e.routeVm=e.$root.utils.findInParentScope("routeVm",e),y=50,b=0,_=!0,w=[],S=e.vm={loading:!1,showInfScroll:!1,formsAndPackets:[]},T=e.go={refreshData:n(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w=S.formsAndPackets=[],b=0,e.next=5,m();case 5:return e.next=7,p();case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}},e,this,[[0,9]])}))};e.scrollData=function(){S.scrolling||(S.scrolling=!0,m())},e.$watchGroup(["sortBy","search","sentBySort","location","routeVm.dateSent"],function(e,t){_||e===t||T.refreshData()}),e.$watch("type",function(e,t){m(),p()})}]}]),t}(l.Component);angular.module("ec-forms-components").directive("cmpTrackedFormGroup",function(){return new p(c,"tracked-form-group")})},{"base-component":36}],35:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={form:"=",statusUpdated:"&?",type:"="},p=new Map,u=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$scope","$location","$window","filenameHlp","ssStorage","ssAsync","ssEnum","ssFormInstancesApi","ssEmployeeApi","ssFormTemplatesApi","ssToastHlp","ssModalSvc","ssObjectHlp",function(e,t,n,i,s,o,a,l,c,u,m,d,f){function g(e){var t=[],n=e._steps.filter(function(e){return b.test(e._formFieldValues)&&3!==e._stepAction}).map(function(e){return e._formFieldValues});return n.length&&n.forEach(function(e){var n=JSON.parse(e);Object.keys(n).filter(function(e){return Array.isArray(n[e])}).filter(function(e){return n[e].every(function(e){return!!e.filename})}).forEach(function(e){var i;t=(i=t).concat.apply(i,r(v(n[e])))})}),t}function v(e){return e.map(function(e){var t=i.getExtension(e.filename),n=i.getIcon(t);return{id:e.id,filename:e.filename,ext:t,icon:n}})}var h=e.routeVm=e.$root.utils.findInParentScope("routeVm",e),y=e.form,b=/.*{"filename":.*/,_=e.vm={loadingContact:!0,openDetails:!1,showContactToggle:!0};_.showContactToggle=function(t){return!!f.glean(e,function(e){return e.$root.isPermitted.activeUser.idmAdministrator},!1)||["emails","phoneNumbers"].map(function(e){return!!t._employee.meta&&t._employee.meta.permissions.permittedActualProperties[e]}).some(function(e){return 0!==e})}(e.form),e.$watch("form",function(e,t){e.isPacket?e.content.forEach(function(e){return e.filesOnInstance=g(e)}):e.filesOnInstance=g(e)});e.go={download:function(e){e.forEach(function(e){u.getFileUrl({id:e.id}).then(function(e){n.open(e._string,"_blank")})})},viewForm:function(e){s.save("trackFormsFilters",[{category:h.selectedCategory,sort:h.sortBy,search:h.search,sentby:h.sentByParticipant,location:h.sentToLocation}],{persistent:!0,expires:!1}),t.url("/ec-forms/inbox/"+e.id+"?returnUrl=/ec-forms-tracking/")},remove:function(t){var n=t.isInPacket?"Form in Packet":"Form",r={title:"Delete "+n,content:"Are you sure you want to delete this form? This form will be deleted and cannot be retrieved.",primaryText:"Delete",secondaryText:"Cancel"};d.showDestructive(r).then(function(){o(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$remove();case 3:m.success("Form removed successfully."),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),m.error('There was an error deleting "'+t.name+'"',"Error");case 9:return n.prev=9,e.statusUpdated(),n.finish(9);case 12:case"end":return n.stop()}},n,this,[[0,6,9,12]])}))()})},toggleContact:function(){o(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,_.loadingContact=!0,p.has(y.primaryRecipient.employeeId)){e.next=9;break}return e.next=5,c.get({id:y.primaryRecipient.employeeId,include:"PhoneNumbers,Emails"});case 5:t=e.sent,p.set(y.primaryRecipient.employeeId,t),e.next=10;break;case 9:t=p.get(y.primaryRecipient.employeeId);case 10:_.empPhone=t.bestContactNumber&&t.bestContactNumber.formatted||"None",_.empEmail=t.bestContactEmail||"None",e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),m.error('There was an error retreiving employee information for "'+y.primaryRecipient.name+'"',"Error");case 17:return e.prev=17,_.loadingContact=!1,e.finish(17);case 20:case"end":return e.stop()}},e,this,[[0,14,17,20]])}))()},updateFormStatus:function(t,n){var r=a.formStatus[n.toLowerCase()],i=t.isInPacket?"Packet":"Form",s={title:"Archive "+i,content:"Are you sure you want to archive this "+i+"?",primaryText:"Archive",secondaryText:"Cancel"};d.showDestructive(s).then(function(){o(regeneratorRuntime.mark(function i(){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,l.updateStatus({id:t.id,newStatus:r});case 3:m.success(t.name+" has been marked as "+n,"Form Status Updated",!1),e.statusUpdated(),i.next=10;break;case 7:i.prev=7,i.t0=i.catch(0),m.error("There was an error updating the status of "+t.name,"Error",!1);case 10:case"end":return i.stop()}},i,this,[[0,7]])}))()})},updateEmpRecord:function(t){var n={title:"<h2>Move to Employee Record</h2>",personnel:a.personnelCategory,medical:a.medicalCategory,webFormSubCategory:"0-8",content:'<p>Please select a location to move "'+t.name+'"<br/>to '+t.primaryRecipient.name+'\'s Employee Record</p>\n\t\t\t\t\t\t<super-select-list model="webFormSubCategory">\n\t\t\t\t\t\t\t<li><h4>Personnel Documents</h4></li>\n\t\t\t\t\t\t\t<super-select-list-item ng-repeat="item in personnel.enums" value="\'0-\' + item.value" label="item.name"></super-select-list-item>\n\t\t\t\t\t\t\t<li><hr class="divider"/></li>\n\t\t\t\t\t\t\t<li><h4>Medical Documents</h4></li>\n\t\t\t\t\t\t\t<super-select-list-item ng-repeat="item in medical.enums" value="\'1-\' + item.value" label="item.name"></super-select-list-item>\n\t\t\t\t\t\t</super-select-list>',primaryText:"Continue",secondaryText:"Cancel"};d.showStandard(n).then(function(n){var r=n.webFormSubCategory.split("-")[0],i=n.webFormSubCategory.split("-")[1];o(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.addFileToRecord({employeeId:t._employee.employeeId,formInstanceId:t.id,name:t.name,category:r,subCategory:i});case 3:e.statusUpdated(),m.success(t.name+" has been added to "+t._employee.name+"'s employee record","Form added to Employee Record ",!1),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),m.error(t.name+" was not added to "+t._employee.name+"'s employee record successfully","Add to Employee Record ",!1);case 10:case"end":return n.stop()}},n,this,[[0,7]])}))()})},updateWorkflowStep:function(t){var n={id:t.id,targetStep:t.prevStep._formTemplateStepId,params:{targetStatus:0}};l.updateCurrentStepId(n).then(function(n){if(null!=n){var r=t.prevStep._stepParticipant.name?"to "+t.prevStep._stepParticipant.name:"";m.success("Workflow step re-sent "+r,"Success!",!1),e.statusUpdated()}}).catch(function(e){m.error("There was an error resending the workflow step. Please try again.","Error")})},sendReminder:o(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:try{l.postReminder({id:n.id}).then(function(t){var r=n.currentStepParticipantName?"to "+n.currentStepParticipantName:"";null!=t&&(m.success(""+r,"Reminder Sent",!1),e.statusUpdated())})}catch(e){m.error("There was an error sending a reminder to "+participant,"Error")}case 1:case"end":return t.stop()}},t,this)}))}}]}]),t}(l.Component);angular.module("ec-forms-components").directive("cmpTrackedForm",function(){return new u(c,"tracked-form")})},{"base-component":36}],36:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.Component=function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(this,e),this.restrict="E",this.replace=!0,this.scope=t,this.templateUrl="components/cmp-"+n+"/"+n+".html",Object.assign(this,i)}},{}],37:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.Segment=function e(t){r(this,e),this.restrict="E",this.scope=!0,this.replace=!0,this.templateUrl=function(e,n){return"routes"+n.folder+"/segment-"+t+"/"+t+".html"}}},{}],38:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.State=function e(t,n){r(this,e),Object.assign(this,t),this.resolve=this.resolve||{},this.resolve.routeVm=function(){return n},this.controller=function(e,t,n){e.routeVm=n},this.controller.$inject=["$scope","$window","routeVm"]}},{}],39:[function(e,t,n){"use strict";function r(e){e.load("employee-center")}r.$inject=["ssAppConfigSvc"],angular.module("ec-forms").run(r)},{}],40:[function(e,t,n){"use strict";function r(e){e.html5Mode(!0)}r.$inject=["$locationProvider"],angular.module("ec-forms").config(r)},{}],41:[function(e,t,n){"use strict";function r(){return{getTag:function(e){switch(e._fieldType){case"heading":case"readOnlyHeading":return"h4";case"instructions":case"text":return"p";case"readOnlyText":case"readOnlyDate":return"dl";case"readOnlyCredentials":return"p";case"link":return"a";default:return e._fieldType}},getProperties:function(e,t){var n=[""];if(void 0===e._fieldDefId)return"";if(i(e)&&n.push('permissions="{ view: false, edit: field.editMode, redacted: true }"'),null!=e.disabled&&n.push('is-disabled="field.disabled"'),null!=e.editMode&&n.push('edit-mode="field.editMode"'),e._fieldType.startsWith("super-")){n.push('label="{{field._label}}"'),n.push('required="field._required"'),n.push('org="org"');var r="field.step.formFieldValues['"+e.id+"']";if("super-digital-signature"===e._fieldType&&(r="field.step.formFieldValues['"+e.id+"'].config.signature",n.push('on-behalf="{{field.onBehalf}}"')),"super-input-radio"===e._fieldType){n.push('name="'+e.config.name+'"'),n.push('value="'+e._label+'"');for(var s=t.findIndex(function(t){return t===e}),o=e.config.name||"",a=e;s--;)"super-input-radio"===t[s]._fieldType&&t[s].config.name===o&&(a=t[s]);r="field.step.formFieldValues['"+a.id+"']"}if(!e.disabled){var l=e._required&&!e.disabled?"Required":"",c=e._label.replace(/'/g,"\\'").replace(/"/g,"&quot;");if(e._validator){(!e._validator.applyOnRequired||e._required&&e._validator.applyOnRequired)&&n.push('ss-validate="ignoreValidations || validator.'+e._validator.type+l+"("+r+", '"+c+"')\"")}else e._required&&n.push('ss-validate="ignoreValidations || validator.required('+r+", '"+c+"')\"")}n.push('model="'+r+'"')}return e._fieldType.startsWith("cmp-")&&n.push('field="field"'),"link"===e._fieldType&&(n.push('class="file-link"'),n.push('ss-icon="chain"'),n.push("href=\"{{field.config.isValid ? field.config.location : ''}}\""),n.push("ng-class=\"{'is-valid': field.config.isValid}\""),n.push('target="_blank"')),n.join(" ")},getVisibility:function(e){switch(e._fieldType){case"heading":case"readOnlyHeading":case"instructions":case"readOnlyText":case"readOnlyCredentials":case"readOnlyDate":case"link":return"!!field._label.length && field._active";default:return"field._active"}},getContent:function(e,t,n){var r,s="";switch(e._fieldType){case"heading":return"{{field._label}}";case"readOnlyHeading":return"{{field._label}}&nbsp;<em>Read-only</em>";case"instructions":case"text":return"{{field._label}}";case"link":return"{{field.config.display}}";case"readOnlyText":if(e.step&&null!=e.step.formFieldValues[e.id])if(e._fieldTypeOptions&&"super-select-list"===e._fieldTypeOptions.edit){var o=e.externalSourceOptions.find(function(t){return t.value===e.step.formFieldValues[e.id]});r=null!=o?o.name:"--"}else r=e.step.formFieldValues[e.id];else r="--";return i(e)&&(s='aria-label="value is redacted"',r="******"),'<dt class="field-label">'+e._label+"</dt><dd "+s+">"+r+"</dd>";case"readOnlyDate":return r=e.step&&null!=e.step.formFieldValues[e.id]?n("date")(e.step.formFieldValues[e.id],"MM/dd/yyyy"):"--/--/--",i(e)&&(s='aria-label="value is redacted"',r="******"),'<dt class="field-label">'+e._label+"</dt><dd "+s+">"+r+"</dd>";case"readOnlyCredentials":return null==e.config.readOnly||null!=e.config.populate&&!e.config.populate?"--":'<span ng-if="field.primaryParticipant == null">--</span><cmp-credentials-list ng-repeat="option in field.primaryParticipant.'+e.config.readOnly+'" model="option"></cmp-credentials-list>';case"super-select-list":return null!=e.externalSourceOptions?"<"+e._fieldType+'-item ng-repeat="option in field.externalSourceOptions track by $index" value="option.value" label="option.name"></'+e._fieldType+"-item>":"<"+e._fieldType+'-item ng-repeat="option in field._options track by $index" value="option" label="option"></'+e._fieldType+"-item>";default:return""}},bindConfigObject:function(e,t,n){var r=e.$eval(t),i=n.split("."),s=i.pop(),o=i.join("."),a=o?e.$eval(o):e;a[s]=JSON.parse(r),e.$watch(t,function(e){JSON.stringify(a[s])!==e&&(a[s]=JSON.parse(e))}),e.$watch(n,function(n){e.$eval(t+" = jsonString",{jsonString:JSON.stringify(n)})},!0)}}}function i(e){if(e._sensitive&&e.step){var t=null!=e.step.formFieldValues[e.id]&&""!==e.step.formFieldValues[e.id];return t&&e.sensitiveRedacted||t&&e.overrideVisibility&&!0===e.overrideVisibility}return!1}angular.module("ec-forms-helpers").factory("fieldRendererHlp",r)},{}],42:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){var t=e._options;return null==t||t.length<2||(t.length===Array.from(new Set(t)).length||"This field cannot have duplicate options.")}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=e._options;return null==n||n.length<1||(!(n.filter(function(e){return e.length>t}).length>0)||"Anything greater than "+t+" character"+(1===t?"":"s")+" cannot be mapped.")}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return!e.config.mappable||null==t||-1===t||(e._label.length<=t||"Anything greater than "+t+" character"+(1===t?"":"s")+" cannot be mapped.")}function a(){return m}var l={_label:"",_active:!0,_configJson:'{"width": "100%"}',_externalData:"",_fieldGroup:null,_fieldType:"super-input-text",_fieldTypeOptions:{},_hideRequired:!1,_options:null,_required:!1,_sensitive:!1},c={legalName:[{_label:"Legal Name",_fieldType:"heading"},{_fieldType:"instructions",_label:""},{_fieldDefId:"54c1e578-f3f5-4832-be7f-7e5abe48fb45",_label:"Title",_configJson:'{"width":"15%", "externalSourceType": "enum", "externalSource": "salutation", "readOnly":"_title"}',_externalData:"Employee.Title",_sampleData:1,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"b2d3891a-9b39-4ea7-b00f-597a355c2bda",_label:"First",_configJson:'{"width":"25%", "readOnly":"_firstName"}',_externalData:"Employee.FirstName",_sampleData:"John",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"72cdb2b4-6073-47fd-a4b3-70e1fffe5504",_label:"Middle",_configJson:'{"width":"20%", "readOnly":"_middleName"}',_externalData:"Employee.MiddleName",_sampleData:"Quincy",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"14259f84-46e7-4b73-9558-8a225171e7e1",_label:"Last",_configJson:'{"width":"25%", "readOnly":"_lastName"}',_externalData:"Employee.LastName",_sampleData:"Doe",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"f443473f-bf27-4421-96e3-78d2730b3fe9",_label:"Suffix",_fieldType:"super-select-list",_configJson:'{"width":"15%", "externalSourceType": "enum", "externalSource": "suffix", "readOnly":"_suffix"}',_externalData:"Employee.Suffix",_sampleData:2,_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}}],aliasName:[{
_label:"Other Name",_fieldType:"heading"},{_fieldType:"instructions",_label:""},{_fieldDefId:"8f4a60cd-548e-419b-bfd4-fdf92c3fbe60",_label:"First",_configJson:'{"width":"33%", "readOnly":"_aliasFirstName"}',_externalData:"Employee.AliasFirstName",_sampleData:"John",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"37ef5ec9-6356-4d96-83c1-f184fcc93b08",_label:"Middle",_configJson:'{"width":"33%", "readOnly":"_aliasMiddleName"}',_externalData:"Employee.AliasMiddleName",_sampleData:"Quincy",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"fc7c530f-49e8-493a-ad8c-678675061cfc",_label:"Last",_configJson:'{"width":"33%", "readOnly":"_aliasLastName"}',_externalData:"Employee.AliasLastName",_sampleData:"Doe",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}}],address:[{_label:"Address",_fieldType:"heading"},{_fieldType:"instructions",_label:""},{_fieldDefId:"4429b708-0db0-4d8d-af45-baeb4ca01245",_label:"Address 1",_configJson:'{"width":"100%", "readOnly":"address._street1"}',_externalData:"Employee.Addresses.Primary.Street1",_sampleData:"123 Main St.",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"e4d6142e-8c45-4a81-8cf9-3740a6923382",_label:"Address 2",_configJson:'{"width":"100%", "readOnly":"address._street2"}',_externalData:"Employee.Addresses.Primary.Street2",_sampleData:"Apt. 1",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"e5ecad6a-5193-48b2-be95-ebd7401a5cf5",_label:"City",_configJson:'{"width":"100%", "readOnly":"address._city"}',_externalData:"Employee.Addresses.Primary.City",_sampleData:"Anytown",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"07ebdcec-0ff6-46ad-92aa-121b8573b8a6",_label:"State",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "states", "readOnly":"address._state"}',_externalData:"Employee.Addresses.Primary.State",_sampleData:"NY",_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"4dc761df-2ce8-498d-bb7d-27606480627b",_label:"Zip Code",_configJson:'{"width":"50%", "readOnly":"address._zip"}',_externalData:"Employee.Addresses.Primary.Zip",_sampleData:"12345",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"zip",options:{}}}],contact:[{_label:"Contact Information",_fieldType:"heading"},{_fieldType:"instructions",_label:""},{_fieldDefId:"5e989212-29f0-43e4-8d02-1a6a047b7e48",_label:"Work Phone",_configJson:'{"width":"50%", "readOnly":"phoneNumbers.work"}',_externalData:"Employee.PhoneNumbers.Work.Number",_sampleData:"123-456-7890",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"phone",options:{}}},{_fieldDefId:"5c34865e-9e5b-4ece-96ca-d412254506a0",_label:"Ext.",_configJson:'{"width":"25%","readOnly":"phoneNumbers.workExt"}',_externalData:"Employee.PhoneNumbers.Work.Extension",_sampleData:"1234",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"numeric",options:{}}},{_fieldDefId:"0977c048-185c-4eec-8800-74842a7fbb4f",_label:"Personal Phone",_configJson:'{"width":"50%","readOnly":"phoneNumbers.personal"}',_externalData:"Employee.PhoneNumbers.Personal.Number",_sampleData:"123-456-7890",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"phone",options:{}}},{_fieldDefId:"7a2caf47-562c-4b28-90af-969357493586",_label:"Type",_configJson:'{"width":"25%", "externalSourceType": "enum", "externalSource": "phoneTypes","readOnly":"phoneNumbers.personalPhoneType"}',_externalData:"Employee.PhoneNumbers.Personal.PhoneType",_sampleData:1,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"2cedb2be-12d9-4958-9247-d2e974a22bbc",_label:"Primary",_configJson:'{"width":"25%","readOnly":"phoneNumbers.personalIsPrimary"}',_externalData:"Employee.PhoneNumbers.Personal.IsPrimary",_sampleData:!0,_fieldType:"super-input-checkbox",_fieldTypeOptions:{edit:"super-input-checkbox",view:"readOnlyText"}},{_fieldDefId:"f658f159-910a-485f-89b7-f20559222f73",_label:"Other Phone",_configJson:'{"width":"50%","readOnly":"phoneNumbers.other"}',_externalData:"Employee.PhoneNumbers.Other.Number",_sampleData:"123-456-7890",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"phone",options:{}}},{_fieldDefId:"9b7f605f-c5b4-46bd-8096-85acc8f358f6",_label:"Type",_configJson:'{"width":"25%", "externalSourceType": "enum", "externalSource": "phoneTypes","readOnly":"phoneNumbers.otherPhoneType"}',_externalData:"Employee.PhoneNumbers.Other.PhoneType",_sampleData:2,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"9e32dbea-8575-478a-9b98-4f731d9c121d",_label:"Primary",_configJson:'{"width":"25%","readOnly":"phoneNumbers.otherIsPrimary"}',_externalData:"Employee.PhoneNumbers.Other.IsPrimary",_sampleData:!1,_fieldType:"super-input-checkbox",_fieldTypeOptions:{edit:"super-input-checkbox",view:"readOnlyText"}},{_fieldDefId:"f513faf6-fb0d-43c3-851c-178121015d29",_label:"Work Email",_configJson:'{"width":"50%","readOnly":"emails.work"}',_externalData:"Employee.Emails.Work.EmailAddress",_sampleData:"work@email.com",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"email",options:{}}},{_fieldDefId:"6172d8d3-cf07-41cf-b77d-2c0cf2e7bfd8",_label:"Personal Email",_configJson:'{"width":"50%","readOnly":"emails.personal"}',_externalData:"Employee.Emails.Personal.EmailAddress",_sampleData:"personal@email.com",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"email",options:{}}}],personal:[{_label:"Personal",_fieldType:"heading"},{_fieldType:"instructions",_label:""},{_fieldDefId:"aa736224-2a09-490a-b069-7cc945a040ea",_label:"Birth Date",_configJson:'{"width":"33%","readOnly":"personalInfo.birthDate"}',_externalData:"Employee.BirthDateUtc",_sampleData:"01/01/0001",_fieldType:"super-input-datepicker",_fieldTypeOptions:{edit:"super-input-datepicker",view:"readOnlyDate"},_sensitive:!0},{_fieldDefId:"ba2d2021-59b6-45b9-9e4b-c501d064e012",_label:"SSN",_configJson:'{"width":"33%","readOnly":"personalInfo.ssn"}',_externalData:"Employee.SSN",_sampleData:"123-45-6789",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_sensitive:!0,_validator:{type:"ssn",options:{}}},{_fieldDefId:"4b232b2d-aa7a-4578-b620-cf241caee9ce",_label:"External Id",_configJson:'{"width":"33%","readOnly":"personalInfo.externalId"}',_externalData:"Employee.ExternalId",_sampleData:"12345",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"b78df686-cfbf-463f-919b-26acee984abc",_label:"Marital Status",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "maritalStatus","readOnly":"personalInfo.maritalStatus"}',_externalData:"Employee.MaritalStatus",_sampleData:0,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"3fe07f5a-f5b5-4c31-b975-b2d363b76240",_label:"Gender",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "gender","readOnly":"personalInfo.gender"}',_externalData:"Employee.Gender",_sampleData:0,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"c78acc62-5b6a-4401-a0fb-8c0cd8cd4ca1",_label:"Ethnicity",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "ethnicity","readOnly":"personalInfo.ethnicity"}',_externalData:"Employee.Ethnicity",_sampleData:1,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"bd5cc16e-b1b5-4246-98da-8289bc24a451",_label:"Race",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "race","readOnly":"personalInfo.race"}',_externalData:"Employee.Race",_sampleData:4,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}}],employment:[{_label:"Employment",_fieldType:"readOnlyHeading"},{_fieldType:"instructions",_label:""},{_fieldDefId:"8d33bb12-8ab6-476a-b306-91e82cbe30f4",_label:"Hire Date",_configJson:'{"width":"33%", "readOnly":"_hireDate"}',_externalData:"Employee.HireDate",_sampleData:"01/01/0001",_fieldType:"readOnlyDate"},{_fieldDefId:"e45f9c7a-4621-4b88-ae21-e3abd33ab366",_label:"Seniority Date",_configJson:'{"width":"33%", "readOnly":"_seniorityDate"}',_externalData:"Employee.SeniorityDate",_sampleData:"01/01/0001",_fieldType:"readOnlyDate"},{_fieldDefId:"7e784681-a31e-4af3-9756-cb2d5077ea3c",_label:"Tenure Date",_configJson:'{"width":"33%", "readOnly":"_tenureDate"}',_externalData:"Employee.TenureDate",_sampleData:"01/01/0001",_fieldType:"readOnlyDate"}],primaryAssignment:[{_label:"Primary Assignment",_fieldType:"readOnlyHeading"},{_fieldType:"instructions",_label:""},{_fieldDefId:"5d3ebdb0-f907-4ec3-8886-f2bfe0ba66e9",_label:"Start Date",_configJson:'{"width":"50%", "readOnly":"primaryAssignment.formattedStartDateUtc"}',_externalData:"Employee.Assignments.Primary.StartDateTimeUTC",_sampleData:"01/01/0001",_fieldType:"readOnlyText"},{_fieldDefId:"76c6ac41-1b54-4f19-b768-4ecc8e71dce1",_label:"End Date",_configJson:'{"width":"50%", "readOnly":"primaryAssignment.formattedEndDateUtc"}',_externalData:"Employee.Assignments.Primary.EndDateTimeUTC",_sampleData:"01/01/0001",_fieldType:"readOnlyText"},{_fieldDefId:"1efc9ba2-4c12-4270-a353-4d828ac942de",_label:"Employment Group",_configJson:'{"width":"50%", "readOnly":"primaryPosition.jobType.employmentGroup.name"}',_externalData:"Employee.Assignments.Primary.JobType.EmploymentGroup.Name",_sampleData:"District Employees",_fieldType:"readOnlyText"},{_fieldDefId:"1515243d-d6e3-4707-84f5-1ed380a2f2ce",_label:"Job Type",_configJson:'{"width":"50%", "readOnly":"primaryPosition.jobType._name"}',_externalData:"Employee.Assignments.Primary.JobType.Name",_sampleData:"Teacher",_fieldType:"readOnlyText"},{_fieldDefId:"fc5d9260-2fe8-438a-bdc8-2e7e2784db7d",_label:"Position Type",_configJson:'{"width":"100%", "readOnly":"primaryPosition.name"}',_externalData:"Employee.Assignments.Primary.Name",_sampleData:"First Grade",_fieldType:"readOnlyText"},{_fieldDefId:"1fd44d06-ddc0-48a8-89be-7373a3d724ca",_label:"Location",_configJson:'{"width":"50%", "readOnly":"primaryPosition.location._name"}',_externalData:"Employee.Assignments.Primary.Location.Name",_sampleData:"ABC Elementary School",_fieldType:"readOnlyText"},{_fieldDefId:"9c165824-f3d9-428e-b28e-4750ac27c1df",_label:"Department",_configJson:'{"width":"50%", "readOnly":"primaryPosition.department._name"}',_externalData:"Employee.Assignments.Primary.Department.Name",_sampleData:"Elementary",_fieldType:"readOnlyText"},{_fieldDefId:"94088ca8-de8a-4bcd-b87b-81dd67803367",_label:"FTE",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._fTE != null) ? primaryAssignment.currentDetails._fTE : primaryPosition.jobType._currentJobTypeDetail.fte"}',_externalData:"Employee.Assignments.Primary.FTE",_sampleData:"1",_fieldType:"readOnlyText"},{_fieldDefId:"6cf4854a-9607-49e2-8b66-c550375bba10",_label:"Hours Per Day",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._hoursPerDay != null) ? primaryAssignment.currentDetails._hoursPerDay : primaryPosition.jobType._currentJobTypeDetail.hoursPerDay"}',_externalData:"Employee.Assignments.Primary.HoursPerDay",_sampleData:"7.5",_fieldType:"readOnlyText"},{_fieldDefId:"90adbdc6-f364-4a9e-b517-7fac47a74a22",_label:"Work Days Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._workDaysPerYear != null) ? primaryAssignment.currentDetails._workDaysPerYear : primaryPosition.jobType._currentJobTypeDetail.workDaysPerYear"}',_externalData:"Employee.Assignments.Primary.WorkDays",_sampleData:"180",_fieldType:"readOnlyText"}],assignmentCompensation:[{_label:"Assignment Compensation",_fieldType:"readOnlyHeading"},{_fieldType:"instructions",_label:""},{_fieldDefId:"92478956-3e85-4677-b409-99018c27890c",_label:"Pay Schedule",_configJson:'{"width":"33%", "readOnly":"primaryPosition.jobType.paySchedule.name"}',_externalData:"Employee.Assignments.Primary.PaySchedule.Name",_sampleData:"Teacher Pay Table",_fieldType:"readOnlyText"},{_fieldDefId:"a721a2f1-fa2e-4a53-a556-23697f5fe1ce",_label:"Pay Lane",_configJson:'{"width":"33%", "readOnly":"payLane.name"}',_externalData:"Employee.Assignments.Primary.PayLane.Name",_sampleData:"1",_fieldType:"readOnlyText"},{_fieldDefId:"65f587b9-5060-4d4f-a5c3-0c311cb27ad4",_label:"Pay Step",_configJson:'{"width":"33%", "readOnly":"payStep.name"}',_externalData:"Employee.Assignments.Primary.PayStep.Name",_sampleData:"1",_fieldType:"readOnlyText"},{_fieldDefId:"1b48e58c-4d3a-4041-88b3-75042184334a",_label:"Pay Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._payPeriodsPerYear != null) ? primaryAssignment.currentDetails._payPeriodsPerYear : primaryPosition.jobType._currentJobTypeDetail.payPeriodsPerYear"}',_externalData:"Employee.Assignments.Primary.PayPeriodsPerYear",_sampleData:"24",_fieldType:"readOnlyText"},{_fieldDefId:"ce98ea9c-5533-4acf-90f3-dbdc51cbef68",_label:"Pay Per Period",_configJson:'{"width":"33%", "readOnly":"payPerPeriod | currency"}',_externalData:"Employee.Assignments.Primary.PayPerPeriod",_sampleData:"$1000",_fieldType:"readOnlyText"},{_fieldDefId:"19506ff5-6d04-48c9-9443-b380746b7e02",_label:"Salary",_configJson:'{"width":"33%", "readOnly":"salary | currency"}',_externalData:"Employee.Assignments.Primary.Salary",_sampleData:"$24,000",_fieldType:"readOnlyText"}],assignmentBenefits:[{_label:"Assignment Benefits",_fieldType:"readOnlyHeading"},{_fieldType:"instructions",_label:""},{_fieldDefId:"d3a593b5-6941-48f5-a48f-f4bcc498ddce",_label:"Sick Days Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._sickDaysPerSchoolYear != null) ? primaryAssignment.currentDetails._sickDaysPerSchoolYear : primaryPosition.jobType._currentJobTypeDetail.sickDaysPerSchoolYear"}',_externalData:"Employee.Assignments.Primary.SickDaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText"},{_fieldDefId:"e0a56083-d036-4c2c-a2f4-dcc63c7df27e",_label:"Pers. Days Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._personalDaysPerSchoolYear != null) ? primaryAssignment.currentDetails._personalDaysPerSchoolYear : primaryPosition.jobType._currentJobTypeDetail.personalDaysPerSchoolYear"}',_externalData:"Employee.Assignments.Primary.PersonalDaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText"},{_fieldDefId:"19d93472-e7db-4773-bc0b-66a5c55d1e50",_label:"Vacation Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._vacationDaysPerSchoolYear != null) ? primaryAssignment.currentDetails._vacationDaysPerSchoolYear : primaryPosition.jobType._currentJobTypeDetail.vacationDaysPerSchoolYear"}',_externalData:"Employee.Assignments.Primary.VacationDaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText"},{_fieldDefId:"53c091a6-a674-4394-9b16-f21e88cd1a64",_label:"Paid Holidays",_configJson:'{"width":"50%", "readOnly":"(primaryAssignment.currentDetails._paidHolidaysPerSchoolYear != null) ? primaryAssignment.currentDetails._paidHolidaysPerSchoolYear : primaryPosition.jobType._currentJobTypeDetail.paidHolidaysPerSchoolYear"}',_externalData:"Employee.Assignments.Primary.PaidHolidaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText"},{_fieldDefId:"3d6c25e0-0ce5-4ad6-8246-99826b12329e",_label:"Retirement System",_configJson:'{"width":"50%", "readOnly":"retirementSystem.name"}',_externalData:"Employee.Assignments.Primary.RetirementSystem.Name",_sampleData:"ABCD",_fieldType:"readOnlyText"}],secondaryAssignment:[{_label:"Secondary Assignment",_fieldType:"readOnlyHeading"},{_fieldType:"instructions",_label:""},{_fieldDefId:"0aa59ea6-1e03-43ba-bb3d-a39d4f631966",_label:"Start Date",_configJson:'{"width":"50%", "readOnly":"earliestOtherAssignment.formattedStartDateUtc"}',_externalData:"Employee.Assignments.Secondary.StartDateTimeUTC",_sampleData:"01/01/0001",_fieldType:"readOnlyText"},{_fieldDefId:"40e1f8df-0c3f-4025-90bc-dfd0925a8eec",_label:"End Date",_configJson:'{"width":"50%", "readOnly":"earliestOtherAssignment.formattedEndDateUtc"}',_externalData:"Employee.Assignments.Secondary.EndDateTimeUTC",_sampleData:"01/01/0001",_fieldType:"readOnlyText"},{_fieldDefId:"f0d303d6-1b9e-424f-8603-3232c60d50d5",_label:"Employment Group",_configJson:'{"width":"50%", "readOnly":"earliestOtherPosition.jobType.employmentGroup.name"}',_externalData:"Employee.Assignments.Secondary.JobType.EmploymentGroup.Name",_sampleData:"District Employees",_fieldType:"readOnlyText"},{_fieldDefId:"d6c89711-c50b-4768-ae93-4718a9883b70",_label:"Job Type",_configJson:'{"width":"50%", "readOnly":"earliestOtherPosition.jobType._name"}',_externalData:"Employee.Assignments.Secondary.JobType.Name",_sampleData:"Teacher",_fieldType:"readOnlyText"},{_fieldDefId:"9e1542bf-afc0-43c0-b5b4-5a475fdcafd4",_label:"Position Type",_configJson:'{"width":"100%", "readOnly":"earliestOtherPosition.name"}',_externalData:"Employee.Assignments.Secondary.Name",_sampleData:"First Grade",_fieldType:"readOnlyText"},{_fieldDefId:"06a1ab47-ce04-4e88-981b-eccd889b978f",_label:"Location",_configJson:'{"width":"50%", "readOnly":"earliestOtherPosition.location._name"}',_externalData:"Employee.Assignments.Secondary.Location.Name",_sampleData:"ABC Elementary School",_fieldType:"readOnlyText"},{_fieldDefId:"f3f05928-02f5-41d8-8867-3af413bd5e08",_label:"Department",_configJson:'{"width":"50%", "readOnly":"earliestOtherPosition.department._name"}',_externalData:"Employee.Assignments.Secondary.Department.Name",_sampleData:"Elementary",_fieldType:"readOnlyText"},{_fieldDefId:"cfb8a867-c1a0-4c19-a72e-03909d699294",_label:"FTE",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._fTE != null) ? earliestOtherAssignment.currentDetails._fTE : earliestOtherPosition.jobType._currentJobTypeDetail.fte"}',_externalData:"Employee.Assignments.Secondary.FTE",_sampleData:"1",_fieldType:"readOnlyText"},{_fieldDefId:"362bfdf7-f861-49eb-a839-79aeebc703be",_label:"Hours Per Day",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._hoursPerDay != null) ? earliestOtherAssignment.currentDetails._hoursPerDay : earliestOtherPosition.jobType._currentJobTypeDetail.hoursPerDay"}',_externalData:"Employee.Assignments.Secondary.HoursPerDay",_sampleData:"7.5",_fieldType:"readOnlyText"},{_fieldDefId:"e4fcdc4b-2b30-4e81-a937-15f86951b88e",_label:"Work Days Per Year",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._workDaysPerYear != null) ? earliestOtherAssignment.currentDetails._workDaysPerYear : earliestOtherPosition.jobType._currentJobTypeDetail.workDaysPerYear"}',_externalData:"Employee.Assignments.Secondary.WorkDays",_sampleData:"180",_fieldType:"readOnlyText"}],secondaryCompensation:[{_label:"Secondary Compensation",_fieldType:"readOnlyHeading"},{_fieldType:"instructions",_label:""},{_fieldDefId:"eec7acd5-4302-4b33-9014-364202832e3e",_label:"Pay Schedule",_configJson:'{"width":"33%", "readOnly":"earliestOtherPosition.jobType.paySchedule.name"}',_externalData:"Employee.Assignments.Secondary.PaySchedule.Name",_sampleData:"Teacher Pay Table",_fieldType:"readOnlyText"},{_fieldDefId:"3211dabc-b9da-474a-89f6-de17d2446bbb",_label:"Pay Lane",_configJson:'{"width":"33%", "readOnly":"otherPayLane.name"}',_externalData:"Employee.Assignments.Secondary.PayLane.Name",_sampleData:"1",_fieldType:"readOnlyText"},{_fieldDefId:"8031280b-27cb-4d0d-bbc6-ac3832947685",_label:"Pay Step",_configJson:'{"width":"33%", "readOnly":"otherPayStep.name"}',_externalData:"Employee.Assignments.Secondary.PayStep.Name",_sampleData:"1",_fieldType:"readOnlyText"},{_fieldDefId:"be022480-b100-43ca-a47e-71be6b027e93",_label:"Pay Per Year",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._payPeriodsPerYear != null) ? earliestOtherAssignment.currentDetails._payPeriodsPerYear : earliestOtherPosition.jobType._currentJobTypeDetail.payPeriodsPerYear"}',_externalData:"Employee.Assignments.Secondary.PayPeriodsPerYear",_sampleData:"24",_fieldType:"readOnlyText"},{_fieldDefId:"adcd4aa2-58ed-4b5a-b8dc-31edfa043f58",_label:"Pay Per Period",_configJson:'{"width":"33%", "readOnly":"otherPayPerPeriod | currency"}',_externalData:"Employee.Assignments.Secondary.PayPerPeriod",_sampleData:"$1000",_fieldType:"readOnlyText"},{_fieldDefId:"7ad63aae-4ccd-4551-b038-ad250dd6ea68",_label:"Salary",_configJson:'{"width":"33%", "readOnly":"otherSalary | currency"}',_externalData:"Employee.Assignments.Secondary.Salary",_sampleData:"$24,000",_fieldType:"readOnlyText"}],secondaryBenefits:[{_label:"Secondary Benefits",_fieldType:"readOnlyHeading"},{_fieldType:"instructions",_label:""},{_fieldDefId:"9220e992-9832-405f-aae2-2e80419e6128",_label:"Sick Days Per Year",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._sickDaysPerSchoolYear != null) ? earliestOtherAssignment.currentDetails._sickDaysPerSchoolYear : earliestOtherPosition.jobType._currentJobTypeDetail.sickDaysPerSchoolYear"}',_externalData:"Employee.Assignments.Secondary.SickDaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText"},{_fieldDefId:"98fb9c91-ff03-4089-b028-844e407f39ec",_label:"Pers. Days Per Year",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._personalDaysPerSchoolYear != null) ? earliestOtherAssignment.currentDetails._personalDaysPerSchoolYear : earliestOtherPosition.jobType._currentJobTypeDetail.personalDaysPerSchoolYear"}',_externalData:"Employee.Assignments.Secondary.PersonalDaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText"},{_fieldDefId:"9e674c8e-5347-42b5-8100-fad4edfbebc4",_label:"Vacation Per Year",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._vacationDaysPerSchoolYear != null) ? earliestOtherAssignment.currentDetails._vacationDaysPerSchoolYear : earliestOtherPosition.jobType._currentJobTypeDetail.vacationDaysPerSchoolYear"}',_externalData:"Employee.Assignments.Secondary.VacationDaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText"},{_fieldDefId:"cf9ce02d-f7b1-455d-85ed-614e361f112a",_label:"Paid Holidays",_configJson:'{"width":"50%", "readOnly":"(earliestOtherAssignment.currentDetails._paidHolidaysPerSchoolYear != null) ? earliestOtherAssignment.currentDetails._paidHolidaysPerSchoolYear : earliestOtherPosition.jobType._currentJobTypeDetail.paidHolidaysPerSchoolYear"}',_externalData:"Employee.Assignments.Secondary.PaidHolidaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText"},{_fieldDefId:"91bef119-7b9e-4c3d-9e09-360f32ce78ba",_label:"Retirement System",_configJson:'{"width":"50%", "readOnly":"retirementSystem.name"}',_externalData:"Employee.Assignments.Secondary.RetirementSystem.Name",_sampleData:"ABCD",_fieldType:"readOnlyText"}],financial:[{_label:"Financial Information",_fieldType:"heading"},{_fieldType:"instructions",_label:""},{_fieldDefId:"70593e5c-65cb-4f65-beab-7db5695715ea",_label:"Primary Account Type",_configJson:'{"width": "100%", "colwidth": "50%", "selectType": "super-input-radio", "multiple": false}',_sampleData:"Checking Account",_fieldType:"cmp-checkbox-group",_options:["Checking Account","Savings Account"]},{_fieldDefId:"9dddd926-ac0c-4114-9b16-a6f0986ba97c",_label:"Banking Name",_configJson:'{"width":"50%"}',_sampleData:"ABC Bank",_fieldType:"super-input-text"},{_fieldDefId:"720a8295-b742-47f3-a25c-cf77e3eb8fe7",_label:"Routing/ABA Number",_configJson:'{"width":"50%"}',_sampleData:"1234567",_fieldType:"super-input-text",_validator:{type:"numeric",options:{}}},{_fieldDefId:"2b816a19-7aea-4bbf-a6d2-19c76f760643",_label:"Account Number",_configJson:'{"width":"50%"}',_sampleData:"1234567890",_fieldType:"super-input-text",_validator:{type:"numeric",options:{}}},{_fieldDefId:"717836a3-4af7-41bd-8687-b6909370ecff",_label:"Percentage of Pay Deposited",_configJson:'{"width":"35%"}',_sampleData:"50",_fieldType:"super-input-text",_validator:{type:"numeric",options:{}}},{_fieldDefId:"16cb9a79-3e07-42f7-a5e9-a7d144bfc1cd",_label:"Secondary Account Type",_configJson:'{"width": "100%", "colwidth": "50%", "selectType": "super-input-radio", "multiple": false}',_sampleData:"Savings Account",_fieldType:"cmp-checkbox-group",_options:["Checking Account","Savings Account"]},{_fieldDefId:"4d049d8c-bb64-463c-83c6-a86aa604c1ef",_label:"Banking Name",_configJson:'{"width":"50%"}',_sampleData:"ABC Bank",_fieldType:"super-input-text"},{_fieldDefId:"a5b2d3f6-ece4-46ca-b382-2323413400a2",_label:"Routing/ABA Number",_configJson:'{"width":"50%"}',_sampleData:"1234567",_fieldType:"super-input-text",_validator:{type:"numeric",options:{}}},{_fieldDefId:"dcb0744d-d0e3-4a63-8ca5-1f1b05c4292b",_label:"Account Number",_configJson:'{"width":"50%"}',_sampleData:"1234567890",_fieldType:"super-input-text",_validator:{type:"numeric",options:{}}},{_fieldDefId:"33c2e577-2958-444b-a612-58c29733df50",_label:"Percentage of Pay Deposited",_configJson:'{"width":"35%"}',_sampleData:"50",_fieldType:"super-input-text",_validator:{type:"numeric",options:{}}}],emergency:[{_label:"Emergency Contacts",_fieldType:"heading"},{_fieldType:"instructions",_label:""},{_fieldDefId:"99df0167-ecea-405f-8192-a657cf2d0841",_label:"Name",_configJson:'{"width":"50%","readOnly":"emergencyContacts.primaryContactName"}',_externalData:"Employee.EmergencyContacts.Primary.ContactName",_sampleData:"Jane Doe",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"3ee27e1a-780f-4dd1-87b8-688ef3f9a4fd",_label:"Relationship",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "relationshipTypes","readOnly":"emergencyContacts.primaryContactRelationship"}',_externalData:"Employee.EmergencyContacts.Primary.RelationshipType",_sampleData:0,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"4efae0cb-6d68-4eeb-8ce3-031b11678275",_label:"Personal Phone",_configJson:'{"width":"50%","readOnly":"emergencyContacts.primaryContactPhone"}',_externalData:"Employee.EmergencyContacts.Primary.PrimaryPhone",_sampleData:"123-456-7890",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"phone",options:{}}},{_fieldDefId:"e0ec2374-be6a-4d6f-9f12-5cbf58f5a5cc",_label:"Work Phone",_configJson:'{"width":"50%","readOnly":"emergencyContacts.primaryContactAltPhone"}',_externalData:"Employee.EmergencyContacts.Primary.AlternatePhone",_sampleData:"123-456-7890",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"phone",options:{}}},{_fieldDefId:"a924fcee-27f1-4e17-811d-45b3e11342da",_label:"Name",_configJson:'{"width":"50%","readOnly":"emergencyContacts.secondaryContactName"}',_externalData:"Employee.EmergencyContacts.Secondary.ContactName",_sampleData:"Jane Doe",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"007139ff-0690-4ae4-a8e0-4494ecaaf357",_label:"Relationship",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "relationshipTypes","readOnly":"emergencyContacts.secondaryContactRelationship"}',_externalData:"Employee.EmergencyContacts.Secondary.RelationshipType",_sampleData:0,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"14827dc2-9d54-400d-a556-47656bc72f83",_label:"Personal Phone",_configJson:'{"width":"50%","readOnly":"emergencyContacts.secondaryContactPhone"}',_externalData:"Employee.EmergencyContacts.Secondary.PrimaryPhone",_sampleData:"123-456-7890",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"phone",options:{}}},{_fieldDefId:"3a4799b5-168e-4f19-91a6-27299c543f69",_label:"Work Phone",_configJson:'{"width":"50%","readOnly":"emergencyContacts.secondaryContactAltPhone"}',_externalData:"Employee.EmergencyContacts.Secondary.AlternatePhone",_sampleData:"123-456-7890",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"phone",options:{}}}],input:[{_fieldDefId:"951626b1-a422-46b4-9fa1-3b5acf7ee8fc",_label:"",_configJson:'{"width": "50%"}',_fieldType:"super-input-text"}],dropdown:[{_fieldDefId:"977a2273-62c1-4eef-8d63-91f9d8d1e0bf",_label:"Dropdown",_configJson:'{"width":"50%"}',_fieldType:"super-select-list",_options:["Option 1","Option 2","Option 3"]}],selectGroup:[{_fieldDefId:"10a88a23-f8f3-48eb-aa48-c466db06378b",_label:"Multiple Choice",_configJson:'{"width": "100%", "colwidth": "25%", "selectType": "super-input-checkbox", "multiple": true}',_fieldType:"cmp-checkbox-group",_options:["Option 1","Option 2","Option 3","Option 4"]}],signature:[{_fieldDefId:"17ff0b2c-4973-4181-92ce-b1c50c851165",_label:"Please Sign",_configJson:'{"width":"100%"}',_fieldType:"super-digital-signature",_validator:{type:"digitalSignature",options:{},applyOnRequired:!0}}],date:[{_fieldDefId:"c2e31de2-09e8-4563-acb1-0e190a8e3b11",_label:"Date",_configJson:'{"width":"25%"}',_fieldType:"super-input-datepicker"}],fileUpload:[{_fieldDefId:"5299a28c-56d5-4dc3-81ae-6f9f741eb324",_label:"Instructions for uploading files...",_configJson:'{"width":"100%"}',_documentCategory:0,_documentSubCategory:8,_fieldType:"super-file-upload",_validator:{type:"fileUpload",options:{},applyOnRequired:!0}}],fileLink:[{_fieldDefId:"e215f04f-037a-479e-b5da-9bb3155b55d5",_label:"Link",_configJson:'{"width":"100%", "isValid": false, "location": "", "name":"", "display": "Link will display here" }',_fieldType:"link"}],sectionHead:[{_fieldDefId:"9eabf24b-ae80-4488-a164-2a6f78a50cbd",_label:"Section Heading",_configJson:'{"width":"100%"}',_fieldType:"heading"}],text:[{_fieldDefId:"b6390770-0590-418c-b516-2080b243e9b7",_configJson:'{"width":"100%", "mappable": false}',_fieldType:"text",_label:""}],range:[{_fieldDefId:"2056c221-97c8-4994-962c-f4bfc319a9e4",_label:"Range",_fieldType:"super-select-text",from:0,to:100}]},p=[];Object.keys(c).forEach(function(e){p=[].concat(r(p),r(c[e]))});var u={"cmp-checkbox-group":function(e){return i(e)&&s(e)},"super-select-list":function(e){return i(e)&&s(e)},text:function(e){return o(e)}},m={getFieldById:function(e){return p.find(function(t){return e._fieldDefId===t._fieldDefId})},getFields:function(e,t){return c[e]?c[e].map(function(n,r,i){var s=Object.assign({},l,n),o=JSON.parse(s._configJson);return i.length>1&&Object.assign(s,{_fieldGroup:e}),o.cmp=t,s._configJson=JSON.stringify(o),s}):(console.error('fields for the "'+e+'" field group could not be rendered.'),[])},updateFieldAttributes:function(e){var t=this.getFieldById(e);null!=t&&Object.keys(t).forEach(function(n){Object.keys(e).includes(n)||(e[n]=t[n])})},getValidator:function(e){return u[e]}};angular.module("ec-forms-helpers").factory("fieldsHlp",a)},{}],43:[function(e,t,n){"use strict";function r(e){var t={participantType:null,employeeId:"",canEdit:!1,canView:!0,canViewSensitive:!1,canEditSensitive:!1};return{sortByOrderField:function(e,t){if(null!=t&&null!=e){for(var n=t.split(","),r={},i=e.length;i--;){var s=e.pop();r[s.id]=s}n.forEach(function(t){t in r&&(e.push(r[t]),delete r[t])}),Object.keys(r).forEach(function(t){null!=r[t]&&e.push(r[t])})}},buildParticipantList:function(t){var n=this,r=[];return t.forEach(function(t){if(t._stepAction!==e.stepAction.formCompleted&&null!=t._stepParticipant.participantType){var i=angular.isArray(t._stepParticipant.employeeIds)&&t._stepParticipant.employeeIds.length?t._stepParticipant.employeeIds[0]:"";r.find(function(e){return n.matchParticipant(e,t)})||r.push({participantType:t._stepParticipant.participantType,employeeId:i})}}),r},matchParticipant:function(t,n){var r=n._stepParticipant?n._stepParticipant.employeeIds[0]:n.employeeId,i=n._stepParticipant?n._stepParticipant.participantType:n.participantType
;return t.participantType===e.stepParticipantType.specificPerson?t.employeeId===r:t.participantType===i},removePermissions:function(e,t){var n=this,r=[];if(e._permissions.length)for(var i=0;i<=e._permissions.length-1;i++)!function(i){var s=e._permissions[i],o=t.find(function(e){return n.matchParticipant(e,s)});o&&void 0!==o||(r=e._permissions.splice(i,1))}(i);return r},assignStepAccess:function(e,t){var n=this,r=["canEdit","canViewSensitive","canEditSensitive"];return Object.keys(e).forEach(function(i){r.includes(i)&&(e[i]=n.matchParticipant(e,t))}),e},copyStepAccess:function(e,t){return Object.assign(e,{canView:t.canView,canEdit:t.canEdit,canViewSensitive:t.canViewSensitive,canEditSensitive:t.canEditSensitive})},updatePermissions:function(n){var r=this,i=n.allSteps,s=n.currentStep,o=n.participants,a=n.oldParticipantType,l=n.oldEmployeeId;i.forEach(function(n){if(!n.last){var i=r.removePermissions(n,o);o.forEach(function(c){var p=n._permissions.find(function(e){return r.matchParticipant(c,e)});if(p){if(s===n){if(i.length&&r.matchParticipant(p,s))return void(p=r.copyStepAccess(p,i[0]));if(null==n._stepParticipant.participantType&&r.matchParticipant(p,s))return void(p=r.assignStepAccess(p,s));if(a===p.participantType){var u=s._permissions.find(function(t){return a===e.stepParticipantType.specificPerson?t.employeeId===l:t.participantType===a});u&&(u=r.assignStepAccess(u,s))}}}else{var m=Object.assign({},t);if(n._stepAction===e.stepAction.employeeProfileReview&&(m.canView=!1),m.participantType=c.participantType,m.employeeId=c.employeeId,i.length)return m=r.copyStepAccess(m,i[0]),void n._permissions.splice(o.indexOf(c),0,m);m=r.assignStepAccess(m,n),n._permissions.splice(o.indexOf(c),0,m)}})}})}}}r.$inject=["ssEnum"],angular.module("ec-forms-helpers").factory("formsHlp",r)},{}],44:[function(e,t,n){"use strict";function r(e,t){function n(n,r){var i,s;if(s=null==n._statusId?t.byValue(0):t.byValue(n._statusId),i=s.toLowerCase(),n._statusHistory)for(var o=0;o<n._statusHistory.length;o++){var a=e.utcIsoToRelativeMoment(n._statusHistory[o]._from,r),l=n._statusHistory[o]._statusId,c=e.utcIsoToRelativeMoment(moment().utc().toISOString(),r);if(c<a&&"Inactive"===s&&l===t.active){var p=a.format("L");s="Inactive until "+p}}return{status:i,statusLabel:s}}return{getLabel:n}}r.$inject=["ssDateByOrgHlp","enumFormTemplateStatus"],angular.module("ec-forms-helpers").factory("statusLabelHlp",r)},{}],45:[function(e,t,n){"use strict";e("./components/cmp-attachments/attachments.js"),e("./components/cmp-checkbox-group/checkbox-group.js"),e("./components/cmp-credentials-list/credentials-list.js"),e("./components/cmp-dnd-options/dnd-options.js"),e("./components/cmp-emp-initiated-template/emp-initiated-template.js"),e("./components/cmp-field-renderer/field-renderer.js"),e("./components/cmp-fl-share-form/fl-share-form.js"),e("./components/cmp-form-list-group/form-list-group.js"),e("./components/cmp-form-send-status/form-send-status.js"),e("./components/cmp-multiple-employee-search/multiple-employee-search.js"),e("./components/cmp-properties-custom-common/properties-custom-common.js"),e("./components/cmp-properties-custom-date/properties-custom-date.js"),e("./components/cmp-properties-custom-dropdown/properties-custom-dropdown.js"),e("./components/cmp-properties-custom-filelink/properties-custom-filelink.js"),e("./components/cmp-properties-custom-fileupload/properties-custom-fileupload.js"),e("./components/cmp-properties-custom-input/properties-custom-input.js"),e("./components/cmp-properties-custom-sectionhead/properties-custom-sectionhead.js"),e("./components/cmp-properties-custom-selectbox/properties-custom-selectbox.js"),e("./components/cmp-properties-custom-signature/properties-custom-signature.js"),e("./components/cmp-properties-custom-text/properties-custom-text.js"),e("./components/cmp-properties-emp-record/properties-emp-record.js"),e("./components/cmp-properties-form-complete/properties-form-complete.js"),e("./components/cmp-properties-notifications/properties-notifications.js"),e("./components/cmp-properties-profile-review/properties-profile-review.js"),e("./components/cmp-properties-smart/properties-smart.js"),e("./components/cmp-properties-step-permissions/properties-step-permissions.js"),e("./components/cmp-properties-step/properties-step.js"),e("./components/cmp-step-renderer/step-renderer.js"),e("./components/cmp-template-field-renderer/template-field-renderer.js"),e("./components/cmp-template-list-form/template-list-form.js"),e("./components/cmp-template-list-packet/template-list-packet.js"),e("./components/cmp-tracked-form-group/tracked-form-group.js"),e("./components/cmp-tracked-form/tracked-form.js"),e("./helpers/fieldRendererHlp/field-renderer.js"),e("./helpers/fieldsHlp/fields.js"),e("./helpers/formsHlp/forms.js"),e("./helpers/statusLabelHlp/status-label.js"),e("./routes/form-builder/builder/builder.state.js"),e("./routes/form-builder/builder/segment-builder/builder.js"),e("./routes/form-builder/builder/segment-builder/builder.logic.js"),e("./routes/form-builder/builder/segment-fields/fields.js"),e("./routes/form-builder/builder/segment-fields/fields.logic.js"),e("./routes/form-builder/builder/segment-properties/properties.js"),e("./routes/form-builder/builder/segment-properties/properties.logic.js"),e("./routes/form-builder/form-builder.state.js"),e("./routes/form-builder/preview/preview.state.js"),e("./routes/form-builder/preview/segment-attachments/attachments.js"),e("./routes/form-builder/preview/segment-attachments/attachments.logic.js"),e("./routes/form-builder/preview/segment-form-header/form-header.js"),e("./routes/form-builder/preview/segment-form-header/form-header.logic.js"),e("./routes/form-builder/preview/segment-form-workflow/form-workflow.js"),e("./routes/form-builder/preview/segment-form-workflow/form-workflow.logic.js"),e("./routes/form-builder/preview/segment-page-header/page-header.js"),e("./routes/form-builder/preview/segment-page-header/page-header.logic.js"),e("./routes/form-builder/preview/segment-steps-summary/steps-summary.js"),e("./routes/form-builder/preview/segment-steps-summary/steps-summary.logic.js"),e("./routes/form-builder/segment-content/content.js"),e("./routes/form-builder/segment-content/content.logic.js"),e("./routes/form-builder/segment-header/header.js"),e("./routes/form-builder/segment-header/header.logic.js"),e("./routes/form-builder/settings/segment-settings/settings.js"),e("./routes/form-builder/settings/segment-settings/settings.logic.js"),e("./routes/form-builder/settings/settings.state.js"),e("./routes/form-instance/form-instance.state.js"),e("./routes/form-instance/segment-attachments/attachments.js"),e("./routes/form-instance/segment-attachments/attachments.logic.js"),e("./routes/form-instance/segment-form/form.js"),e("./routes/form-instance/segment-form/form.logic.js"),e("./routes/form-instance/segment-header/header.js"),e("./routes/form-instance/segment-header/header.logic.js"),e("./routes/form-instance/segment-steps-summary/steps-summary.js"),e("./routes/form-instance/segment-steps-summary/steps-summary.logic.js"),e("./routes/form-templates/form-templates.state.js"),e("./routes/form-templates/segment-content/content.js"),e("./routes/form-templates/segment-content/content.logic.js"),e("./routes/form-templates/segment-header/header.js"),e("./routes/form-templates/segment-header/header.logic.js"),e("./routes/form-tracking/form-tracking.state.js"),e("./routes/form-tracking/segment-content/content.js"),e("./routes/form-tracking/segment-content/content.logic.js"),e("./routes/form-tracking/segment-header/header.js"),e("./routes/form-tracking/segment-header/header.logic.js"),e("./routes/inbox/form-instance/form-instance.state.js"),e("./routes/inbox/form-instance/segment-attachments/attachments.js"),e("./routes/inbox/form-instance/segment-attachments/attachments.logic.js"),e("./routes/inbox/form-instance/segment-close/close.js"),e("./routes/inbox/form-instance/segment-close/close.logic.js"),e("./routes/inbox/form-instance/segment-form/form.js"),e("./routes/inbox/form-instance/segment-form/form.logic.js"),e("./routes/inbox/form-instance/segment-header/header.js"),e("./routes/inbox/form-instance/segment-header/header.logic.js"),e("./routes/inbox/form-instance/segment-steps/steps.js"),e("./routes/inbox/form-instance/segment-steps/steps.logic.js"),e("./routes/inbox/inbox.state.js"),e("./routes/inbox/segment-content/content.js"),e("./routes/inbox/segment-content/content.logic.js"),e("./routes/inbox/segment-header/header.js"),e("./routes/inbox/segment-header/header.logic.js"),e("./routes/index/index.state.js"),e("./routes/index/segment-content/content.js"),e("./routes/index/segment-content/content.logic.js"),e("./routes/index/segment-header/header.js"),e("./routes/index/segment-header/header.logic.js"),e("./routes/my-forms/my-forms.state.js"),e("./routes/my-forms/segment-content/content.js"),e("./routes/my-forms/segment-content/content.logic.js"),e("./routes/my-forms/segment-header/header.js"),e("./routes/my-forms/segment-header/header.logic.js"),e("./routes/packet-builder/builder/builder.state.js"),e("./routes/packet-builder/builder/segment-builder/builder.js"),e("./routes/packet-builder/builder/segment-builder/builder.logic.js"),e("./routes/packet-builder/packet-builder.state.js"),e("./routes/packet-builder/segment-content/content.js"),e("./routes/packet-builder/segment-content/content.logic.js"),e("./routes/packet-builder/segment-header/header.js"),e("./routes/packet-builder/segment-header/header.logic.js"),e("./routes/packet-builder/settings/segment-settings/settings.js"),e("./routes/packet-builder/settings/segment-settings/settings.logic.js"),e("./routes/packet-builder/settings/settings.state.js"),e("./routes/send/segment-content/content.js"),e("./routes/send/segment-content/content.logic.js"),e("./routes/send/segment-header/header.js"),e("./routes/send/segment-header/header.logic.js"),e("./routes/send/send.state.js"),e("./config/load-config.js"),e("./config/router.js")},{"./components/cmp-attachments/attachments.js":3,"./components/cmp-checkbox-group/checkbox-group.js":4,"./components/cmp-credentials-list/credentials-list.js":5,"./components/cmp-dnd-options/dnd-options.js":6,"./components/cmp-emp-initiated-template/emp-initiated-template.js":7,"./components/cmp-field-renderer/field-renderer.js":8,"./components/cmp-fl-share-form/fl-share-form.js":9,"./components/cmp-form-list-group/form-list-group.js":10,"./components/cmp-form-send-status/form-send-status.js":11,"./components/cmp-multiple-employee-search/multiple-employee-search.js":12,"./components/cmp-properties-custom-common/properties-custom-common.js":13,"./components/cmp-properties-custom-date/properties-custom-date.js":14,"./components/cmp-properties-custom-dropdown/properties-custom-dropdown.js":15,"./components/cmp-properties-custom-filelink/properties-custom-filelink.js":16,"./components/cmp-properties-custom-fileupload/properties-custom-fileupload.js":17,"./components/cmp-properties-custom-input/properties-custom-input.js":18,"./components/cmp-properties-custom-sectionhead/properties-custom-sectionhead.js":19,"./components/cmp-properties-custom-selectbox/properties-custom-selectbox.js":20,"./components/cmp-properties-custom-signature/properties-custom-signature.js":21,"./components/cmp-properties-custom-text/properties-custom-text.js":22,"./components/cmp-properties-emp-record/properties-emp-record.js":23,"./components/cmp-properties-form-complete/properties-form-complete.js":24,"./components/cmp-properties-notifications/properties-notifications.js":25,"./components/cmp-properties-profile-review/properties-profile-review.js":26,"./components/cmp-properties-smart/properties-smart.js":27,"./components/cmp-properties-step-permissions/properties-step-permissions.js":28,"./components/cmp-properties-step/properties-step.js":29,"./components/cmp-step-renderer/step-renderer.js":30,"./components/cmp-template-field-renderer/template-field-renderer.js":31,"./components/cmp-template-list-form/template-list-form.js":32,"./components/cmp-template-list-packet/template-list-packet.js":33,"./components/cmp-tracked-form-group/tracked-form-group.js":34,"./components/cmp-tracked-form/tracked-form.js":35,"./config/load-config.js":39,"./config/router.js":40,"./helpers/fieldRendererHlp/field-renderer.js":41,"./helpers/fieldsHlp/fields.js":42,"./helpers/formsHlp/forms.js":43,"./helpers/statusLabelHlp/status-label.js":44,"./routes/form-builder/builder/builder.state.js":48,"./routes/form-builder/builder/segment-builder/builder.js":49,"./routes/form-builder/builder/segment-builder/builder.logic.js":50,"./routes/form-builder/builder/segment-fields/fields.js":51,"./routes/form-builder/builder/segment-fields/fields.logic.js":52,"./routes/form-builder/builder/segment-properties/properties.js":53,"./routes/form-builder/builder/segment-properties/properties.logic.js":54,"./routes/form-builder/form-builder.state.js":55,"./routes/form-builder/preview/preview.state.js":56,"./routes/form-builder/preview/segment-attachments/attachments.js":57,"./routes/form-builder/preview/segment-attachments/attachments.logic.js":58,"./routes/form-builder/preview/segment-form-header/form-header.js":59,"./routes/form-builder/preview/segment-form-header/form-header.logic.js":60,"./routes/form-builder/preview/segment-form-workflow/form-workflow.js":61,"./routes/form-builder/preview/segment-form-workflow/form-workflow.logic.js":62,"./routes/form-builder/preview/segment-page-header/page-header.js":63,"./routes/form-builder/preview/segment-page-header/page-header.logic.js":64,"./routes/form-builder/preview/segment-steps-summary/steps-summary.js":65,"./routes/form-builder/preview/segment-steps-summary/steps-summary.logic.js":66,"./routes/form-builder/segment-content/content.js":67,"./routes/form-builder/segment-content/content.logic.js":68,"./routes/form-builder/segment-header/header.js":69,"./routes/form-builder/segment-header/header.logic.js":70,"./routes/form-builder/settings/segment-settings/settings.js":71,"./routes/form-builder/settings/segment-settings/settings.logic.js":72,"./routes/form-builder/settings/settings.state.js":73,"./routes/form-instance/form-instance.state.js":74,"./routes/form-instance/segment-attachments/attachments.js":75,"./routes/form-instance/segment-attachments/attachments.logic.js":76,"./routes/form-instance/segment-form/form.js":77,"./routes/form-instance/segment-form/form.logic.js":78,"./routes/form-instance/segment-header/header.js":79,"./routes/form-instance/segment-header/header.logic.js":80,"./routes/form-instance/segment-steps-summary/steps-summary.js":81,"./routes/form-instance/segment-steps-summary/steps-summary.logic.js":82,"./routes/form-templates/form-templates.state.js":83,"./routes/form-templates/segment-content/content.js":84,"./routes/form-templates/segment-content/content.logic.js":85,"./routes/form-templates/segment-header/header.js":86,"./routes/form-templates/segment-header/header.logic.js":87,"./routes/form-tracking/form-tracking.state.js":88,"./routes/form-tracking/segment-content/content.js":89,"./routes/form-tracking/segment-content/content.logic.js":90,"./routes/form-tracking/segment-header/header.js":91,"./routes/form-tracking/segment-header/header.logic.js":92,"./routes/inbox/form-instance/form-instance.state.js":93,"./routes/inbox/form-instance/segment-attachments/attachments.js":94,"./routes/inbox/form-instance/segment-attachments/attachments.logic.js":95,"./routes/inbox/form-instance/segment-close/close.js":96,"./routes/inbox/form-instance/segment-close/close.logic.js":97,"./routes/inbox/form-instance/segment-form/form.js":98,"./routes/inbox/form-instance/segment-form/form.logic.js":99,"./routes/inbox/form-instance/segment-header/header.js":100,"./routes/inbox/form-instance/segment-header/header.logic.js":101,"./routes/inbox/form-instance/segment-steps/steps.js":102,"./routes/inbox/form-instance/segment-steps/steps.logic.js":103,"./routes/inbox/inbox.state.js":104,"./routes/inbox/segment-content/content.js":105,"./routes/inbox/segment-content/content.logic.js":106,"./routes/inbox/segment-header/header.js":107,"./routes/inbox/segment-header/header.logic.js":108,"./routes/index/index.state.js":109,"./routes/index/segment-content/content.js":110,"./routes/index/segment-content/content.logic.js":111,"./routes/index/segment-header/header.js":112,"./routes/index/segment-header/header.logic.js":113,"./routes/my-forms/my-forms.state.js":114,"./routes/my-forms/segment-content/content.js":115,"./routes/my-forms/segment-content/content.logic.js":116,"./routes/my-forms/segment-header/header.js":117,"./routes/my-forms/segment-header/header.logic.js":118,"./routes/packet-builder/builder/builder.state.js":119,"./routes/packet-builder/builder/segment-builder/builder.js":120,"./routes/packet-builder/builder/segment-builder/builder.logic.js":121,"./routes/packet-builder/packet-builder.state.js":122,"./routes/packet-builder/segment-content/content.js":123,"./routes/packet-builder/segment-content/content.logic.js":124,"./routes/packet-builder/segment-header/header.js":125,"./routes/packet-builder/segment-header/header.logic.js":126,"./routes/packet-builder/settings/segment-settings/settings.js":127,"./routes/packet-builder/settings/segment-settings/settings.logic.js":128,"./routes/packet-builder/settings/settings.state.js":129,"./routes/send/segment-content/content.js":130,"./routes/send/segment-content/content.logic.js":131,"./routes/send/segment-header/header.js":132,"./routes/send/segment-header/header.logic.js":133,"./routes/send/send.state.js":134}],46:[function(e,t,n){"use strict";angular.module("ec-forms",["super-suit","ec-forms-segments","ec-forms-segment-logic","ec-forms-templates","dndLists","ec-forms-helpers","ec-forms-components","ec-forms-decorators","ec-forms-filters","ec-forms-services"]),angular.module("ec-forms-segments",[]),angular.module("ec-forms-segment-logic",[]),angular.module("ec-forms-helpers",[]),angular.module("ec-forms-components",[]),angular.module("ec-forms-decorators",[]),angular.module("ec-forms-filters",[]),angular.module("ec-forms-services",[])},{}],47:[function(e,t,n){"use strict";!function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-attachments/attachments.html",'<div class="cmp-attachments"> <div class="fb-step"> <div class="fb-step-header secondary"> <h4 class="fb-step-title">Attachments</h4> </div> <div class="content"> <p id="attachment-instructions">Include files and attachments with this template. Attachments will be accessible to all workflow participants. <em>(Max file size: 50 MB)</em></p> <div class="file-list-container"> <ul id="attachment-upload-list-{{::$id}}" class="attachments-list" ng-class="{\'addHeight\': vm.processing}"> <li ng-repeat="attachment in vm.files" class="form-attachment"> <i class="file-icon" ss-icon="{{ attachment.icon }}" aria-hidden="true"></i> <a href="" class="document" ng-bind="attachment.filename" ng-click="go.download(attachment._fileId)" title="Open {{attachment.filename}}" target="_blank"></a> <div class="attachment-actions-group" role="group"> <i ss-icon="trash-o" aria-hidden="true"></i> <a role="button" href="" class="trash" ng-click="go.delete(attachment)" aria-label="Delete {{ attachment.filename }}" title="Delete {{attachment.filename}}" aria-controls="attachment-status-indicator-{{::$id}}, attachment-upload-list-{{::$id}}, attachment-status-alert-{{::$id}}">Delete</a> </div> </li> </ul> <super-loader id="attachment-status-indicator-{{::$id}}" is-loading="vm.processing" status-text="vm.processingStatus" fill role="status"></super-loader> </div> <div class="uploader-group" role="group"> <i id="attachment-status-alert-{{::$id}}" class="attachment-status-alert" role="alert" aria-live="polite" aria-atomic="true"></i> <super-button class="upload" label="Add Attachment" aria-hidden="true" tabindex="-1"></super-button> <input id="fileUpload" type="file" nv-file-select name="fileUpload" uploader="uploader" filters="validExt,fileSize,fileDupe" aria-label="Select files to attach to the form" aria-describedby="attachment-instructions" aria-controls="attachment-status-indicator-{{::$id}}, attachment-upload-list-{{::$id}}, attachment-status-alert-{{::$id}}"> </div> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-checkbox-group/checkbox-group.html",'<div class="cmp-checkbox-group" ss-validate="field.ignoreValidations || vm.validate(field.step.formFieldValues, field._label)"> <label ng-bind="field._label" class="field-label" ng-class="{\'required\': field._required}"></label> <div ss-bind-html="vm.template"></div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-emp-initiated-template/emp-initiated-template.html",'<div class="cmp-emp-initiated-template"> <div class="gd-row form-list-header-group"> <div class="sort-by-filter"> <super-select-list type="filter" label="Sort by" model="vm.sortBy" is-disabled="vm.isLoading || vm.isSorting || vm.isSearching"> <super-select-list-item ng-repeat="sort in vm.sortCriteria" value="sort.value" label="sort.name"></super-select-list-item> </super-select-list> </div> </div> <div class="gd-row gd-100p" ss-pending="vm.isSorting || vm.isSearching"> <ul class="ss-form-panel-list forms-list"> <li class="ss-panel-list-item" ng-class="{\'no-left-margin\': {{$index}} % 5 === 0}" ng-show="vm.formsAndPackets.length > 0" ng-repeat="form in vm.formsAndPackets track by form.id"> <article class="form-list-item-wrapper"> <div class="form-icon-group"> <figure class="form-icon" ss-icon-before="li-form-e-large" role="img" aria-hidden="true"></figure> </div> <header class="form-name-group"> <h3 class="form-name"> <a href="/ec-formbuilder/form/{{form.id}}/preview?returnUrl=/ec-forms/inbox" ng-click="go.setInboxDefaultTab()" title="click to preview \'{{::form._name}}\'\'">{{::form._name}}</a> </h3> </header> <dl class="form-meta"> <div class="form-meta-category"> <dt aria-label="category"></dt> <dd title="{{::form._category.name}}">{{::form._category.name}}</dd> </div> <div class="form-meta-admin"> <dt>Form Administrator:</dt> <dd><span title="{{::form.adminName}}">{{::form.adminName}}</span></dd> </div> </dl> <footer class="action-group"> <super-button label="start this form" ss-icon-before="{{form.initiating ? \'spinner\':\'mail-forward\'}}" ng-click="go.initiateForm(form)" ng-class="{\'initiating\': form.initiating}" ng-disabled="form.initiating"> </super-button> </footer> </article> </li> </ul> <p ng-if="vm.formsAndPackets.length < 1 && !vm.isLoading && !vm.isSorting && !vm.isSearching">No Forms or Packets found</p> <div ng-if="vm.showInfScroll" ss-pending="vm.isLoading" infinite-scroll="scrollData()"></div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-credentials-list/credentials-list.html",'<div class="cmp-credentials-list"> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-dnd-options/dnd-options.html",'<div class="cmp-dnd-options"> <h5>Options</h5> <ul class="option-list" ng-class="{\'overflow\': vm.options.length > 5}" dnd-list="vm.options" dnd-allowed-types="[\'optionType\']" dnd-drop="go.dropOption(event, index, item)" ss-validate="go.validate(field)"> <li class="option-list-item" ng-repeat="option in vm.options track by $index"> <span ss-icon="navicon" dnd-effect-allowed="move" dnd-draggable="option" dnd-moved="go.moveOption($index, option)" dnd-type="\'optionType\'"></span> <super-input-text model="option.value"></super-input-text> <button type="button" ng-if="vm.options.length > 1" class="option-remove" ss-icon="minus-circle" ng-click="go.removeOption($index)"></button> </li> </ul> <super-button std label="Add New Option" ss-icon="plus" ng-click="go.addOption()"></super-button> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-fl-share-form/fl-share-form.html",'<div class="cmp-fl-share-form modal"> <button type="button" ng-click="go.cancel()" class="button flat modal-close" ss-icon-before="times"></button> <div class="title">Share Template</div> <div class="content"> <ul class="gd-row org"> <li class="gd-100p"> <super-org-search model="vm.org" label="Organization or ID" limit="1"></super-org-search> </li> </ul> <ul class="gd-row form-name"> <li class="gd-100p"> <super-input-text label="Form Template Name" name="formName" model="vm.formName"></super-input-text> </li> </ul> </div> <div class="modal-button"> <super-button label="Cancel" ng-click="go.cancel()" is-disabled="vm.saving"></super-button> <super-button pri class="save-button" ng-class="{\'saving\': vm.saving}" label="Share Template" ng-click="go.share()" is-disabled="!vm.org.length || !vm.formName.length || vm.saving" ss-icon="spinner"></super-button> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-field-renderer/field-renderer.html",'<div class="cmp-field-renderer auto-{{ field.id }}" ng-show="vm.visibility" ss-bind-html="vm.template"></div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-form-send-status/form-send-status.html",'<div class="cmp-form-send-status" ss-pending="vm.loading" ss-pending-status="\'{{vm.loadingMessage}}\'"> <div class="gd-row batch-status-wrapper"> <div class="batch-info-group"> <p><span ng-bind="vm.sendStatusText"></span>&nbsp;<span ng-if="!vm.hasFailures" ng-pluralize count="batch._includedEmployeeIds.length" when="{\'one\' : \'employee\', \'other\' : \'employees\'}"></span>&nbsp;|&nbsp;Sent by <span ng-bind="batch._creator.name"></span></p> <p class="status-helper-text" ng-if="vm.status._status !== 0" ng-bind-html="vm.statusHelperText"></p> </div> <div class="batch-progress-group"> <div class="batch-progress-wrapper"> <div class="progress-text"> <p ng-if="vm.status._status === 0" role="status">{{vm.numInBatch || 0}}&nbsp;of&nbsp;{{vm.formattedRecipientLength}}&nbsp;prepared</p> <p ng-if="vm.status._status !== 0" role="status">{{vm.numComplete}}&nbsp;of&nbsp;{{vm.formattedRecipientLength}}&nbsp;sent</p> </div> <div class="progress-bar-group"> <div class="progress-bar-container" ng-show="vm.inProgress"><div class="progress-bar" ng-style="{\'width\': vm.percentComplete, \'transition\': \'width 3s\'}" role="progressBar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="{{vm.percentComplete}}" aria-label="batch progress bar"></div></div> <em class="progress-message" ng-show="!vm.inProgress"><span ng-class="[vm.progressMessageClass]" ng-bind="vm.progressMessage"></span></em> </div> </div> </div> </div> <button type="button" class="hide-batch-control" ng-if="vm.hasFailures" ng-click="go.archiveBatch()" ss-icon="times" aria-label="clear status message for {{form._name}}" title="clear status message for {{form._name}}"></button> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){
e.put("components/cmp-form-list-group/form-list-group.html",'<div class="cmp-form-list-group" ng-class="{\'{{type}}\' : type}"> <div class="gd-row form-list-header-group"> <super-select-list ng-if="vm.formsAndPackets.length > 1" class="gd-100p sort-by-filter" type="filter" label="Sort by" model="vm.sortBy"> <super-select-list-item ng-repeat="sort in vm.sortCriteria" value="sort.value" label="sort.name"></super-select-list-item> </super-select-list> </div> <ul class="ss-form-panel-list"> <li class="ss-panel-list-item" ng-show="vm.formsAndPackets.length > 0" ng-class="{\'pending\': form.isPending && !form.isPacket}" ng-repeat="form in vm.formsAndPackets track by $index"> <div class="form-list-item-wrapper" ng-class="{\'rejected\': form.isRejected, \'{{form.dueDateStatus.class}}\' : form.dueDateStatus && !form.isRejected}"> <div class="form-item-details" ng-if="!form.isPacket" data-auto-date-modified="{{form._createdUtc}}" data-auto-due-date="{{form._dueDateUtc}}"> <div class="form-icon-group"> <figure class="form-icon" ss-icon-before="{{form._isEmployeeInitiated ? \'li-form-e-large\' : \'li-form-large\'}}" role="img" aria-hidden="true"></figure> </div> <div class="form-info-group"> <h3 class="form-name"> <a ng-if="!form.isPending && !form.rejectedByUser" ng-click="go.complete(form)" ng-bind="form.name"></a> <span ng-if="form.isPending || form.rejectedByUser">{{form.name}}</span> <small class="form-user-name" ng-if="!form.userIsPrimary" ss-icon="user" ng-bind="form._employee.name"></small> </h3> <div class="form-meta" data-auto-due-date="{{ form._dueDateUtc }}"> <ul class="ss-pipe-children" ng-class="{\'items-2\': form.dueDateStatus}"> <li class="form-meta-item" ng-bind="form.stepActionName"></li> <li class="form-meta-item" ng-if="form.dueDateStatus"> <strong class="form-due-date" ng-class="{\'{{form.dueDateStatus.class}}\': form.dueDateStatus}" ng-bind="form.dueDateStatus.statusFriendly"></strong> </li> </ul> </div> </div> <div class="form-workflow-status-group"> <p><strong ng-bind="form.formStatus" ng-class="{\'denied\':form.isRejected && form.isUserStep}" ss-icon="{{form.isRejected && form.isUserStep ? \'thumbsdown-stripes\' : \'\' }}"></strong></p> </div> <div class="form-actions-group"> <super-button ng-if="!form.isPending && !form.isSubmitted" label="{{form.stepActionLabel}}" ng-click="go.complete(form)" ng-disabled="form.rejectedByUser"></super-button> </div> </div> <div class="form-item-details" ng-if="form.isPacket"> <div class="form-icon-group"> <figure class="form-icon" ss-icon-before="{{form._isEmployeeInitiated ? \'li-packet-e-large\' : \'li-packet-large\'}}" role="img" aria-hidden="true"></figure> </div> <div class="form-info-group"> <h3 class="form-name"> <a ng-click="go.toggleDetails(form)">{{form.name}}&nbsp;<small>-&nbsp;Packet</small></a> </h3> <button type="button" class="packet-toggle" ss-icon-after="{{form.showDetails === false ? \'angle-down\': \'angle-up\'}}" ng-click="go.toggleDetails(form)">{{form.showDetails === false ? \'Show\' : \'Hide\'}} Details</button> </div> <div class="form-workflow-status-group"> <p><strong ng-bind="form.formStatus" ng-class="{\'denied\':form.isRejected}" ss-icon="{{form.isRejected ? \'thumbsdown-stripes\' : \'\' }}"></strong></p> </div> <div class="form-actions-group"> <super-button label="{{form.showDetails ? \'Hide\' : \'Show\'}} Details" ng-click="go.toggleDetails(form)"></super-button> </div> </div> </div> <div ng-if="form.isPacket" ng-show="form.showDetails" class="form-packet-details"> <ul class="form-packet-list"> <li class="form-packet-list-item" ng-if="form.content.length < 1"> <p>No Forms are associated with this Package</p> </li> <li class="form-packet-list-item" ng-if="form.content.length > 0" ng-repeat="Pform in form.content | orderBy: \'_packetInstance.sortOrder\'" ng-class="{\'pending\': Pform.isPending}"> <div class="form-list-item-wrapper" ng-class="{\'rejected\': Pform.isRejected, \'{{Pform.dueDateStatus.class}}\' : Pform.dueDateStatus && !Pform.isRejected}"> <div class="form-item-details" data-auto-date-modified="{{ Pform._createdUtc }}" data-auto-due-date="{{ Pform._dueDateUtc }}"> <div class="form-icon-group"> <figure class="form-icon" ss-icon-before="{{Pform._isEmployeeInitiated ? \'li-form-e-large\' : \'li-form-large\'}}" role="img" aria-label="form icon"></figure> </div> <div class="form-info-group"> <h3 class="form-name"> <a ng-if="!Pform.isPending && !Pform.rejectedByUser" ng-click="go.complete(Pform)">{{Pform.name}}</a> <span ng-if="Pform.isPending || Pform.rejectedByUser">{{Pform.name}}</span> <small class="form-user-name" ng-if="!Pform.userIsPrimary" class="form-user-name" ss-icon="user" ng-bind="Pform._employee.name"></small> </h3> <div class="form-meta"> <ul class="gd-row items-2 ss-pipe-children"> <li class="form-meta-item" ng-bind="Pform.stepActionName"></li> <li class="form-meta-item" ng-if="Pform._dueDateUtc"> <strong class="form-due-date" ng-class="{\'{{Pform.dueDateStatus.class}}\': Pform.dueDateStatus}" ng-bind="Pform.dueDateStatus.statusFriendly"></strong> </li> </ul> </div> </div> <div class="form-workflow-status-group"> <p><strong ng-bind="Pform.formStatus" ng-class="{\'denied\':Pform.isRejected && Pform.isUserStep}" ss-icon="{{Pform.isRejected && Pform.isUserStep ? \'thumbsdown-stripes\' : \'\' }}"></strong></p> </div> <div class="form-actions-group"> <super-button ng-if="!Pform.isPending" ng-disabled="Pform.rejectedByUser" label="{{Pform.stepActionLabel}}" ng-click="go.complete(Pform)"></super-button> </div> </div> </div> </li> </ul> </div> </li> <li ng-if="vm.showInfScroll" ss-pending="vm.loading" infinite-scroll="scrollData()" infinite-scroll-distance="0.5" infinite-scroll-listen-for-event="forms-inbox.data-loaded"></li> <li class="" ng-if="vm.formsAndPackets.length < 1 && !vm.loading">No Forms or Packets found</li> </ul> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-multiple-employee-search/multiple-employee-search.html",'<div class="cmp-multiple-employee-search"> <super-button ss-icon="users" smp ng-click="go.toggleFilter()" label="{{label}}" is-disabled="model.length > 0" data-qa="add-group-control"></super-button> <div class="multiple-employee-search" ng-class="{\'ss-menu-open\' : vm.formOpened}"> <div class="form-error" ng-if="!model.length && vm.attempted && !vm.filtering" role="alert"><p ss-icon="exclamation-circle">These parameters returned 0 results. Please update and try again.</p></div> <form ng-submit="go.add()"> <div class="form-header"> <h5>Define A Group <span class="effective-date-subheading">Employee information effective as of {{vm.asOf}}</span></h5> <button class="close fa-times-before" ss-icon="times" ng-click="go.toggleFilter()"></button> </div> <div class="gd-row"> <div class="gd-50p" data-qa="auto-job-type"> <super-multi-filter-list label="With this Job Type" selected="vm.selected.jobType"> <super-multi-filter-list-item ng-repeat="jobType in vm.jobTypes | orderBy:\'_name\'" option="jobType"></super-multi-filter-list-item> </super-multi-filter-list> </div> <div class="gd-50p" data-qa="auto-location"> <super-multi-filter-list label="At this Location" selected="vm.selected.location"> <super-multi-filter-list-item ng-repeat="location in vm.locations | orderBy:\'_name\'" option="location"></super-multi-filter-list-item> </super-multi-filter-list> </div> </div> <div class="gd-row"> <div class="gd-50p" data-qa="auto-employment-group"> <super-multi-filter-list label="In this Employment Group" selected="vm.selected.employmentGroup" is-disabled="vm.employmentGroupDisabled"> <super-multi-filter-list-item ng-repeat="group in vm.employmentGroups | orderBy:\'_name\'" option="group"></super-multi-filter-list-item> </super-multi-filter-list> </div> <div class="gd-50p" data-qa="auto-department"> <super-multi-filter-list label="In this Department" selected="vm.selected.department"> <super-multi-filter-list-item ng-repeat="department in vm.departments | orderBy:\'_name\'" option="department"></super-multi-filter-list-item> </super-multi-filter-list> </div> </div> <div class="gd-row"> <div class="gd-50p" data-qa="auto-status"> <super-multi-filter-list label="With this Status" selected="vm.selected.status"> <super-multi-filter-list-item ng-repeat="status in vm.status | orderBy:\'_name\' track by $index" option="status"></super-multi-filter-list-item> </super-multi-filter-list> </div> <div class="gd-50p"> <div class="main-label"> <label>Hired within this Date Range</label> </div> <super-input-datepicker class="gd-50p hireDateStart" options="" model="vm.selected.hireDateStart"></super-input-datepicker><span class="gd-5p">–</span> <super-input-datepicker id="hireEndDate" class="gd-45p hireDateEnd" options="vm.endDateOptions" model="vm.selected.hireDateEnd" is-disabled="vm.noStartDate"></super-input-datepicker> </div> </div> <div class="gd-row exclusions"> <div class="main-label"> <label>Exclude these Employees</label> </div> <div> <super-employee-search class="exclusions-search" model="exclusions" use-pill="true"></super-employee-search> </div> </div> <div class="gd-row actions-group"> <div class="gd-50p"> <button type="button" class="clear-all-btn" ng-click="go.clearAllFilters()">Clear All Filters</button> </div> <div class="gd-50p flr"> <super-button data-qa="auto-cancel" label="Cancel" ng-click="go.cancel()" class="close-button" ng-disabled="vm.filtering"></super-button> <super-button data-qa="auto-add-group" ng-if="!model.length" pri class="save-button" ss-pending="vm.filtering" ng-click="go.addGroup()" label="Add Group"></super-button> <super-button data-qa="auto-update-group" ng-if="model.length" pri class="save-button" ss-pending="vm.filtering" ng-click="go.addGroup()" label="Update Group"></super-button> </div> </div> </form> </div> <div> <div class="employee-group" ng-show="model.length > 0"> <span ss-icon="users"> <a ng-click="go.toggleFilter()">Employee Group&nbsp;(<span class="users-count" ng-bind="model.length" data-qa="group-total"></span>)</a> <button type="button" class="remove" ss-icon-after="times" ng-click="routeVm.removeGroup()"></button> </span> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-date/properties-custom-date.html",'<div class="cmp-properties-custom-date"> <h4 class="title-properties">Date Properties</h4> <div class="gd-row"> <cmp-properties-custom-common fields="fields"></cmp-properties-custom-common> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-common/properties-custom-common.html",'<div class="cmp-properties-custom-common"> <div class="gd-row" ng-if="vm.showLabel"> <super-input-text label="Label" model="vm.field._label" placeholder="Enter label text..."></super-input-text> </div> <div class="gd-row" ng-if="vm.showRequired"> <super-input-checkbox label="This is a required field" model="vm.field._required"></super-input-checkbox> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-filelink/properties-custom-filelink.html",'<div class="cmp-properties-custom-filelink"> <h4 class="title-properties">Link Properties</h4> <div class="gd-row"><super-input-text label="Insert a Link" model="field.config.location" ss-validate="vm.validator.requiredUrl(field.config.location)">www.link.com</super-input-text></div> <div class="gd-row"><super-input-text label="Link Name (optional)" model="field.config.name"></super-input-text></div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-dropdown/properties-custom-dropdown.html",'<div class="cmp-properties-custom-dropdown"> <h4 class="title-properties">Dropdown Properties</h4> <div class="gd-row"> <cmp-properties-custom-common fields="fields"></cmp-properties-custom-common> </div> <div class="gd-row"> <super-select-list label="Width" model="vm.field.config.width"> <super-select-list-item ng-repeat="option in vm.widths" value="option.value" label="option.name"></super-select-list-item> </super-select-list> </div> <div class="gd-row"> <cmp-dnd-options field="vm.field" options="vm.field._options"></cmp-dnd-options> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-fileupload/properties-custom-fileupload.html",'<div class="cmp-properties-custom-fileupload"> <h4 class="title-properties">File Upload Properties</h4> <div class="gd-row"> <cmp-properties-custom-common fields="fields"></cmp-properties-custom-common> </div> <super-input-textarea label="Instructions" model="vm.field._label" initial-height="90"></super-input-textarea> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-input/properties-custom-input.html",'<div class="cmp-properties-custom-input"> <h4 class="title-properties">Input Text Properties</h4> <div class="gd-row"> <cmp-properties-custom-common fields="fields"></cmp-properties-custom-common> </div> <div class="gd-row"> <super-select-list label="Height" model="vm.field._fieldType"> <super-select-list-item ng-repeat="option in vm.heights" value="option.value" label="option.name"></super-select-list-item> </super-select-list> <div ng-show="vm.field._fieldType === \'super-input-textarea\'">Multi-line text cannot be added to a PDF overlay.</div> </div> <div class="gd-row"> <super-select-list label="Width" model="vm.field.config.width"> <super-select-list-item ng-repeat="option in vm.widths" value="option.value" label="option.name"></super-select-list-item> </super-select-list> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-sectionhead/properties-custom-sectionhead.html",'<div class="cmp-properties-custom-sectionhead"> <h4 class="title-properties">Section Head Properties</h4> <div class="gd-row"> <cmp-properties-custom-common fields="fields" show-required="false" show-instructions="false"></cmp-properties-custom-common> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-signature/properties-custom-signature.html",'<div class="cmp-properties-custom-signature"> <h4 class="title-properties">Signature Properties</h4> <div class="gd-row"> <cmp-properties-custom-common fields="fields"></cmp-properties-custom-common> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-emp-record/properties-emp-record.html",'<div class="cmp-properties-emp-record"> <button type="button" class="smp" ss-toggle="emp-record-content" ss-toggle-start-expanded="{{vm.commit}}" data-qa="employee-record-toggle">Employee Profile</button> <div class="emp-record-content"> <super-input-checkbox is-disabled="!vm.hasExternalData || !canEdit" model="vm.commit" label="Commit submitted data to Employee\'s profile." data-qa="employee-record-toggle-checkbox"></super-input-checkbox> <super-popover>If enabled, this will overwrite any existing data in the Employee\'s profile. This control will be disabled for fields that do not have corresponding fields in the employee record.</super-popover> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-selectbox/properties-custom-selectbox.html",'<div class="cmp-properties-custom-selectbox"> <h4 class="title-properties">Select Box Properties</h4> <div class="gd-row"> <cmp-properties-custom-common fields="fields"></cmp-properties-custom-common> </div> <div class="gd-row"> <super-input-checkbox label="Allow user to select multiple choices" model="vm.field.config.multiple"></super-input-checkbox> </div> <div class="gd-row"> <super-select-list label="Columns" model="vm.field.config.colwidth"> <super-select-list-item ng-repeat="option in vm.cols" value="option.value" label="option.name"></super-select-list-item> </super-select-list> </div> <cmp-dnd-options field="vm.field" options="vm.field._options"></cmp-dnd-options> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-text/properties-custom-text.html",'<div class="cmp-properties-custom-text"> <h4 class="title-properties">Text Properties</h4> <super-input-textarea placeholder="Enter text..." model="vm.field._label" ss-validate="go.validate(vm.field)"></super-input-textarea> <super-select-list label="Width" model="vm.field.config.width"> <super-select-list-item ng-repeat="option in vm.widths" value="option.value" label="option.name"></super-select-list-item> </super-select-list> <super-input-checkbox label="Map Text in Overlay Builder" model="vm.field.config.mappable"></super-input-checkbox> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-notifications/properties-notifications.html",'<div class="cmp-properties-notifications"> <button type="button" class="smp" ss-toggle-start-expanded="true" ng-disabled="step._stepAction == null" ss-toggle="step-action-content" aria-controls="properties-step-action-content">Step Actions</button> <div id="properties-step-action-content" class="step-action-content"> <div ng-repeat="event in vm.stepEvents"> <div ng-if="step._stepAction === event.eventActionEnum"> <h5><em ng-bind="event.title"></em></h5> <ul class="submit-fld-ctrl-list"> <li ng-repeat="action in event.eventActions" class="fld-ctrl-item"> <super-input-checkbox label="{{:: action.title }}" model="action.checked" ng-click="go.eventClicked(event, action)" is-disabled="action.isDisabled()"></super-input-checkbox> <super-employee-search ng-if="action.checked && action.emails" model="action.emails" use-pill="true" placeholder="Search by name"> </super-employee-search> </li> </ul> </div> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-smart/properties-smart.html",'<div class="cmp-properties-smart"> <h4 class="title-properties">{{fields[0]._label}} Properties</h4> <div class="gd-row"><super-input-checkbox label="Display section label" model="fields[0]._active"></super-input-checkbox></div> <div class="gd-row"><super-input-text label="Instructions" model="fields[1]._label"></super-input-text></div> <div class="gd-row"> <super-input-checkbox label="fields are editable" model="vm.canEdit" ng-click="go.switchFieldTypes(vm.canEdit)" is-disabled="!vm.canToggleFieldtype" data-qa="toggle-field-type"></super-input-checkbox> </div> <div class="gd-row fields" data-qa="property-panel-fields"> <table> <thead> <tr> <th width="65%">Display&nbsp;<em ng-if="vm.readOnlyHeading !== undefined">Read-only</em></th> <th class="required-control" width="35%">Required</th> </tr> </thead> <tfoot ng-if="vm.hasSensitiveFields"> <tr> <td colspan="2"><i class="fa-warning"></i><strong class="sensitive-field-label">Sensitive Fields</strong> <super-popover><p>If "view" access for any sensitive field is not enabled, that field will display as redacted</p></super-popover></td> </tr> </tfoot> <tbody class="active-fld-ctrl-list"> <tr class="active-fld-ctrl-item" ng-repeat="f in vm.activatableFields"> <td class="fld-ctrl-active" data-qa="{{f._label}}"> <super-input-checkbox label="{{f._label}}" model="f._active" ng-click="f._required = false"></super-input-checkbox> <i ng-if="f._sensitive" class="fa-warning" data-qa="sensitive-field-icon"></i> </td> <td class="fld-ctrl-required"> <super-input-checkbox model="f._required" is-disabled="f._fieldType.startsWith(\'readOnly\') || !f._active"></super-input-checkbox> </td> </tr> </tbody> </table> </div> <cmp-properties-emp-record fields="fields" can-edit="vm.canEdit"></cmp-properties-emp-record> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-profile-review/properties-profile-review.html",'<div class="cmp-properties-profile-review"> <h4 class="title-properties">Review Profile Updates</h4> <div class="gd-row auto-step-participants"> <div class="super-select-list"> <div class="main-label"><label>Main Step Participant</label></div> <button type="button" class="super-button std" ss-menu="select-menu" hide-on-select> <label ss-icon-after="caret-down" ng-bind="vm.buttonLabel"></label> </button> <div class="select-menu"> <ul class="select-menu-list"> <li class="super-select-list-item select-menu-list-item" ng-repeat="option in vm.stepParticipant" ng-click="go.selectParticipant(option)"> {{option.name}} <small ng-if="option.desc" ng-bind="option.desc"></small> </li> </ul> </div> </div> <super-employee-search model="vm.specificParticipant" ss-validate="vm.validator.required(vm.specificParticipant[0], \'Step Participant\')" limit="1" ng-if="step._stepParticipant.participantType === vm.stepParticipantType.specificPerson" placeholder="Search by name"></super-employee-search> </div> <div class="gd-row auto-action-performed"> <div class="main-label"> <label>Action Performed</label> </div> <p>Review Employee Profile Updates</p> </div> <cmp-properties-notifications step="step"></cmp-properties-notifications> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-form-complete/properties-form-complete.html",'<div class="cmp-properties-form-complete"> <h4 class="title-properties">{{step._name}} - Properties</h4> <div class="gd-row"> <super-input-checkbox label="Add completed form to recipient\'s Employee Profile (will appear in Personnel File)" model="vm.addToEmpRecord"></super-input-checkbox> </div> <div class="gd-row" ng-if="vm.addToEmpRecord"> <super-select-list model="vm.webFormSubCategory"> <li class="select-category"><h5>Personnel Documents</h5></li> <super-select-list-item ng-repeat="item in vm.personnel.enums" value="\'0-\' + item.value" label="item.name"></super-select-list-item> <li class="select-category"><h5>Medical Documents</h5></li> <super-select-list-item ng-repeat="item in vm.medical.enums" value="\'1-\' + item.value" label="item.name"></super-select-list-item> </super-select-list> </div> <div class="gd-row"> <h5><em>On Complete</em></h5> <ul class="actions"> <li class="fld-ctrl-item"><super-input-checkbox label="Email Employee" model="actions.emailEmployee"></super-input-checkbox></li> <li class="fld-ctrl-item"><super-input-checkbox label="Email Form Sender" model="actions.emailFormSender"></super-input-checkbox></li> <li class="fld-ctrl-item"><super-input-checkbox label="Email Employee\'s Supervisor" model="actions.emailSupervisor"></super-input-checkbox></li> <li class="fld-ctrl-item"><super-input-checkbox label="Email Others" model="actions.emailOthers"></super-input-checkbox></li> </ul> <super-employee-search model="actions.emailIds" ng-if="actions.emailOthers" use-pill="true" placeholder="Search by name"></super-employee-search> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-step/properties-step.html",'<div class="cmp-properties-step"> <h4 class="title-properties">Workflow Step {{step.index}} - Properties</h4> <div class="gd-row auto-step-name"> <super-input-text label="Name" model="step._name"></super-input-text> </div> <div class="gd-row auto-step-instructions"> <super-input-text label="Instructions" model="step._instructions"></super-input-text> </div> <div class="gd-row auto-step-participants"> <div class="super-select-list"> <div class="main-label"><label>Step Participant</label></div> <button type="button" class="super-button std" ss-menu="select-menu" hide-on-select> <label ss-icon-after="caret-down" ng-bind="vm.buttonLabel"></label> </button> <div class="select-menu"> <ul class="select-menu-list"> <li class="super-select-list-item select-menu-list-item" ng-repeat="option in vm.stepParticipant.getEnums()" ng-click="go.selectParticipant(option)"> {{option.name}} <small ng-if="option.desc" ng-bind="option.desc"></small> </li> </ul> </div> </div> <p class="support-text" ng-if="step._stepParticipant.participantType === vm.stepParticipant.primaryRecipientChosenWhenSent">Employee is the "main actor" around which the form revolves</p> <super-employee-search model="vm.specificParticipant" ss-validate="vm.validator.required(vm.specificParticipant[0], \'Step Participant\')" limit="1" ng-if="step._stepParticipant.participantType === vm.stepParticipant.specificPerson" placeholder="Search by name"></super-employee-search> </div> <div class="gd-row auto-action-performed"> <super-select-list label="Action Performed" model="step._stepAction"> <super-select-list-item ng-repeat="option in vm.stepActions" value="option.value" label="option.name"></super-select-list-item> </super-select-list> </div> <cmp-properties-step-permissions step="step" form="form"></cmp-properties-step-permissions> <cmp-properties-notifications step="step"></cmp-properties-notifications> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-step-permissions/properties-step-permissions.html",'<div class="cmp-properties-step-permissions"> <button class="smp" type="button" ss-toggle="permissions-content-toggle" ss-toggle-start-expanded>Step Access</button> <div class="permissions-content-toggle"> <table> <thead> <tr> <th class="participant">Participant can...</th> <th class="edit">Edit</th> <th class="view">View</th> </tr> </thead> <tfoot ng-if="vm.hasSensitiveFields"> <tr> <td colspan="3"> <i class="fa-warning"></i><strong>Sensitive Fields</strong> <super-popover> <p>If "view" is not enabled, sensitive fields (i.e. SSN) will be redacted</p> </super-popover> </td> </tr> </tfoot> <tbody ng-repeat="p in step._permissions" ng-class="{\'selected\': go.matchParticipant(p, step)}" data-auto="{{p.display}}"> <tr class="permissions-content"> <td valign="middle" class="name" ng-bind="p.display"></td> <td valign="middle" class="edit"><super-input-checkbox model="p.canEdit" ng-click="go.adjustStepAccess(\'canEdit\', p)" is-disabled="go.matchParticipant(p, step)"></super-input-checkbox></td> <td valign="middle" class="view"><super-input-checkbox model="p.canView" ng-click="go.adjustStepAccess(\'canView\', p)" is-disabled="go.matchParticipant(p, step)"></super-input-checkbox></td> </tr> <tr ng-if="vm.hasSensitiveFields" class="sensitive-field-access"> <td valign="middle" class=""><i class="fa-warning"></i>Sensitive Fields</td> <td valign="middle" class="edit"><super-input-checkbox model="p.canEditSensitive" ng-click="go.adjustStepAccess(\'canEditSensitive\', p)" is-disabled="!p.canView"></super-input-checkbox></td> <td valign="middle" class="view"><super-input-checkbox model="p.canViewSensitive" ng-click="go.adjustStepAccess(\'canViewSensitive\', p)" is-disabled="!p.canView"></super-input-checkbox></td> </tr> </tbody> <tbody ng-if="!step._permissions || !step._permissions.length"> <tr> <td class="name">None added</td> <td class="edit"><super-input-checkbox is-disabled="true"></super-input-checkbox></td> <td class="view"><super-input-checkbox is-disabled="true"></super-input-checkbox></td> </tr> </tbody> </table> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-step-renderer/step-renderer.html",'<section class="fb-step cmp-step-renderer" ng-class="{\'is-hover\': step.hoverState, \'is-selected\': routeVm.vm.selectedFormObject === step}"> <header class="fb-step-header" ng-mouseenter="step.hoverState = true" ng-mouseleave="step.hoverState = false"> <h4 class="fb-step-title">Workflow Step {{vm.stepIndex + 1}} <span ng-if="step._name">-</span> {{step._name}}</h4> <p class="fb-step-instructions" ng-if="step._instructions" ng-bind="step._instructions"></p> <div class="fb-step-meta"> <ul class="ss-pipe-children"> <li ss-icon="user" ng-bind="vm.participantLabel" data-qa="step-participant-assignee"></li> <li ss-icon="wrench">{{step._stepAction | enumByValue: \'stepAction\'}}</li> </ul> </div> <div class="fb-actions fb-step-actions"> <i class="drag-handle" ss-icon="navicon" role="presentation"></i> <b role="presentation">Properties</b> <button type="button" class="ctrl-remove" ss-icon-after="trash-o" ng-if="routeVm.vm.steps.length > 1" ng-click="go.removeStep($event, vm.stepIndex, routeVm.vm.steps)"></button> </div> </header> <ul class="fb-field-groups" dnd-list="step.fieldGroups" dnd-drop="go.dropFieldGroup(event, index, item, type, step)" dnd-allowed-types="[\'fieldType\', \'fieldGroup\']"> <li class="fb-field-group fb-field-group-empty" ng-if="step.fieldGroups.length === 0"> <i>Drag a field from the left column to add to this workflow step.</i> </li> <li class="fb-field-group" ng-repeat="group in step.fieldGroups" dnd-draggable="group" dnd-dragstart="routeVm.draggingFields = true" dnd-dragend="routeVm.draggingFields = false" dnd-moved="go.movedFieldGroup($index, group, step)" dnd-type="\'fieldGroup\'" dnd-effect-allowed="move" ng-click="go.fieldGroupSettings($event, group)" ng-class="{\'is-selected\': routeVm.vm.selectedFormObject === group}"> <div class="fb-actions fb-field-actions"> <i class="drag-handle" ss-icon="navicon"></i> <b role="presentation">Properties</b> <button type="button" class="ctrl-remove" ss-icon-after="trash-o" ng-click="go.removeFieldGroup(group, step)"></button> </div> <cmp-template-field-renderer ng-repeat="field in group" field="field" group="group"></cmp-template-field-renderer> </li> </ul> </section> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-template-field-renderer/template-field-renderer.html",'<div class="cmp-template-field-renderer" ng-show="vm.visibility" ng-style="vm.style" ss-validate="go.validate(field)"><div ss-bind-html="vm.template"></div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){
e.put("components/cmp-template-list-packet/template-list-packet.html",'<div class="cmp-template-list-packet"> <div class="template-details"> <div class="template-icon"><i ss-icon-before="li-packet-large"></i></div> <div class="template-info"> <h3 class="template-name"> <a ng-bind="template._name" ng-click="go.toggleDetails(template)"></a> <small> - Packet</small> </h3> <div class="form-meta"> <ul class="ss-pipe-children"> <li ng-if="template._category.name.length > 0" class="form-meta-item" ng-bind="template._category.name"></li> <li class="form-meta-item" ng-if="template.packetCount">{{template.packetCount}}&nbsp; <ng-pluralize count="template.packetCount" when="{\'1\': \'form\', \'other\': \'forms\'}"></ng-pluralize> </li> <li class="form-meta-item"> <span>Modified {{template.modifiedText}}</span><span ng-if="template._modifier.name">&nbsp;by&nbsp;<span ng-bind="template._modifier.name"></span></span> </li> </ul> </div> <super-button smp class="details-toggle" label="{{template.detailsOpen === false ? \'Show\' : \'Hide\'}} Details" ss-icon-after="{{template.detailsOpen === false ? \'angle-down\': \'angle-up\'}}" ng-click="go.toggleDetails(template)"></super-button> </div> <div class="template-actions"> <ul> <li class="template-action-list-item template-status"> <strong ng-class="{\'{{template.status}}\': template.status}" ng-bind="template.statusLabel"></strong> </li> <li class="template-action-list-item template-primary-action"> <super-button label="Send" ng-if="template.status === \'active\'" ng-click="go.send(template)" ss-permitted-route="/ec-forms/send/Packet/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"></super-button> <super-button label="Edit" ng-if="template.status === \'inactive\'" ng-click="go.editPacket(template)" ss-permitted="packets.edit"></super-button> </li> <li class="template-action-list-item template-action-menu" ng-if="template.status !== \'inactive\'" ss-permitted="packets.edit"> <super-button ss-icon-after="angle-down"> <item ng-click="go.editPacket(template)">Edit Packet</item> </super-button> </li> </ul> </div> </div> <div ng-if="template.detailsOpen" ss-pending="template.loading" class="packet-details"> <ul> <li class="packet-details-item" ng-if="template.contents.forms.length < 1 && !template.loading"> <p>No Forms are associated with this Package</p> </li> <li class="packet-details-item" ng-if="template.contents.forms.length > 0 && !template.loading" ng-repeat="form in template.contents.forms"> <div class="template-details"> <div class="template-icon" ng-if="!form._isEmployeeInitiated"><i ss-icon-before="li-form-large"></i></div> <div class="template-icon" ng-if="form._isEmployeeInitiated"><i ss-icon-before="li-form-e-large"></i></div> <div class="template-info"> <h3 class="template-name"> <a href="ec-formbuilder/form/{{form.id}}/preview" ng-bind="form._name"></a> </h3> <div class="form-meta"> <ul class="ss-pipe-children"> <li class="form-meta-item" ng-if="form._category.name.length > 0" ng-bind="form._category.name"></li> <li class="form-meta-item" ng-if="form._steps.length"> Workflow (<span ng-bind="form._steps.length"></span> <ng-pluralize count="form._steps.length" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize>) <super-popover> <div> <h6>Workflow <ng-pluralize count="form._steps.length" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize> </h6> <ul class="popover-step-list"> <li ng-repeat="step in form._steps track by $index"> <span ng-bind="{{$index + 1}}"></span>) <span class="ss-pipe-right" ng-bind="step.participantLabel"></span> <span ng-bind="step.stepActionLabel"></span> </li> </ul> </div> </super-popover> </li> <li class="form-meta-item"> <span>Modified {{form.modifiedText}}</span><span ng-if="form._modifier.name">&nbsp;by&nbsp;<span ng-bind="form._modifier.name"></span></span> </li> <li class="form-meta-item" ng-if="form._hasPrintPreviewDefinition" ss-icon="file-pdf-o">PDF Overlay available</li> </ul> </div> </div> <div class="template-actions"> <ul> <li class="template-action-list-item template-status template-status-packet"> <strong ng-class="{\'{{form.status}}\': form.status}" ng-bind="form.statusLabel"></strong> </li> <li class="template-action-list-item template-primary-action"> <super-button label="Edit" ng-click="go.editForm(form)" ss-permitted="formTemplates.edit"></super-button> </li> </ul> </div> </div> </li> </ul> </div> </div>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-template-list-form/template-list-form.html",'<div class="cmp-template-list-form" ss-pending="template.isPending" ss-pending-status="vm.pendingMessage" ng-class="{\'highlight\': template.isHighlighted}"> <div class="template-details"> <div class="template-icon" ng-if="!template._isEmployeeInitiated"><i ss-icon-before="li-form-large"></i></div> <div class="template-icon" ng-if="template._isEmployeeInitiated"><i ss-icon-before="li-form-e-large"></i></div> <div class="template-info"> <h3 class="template-name"> <a href="/ec-formbuilder/form/{{template.id}}/preview?returnUrl=/ec-forms/" ng-bind="template._name"></a> </h3> <div class="form-meta" data-auto-due-date="{{ template._modifiedDt }}"> <ul class="ss-pipe-children"> <li ng-if="template._fromFrontlineLibrary" class="frontline-template" ss-icon="logo-frontline-small">Frontline</li><li ng-if="template._category.name.length > 0" class="form-meta-item" ng-bind="template._category.name"></li><li class="form-meta-item" ng-if="template._steps.length"> Workflow (<span ng-bind="template._steps.length"></span> <ng-pluralize count="template._steps.length" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize>) <super-popover> <div> <h6>Workflow Steps</h6> <ul class="popover-step-list" ng-if="template._steps.length"> <li ng-repeat="step in template._steps track by $index"> <span ng-bind="{{$index + 1}}"></span>) <span class="ss-pipe-right" ng-bind="step.participantLabel"></span><span ng-bind="step.stepActionLabel"></span> </li> </ul> <p ng-if="!template._steps.length">No Workflow Steps</p> </div> </super-popover> </li><li class="form-meta-item"> <span>Modified {{template.modifiedText}}</span><span ng-if="template._modifier.name">&nbsp;by&nbsp;<span ng-bind="template._modifier.name"></span></span> </li><li class="form-meta-item" ng-if="template._hasPrintPreviewDefinition" ss-icon="file-pdf-o">PDF Overlay available</li> </ul> </div> </div> <div class="template-actions"> <ul> <li class="template-action-list-item template-status" ng-if="template.status"> <strong ng-class="{\'{{template.status}}\': template.status}" ng-bind="template.statusLabel"></strong> </li> <li class="template-action-list-item template-primary-action"> <super-button label="Send" ng-if="template.status === \'active\'" ng-click="go.send(template)" ss-permitted-route="/ec-forms/send/FormTemplate/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"></super-button> <super-button label="Edit" ng-if="template.status === \'inactive\'" ng-click="go.edit(template)" ss-permitted="formTemplates.edit"></super-button> </li> <li class="template-action-list-item template-action-menu"> <super-button ss-icon-after="angle-down"> <item ng-click="go.preview(template)">Preview Form</item> <item ss-permitted="formTemplates.startForMyself" ng-if="template._isEmployeeInitiated && template.status === \'active\'" ng-click="go.sendToSelf(template)">Start Form (about myself)</item> <item class="menu-separator"></item> <item ng-click="go.edit(template)" ss-permitted="formTemplates.edit">Edit Template</item> <item ng-click="go.copy(template)" ss-permitted="formTemplates.create">Create Copy</item> <item ng-click="go.share()" ng-if="go.canShare(template)">Share Template</item> <item ng-click="go.deactivate(template)" ng-if="template.status === \'active\'" ss-permitted="formTemplates.edit">Deactivate Template</item> <item ng-click="go.archive(template)" ss-permitted="formTemplates.archive">Archive Template</item> <item ng-click="go.delete(template)" ss-permitted="formTemplates.delete">Delete Template</item> </super-button> </li> </ul> </div> </div> <cmp-fl-share-form ss-modal-view ng-if="vm.showShare" template="template"></cmp-fl-share-form> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-tracked-form/tracked-form.html",'<div class="cmp-tracked-form" data-auto-due-date="{{ form._dueDateUtc }}" data-auto-create-date="{{ form._createdUtc }}"> <div class="form-list-item-wrapper" ng-class="{\'rejected\': form.isRejected, \'{{form.dueDateStatus.class}}\' : form.dueDateStatus && !form.isComplete && !form.isRejected}"> <div class="form-item-details"> <div class="form-recipient-group"> <h4 ng-if="!vm.showContactToggle && form._employee.meta.permissions.permittedActions.view"><a href="/ec-employee/record/{{form.primaryRecipient.employeeId}}/personal" ng-bind="form.primaryRecipient.name || \'N/A\'"></a></h4> <h4 ng-if="!vm.showContactToggle && !form._employee.meta.permissions.permittedActions.view" ng-bind="form.primaryRecipient.name || \'N/A\'"></h4> <div class="contact-toggle-group" ng-if="vm.showContactToggle"> <h4 ss-menu="contact-details"><a class="toggle-ctrl" ng-click="go.toggleContact()" ng-bind="form.primaryRecipient.name || \'N/A\'"></a></h4> <div class="select-menu contact-details" ss-pending="vm.loadingContact"> <h4 data-auto="contact-name"><strong ng-bind="\'Contact \' + form.primaryRecipient.name"></strong></h4> <p data-auto="contact-phone" ng-if="form._employee.meta.permissions.permittedActualProperties.phoneNumbers" ss-icon="phone" ng-bind="vm.empPhone"></p> <p data-auto="contact-email" ng-if="form._employee.meta.permissions.permittedActualProperties.emails" ss-icon="envelope" ng-bind="vm.empEmail"></p> <a ng-if="form._employee.meta.permissions.permittedActions.view" href="/ec-employee/record/{{form.primaryRecipient.employeeId}}/personal">View Employee Profile</a> </div> </div> </div> <div class="form-name-group"> <h4 class="form-name" ss-icon-before="li-form-e-large" ng-if="!form.isPacket && form._isEmployeeInitiated === true"> <a href="#" ng-bind="form.name" ng-click="go.viewForm(form)"></a> </h4> <h4 class="form-name" ss-icon-before="li-form-large" ng-if="!form.isPacket && form._isEmployeeInitiated === false"> <a href="#" ng-bind="form.name" ng-click="go.viewForm(form)"></a> </h4> <h4 class="form-name" ng-if="form.isPacket" ss-icon-before="li-packet-large"><a ng-click="vm.openDetails = !vm.openDetails" ng-bind="form.name"></a></h4> <button ng-if="form.isPacket" smp class="details-toggle" ss-icon-after="{{vm.openDetails === false ? \'angle-down\': \'angle-up\'}}" ng-click="vm.openDetails = !vm.openDetails">{{vm.openDetails === false ? \'Show\' : \'Hide\'}} Details</button> </div> <div class="form-due-group" data-auto-due-date="{{form._dueDateUtc}}"> <ul> <li class="form-meta-item" ng-if="form._dueDateUtc && !form.isComplete"> <strong class="form-due-date" ng-bind="form.dueDateStatus.statusFriendly" ng-class="{\'{{form.dueDateStatus.class}}\': form.dueDateStatus}"></strong> </li> <li class="form-meta-item form-sent-date">Sent {{form.sentDate}}</li> </ul> </div> <div class="form-step-status-group"> <div ng-if="!form.isPacket && !form.isComplete"> <ul class="step-status-chart total-steps-{{form.totalSteps}}"> <li ng-repeat="step in form._steps | limitTo: form.totalSteps" ng-class="{\'{{step.stepStatus}}\' : step.stepStatus}"></li> </ul> <super-popover> <h6>Workflow Steps</h6> <ul class="popover-step-list"> <li class="workflow-step-item" ng-repeat="step in form._steps | limitTo: form.totalSteps"> <span ng-bind="{{$index + 1}}"></span>) <span class="ss-pipe-right" ng-bind="step._stepParticipant.name"></span><span ng-bind="step._stepAction | enumByValue:\'stepAction\'"></span> </li> </ul> </super-popover> </div> <p ng-if="!form.isPacket && form.isComplete" class="form-complete" ss-icon="check">complete</p> <p ng-if="form.isPacket" ng-bind="form.packetCount" ng-class="{\'form-complete\' : form.isComplete}" ss-icon="{{form.isComplete ? \'check\' : \'\'}}"></p> </div> <div class="form-step-action-group"> <p ng-if="!form.isComplete" ng-bind="form.currentStepMeta" ng-class="{\'denied\':form.isRejected}" ss-icon="{{form.isRejected ? \'thumbsdown-stripes\' : \'\' }}"></p> <p ng-if="form._lastReminderSentUtc != null && !form.isComplete && !form.isPacket"> <em>Reminder sent {{form.reminderSentDate}}</em> </p> </div> <div class="file-attachments"> <super-popover ng-if="form.filesOnInstance.length" link="{{ form.filesOnInstance.length }}" ss-icon="paperclip"> <h6>UPLOADED FILES</h6> <ul class="popover-step-list" ng-repeat="file in form.filesOnInstance"> <li ss-icon-before="{{ file.icon }}" ng-bind="file.filename"></li> </ul> <h6>These files were uploaded by a user as part of a workflow step.</h6> </super-popover> </div> <div class="form-actions-group" ng-if="!form.isPacket"> <super-button ng-if="!form.isComplete" ss-icon-after="angle-down"> <item class="no-select" ng-if="!form.isUser && !form.isRejected"><h6><em>Send Reminder to</em></h6></item> <item class="divided-bottom" ng-if="!form.isUser && !form.isRejected" ng-click="go.sendReminder(form)">{{form.currentStepParticipantName}}</item> <item ng-if="form.isRejected" class="no-select"><h6><em>Resend workflow step to</em></h6></item> <item ng-if="form.isRejected" class="divided-bottom"><span ng-click="go.updateWorkflowStep(form)">Step {{form.prevStepNum}}- {{form.prevStep._stepParticipant.name}}</span></item> <item ss-permitted="formInstances.delete" ng-click="go.remove(form)">Delete Form</item> <item ng-if="form.filesOnInstance.length" class="divided-top no-select"><h6><em>Uploaded files</em></h6></item> <item ng-if="form.filesOnInstance.length" ng-click="go.download(form.filesOnInstance)">Download ({{ form.filesOnInstance.length }}) <ng-pluralize count="form.filesOnInstance.length" when="{\'1\': \'file\', \'other\': \'files\'}"></ng-pluralize> </item> </super-button> <super-button ng-if="form.isComplete && (form._employee.meta.permissions.permittedActions.createEmployeeFile || $root.isPermitted.formInstances.archive)" ss-icon-after="angle-down"> <item ng-if="form._employee.meta.permissions.permittedActions.createEmployeeFile" ng-click="form._sentToEmployeeRecord || go.updateEmpRecord(form)" ng-disabled="form._sentToEmployeeRecord">Move to Employee Record</item> <item ss-permitted="formInstances.archive" ng-click="go.updateFormStatus(form, \'archived\')">Archive Form</item> <item ng-if="form.filesOnInstance.length" class="divided-top no-select"><h6><em>Uploaded files</em></h6></item> <item ng-if="form.filesOnInstance.length" ng-click="go.download(form.filesOnInstance)">Download ({{ form.filesOnInstance.length }}) <ng-pluralize count="form.filesOnInstance.length" when="{\'1\': \'file\', \'other\': \'files\'}"></ng-pluralize> </item> </super-button> </div> </div> </div> <div class="form-packet-details" ng-if="form.isPacket" ng-show="vm.openDetails"> <ul class="form-packet-list"> <li ng-show="!routeVm.loading && form.content.length > 0" ng-repeat="Pform in form.content | orderBy: \'_packetInstance.sortOrder\'" class="form-packet-list-item"> <div class="form-list-item-wrapper" ng-class="{\'rejected\': Pform.isRejected, \'{{Pform.dueDateStatus.class}}\' : Pform.dueDateStatus && !Pform.isComplete && !Pform.isRejected}"> <div class="form-item-details" data-auto-create-date="{{Pform._createdUtc}}" data-auto-due-date="{{Pform._dueDateUtc}}"> <div class="form-name-group"> <h4 class="form-name" ss-icon-before="li-form-large"> <a href="#" ng-bind="Pform.name" ng-click="go.viewForm(Pform)"></a> </h4> </div> <div class="form-due-group"> <ul> <li class="form-meta-item" ng-if="Pform._dueDateUtc && !Pform.isComplete"> <strong class="form-due-date" ng-class="{\'{{Pform.dueDateStatus.class}}\': Pform.dueDateStatus}" ng-bind="Pform.dueDateStatus.statusFriendly"></strong> </li> <li class="form-meta-item form-sent-date">Sent {{Pform.sentDate}}</li> </ul> </div> <div class="form-step-status-group"> <div ng-if="!Pform.isComplete"> <ul class="step-status-chart total-steps-{{Pform.totalSteps}}"> <li ng-repeat="step in Pform._steps | limitTo: Pform.totalSteps" ng-class="{\'{{step.stepStatus}}\' : step.stepStatus}"></li> </ul> <super-popover> <h6>Workflow Steps</h6> <ul class="popover-step-list"> <li class="workflow-step-item" ng-repeat="step in Pform._steps | limitTo: Pform.totalSteps"> <span ng-bind="{{$index + 1}}"></span>) <span class="ss-pipe-right" ng-bind="step._stepParticipant.name"></span><span ng-bind="step._stepAction | enumByValue:\'stepAction\'"></span> </li> </ul> </super-popover> </div> <p class="form-complete" ng-if="Pform.isComplete" ss-icon="check">complete</p> </div> <div class="form-step-action-group"> <p ng-if="!Pform.isComplete" ng-bind="Pform.currentStepMeta" ng-class="{\'denied\':Pform.isRejected}" ss-icon="{{Pform.isRejected ? \'thumbsdown-stripes\' : \'\' }}"></p> <p ng-if="Pform._lastReminderSentUtc != null && !Pform.isComplete"> <em>Reminder sent {{Pform.reminderSentDate}}</em> </p> </div> <div class="file-attachments"> <super-popover ng-if="Pform.filesOnInstance.length" link="{{ Pform.filesOnInstance.length }}" ss-icon="paperclip"> <h6>UPLOADED FILES</h6> <ul class="popover-step-list" ng-repeat="file in Pform.filesOnInstance"> <li ss-icon-before="{{ file.icon }}" ng-bind="file.filename"></li> </ul> <h6>These files were uploaded by a user as part of a workflow step.</h6> </super-popover> </div> <div class="form-actions-group"> <super-button ng-if="!Pform.isComplete" ss-icon-after="angle-down"> <item class="no-select" ng-if="!Pform.isUser && !Pform.isRejected"><h6><em>Send Reminder to</em></h6></item> <item class="divided-bottom" ng-if="!Pform.isUser && !Pform.isRejected" ng-click="go.sendReminder(Pform)">{{Pform.currentStepParticipantName}}</item> <item ng-if="Pform.isRejected" class="no-select"><h6><em>Resend workflow step to</em></h6></item> <item ng-if="Pform.isRejected" class="divided"><span ng-click="go.updateWorkflowStep(Pform)">Step {{Pform.prevStepNum}}- {{Pform.prevStep._stepParticipant.name}}</span></item> <item ng-if="Pform.$permitted.actions.delete" ng-click="go.remove(Pform)">Delete Form</item> <item ng-if="Pform.filesOnInstance.length" class="divided-top no-select"><h6><em>Uploaded files</em></h6></item> <item ng-if="Pform.filesOnInstance.length" ng-click="go.download(Pform.filesOnInstance)">Download ({{ Pform.filesOnInstance.length }}) <ng-pluralize count="Pform.filesOnInstance.length" when="{\'1\': \'file\', \'other\': \'files\'}"></ng-pluralize> </item> </super-button> <super-button ng-if="Pform.isComplete && (Pform._employee.meta.permissions.permittedActions.createEmployeeFile || $root.isPermitted.formInstances.archive)" ss-icon-after="angle-down"> <item ng-if="Pform._employee.meta.permissions.permittedActions.createEmployeeFile" ng-click="Pform._sentToEmployeeRecord || go.updateEmpRecord(Pform)" ng-disabled="Pform._sentToEmployeeRecord">Move to Employee Record</item> <item ss-permitted="formInstances.archive" ng-click="go.updateFormStatus(Pform, \'archived\')">Archive Form</item> <item ng-if="Pform.filesOnInstance.length" class="divided-top no-select"><h6><em>Uploaded files</em></h6></item> <item ng-if="Pform.filesOnInstance.length" ng-click="go.download(Pform.filesOnInstance)">Download ({{ Pform.filesOnInstance.length }}) <ng-pluralize count="Pform.filesOnInstance.length" when="{\'1\': \'file\', \'other\': \'files\'}"></ng-pluralize> </item> </super-button> </div> </div> </div> </li> </ul> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-tracked-form-group/tracked-form-group.html",'<div class="cmp-tracked-form-group"> <div ss-pending="vm.loading && !vm.scrolling" ss-pending-status="\'Loading Form Instances...\'"> <ul class="ss-form-panel-list"> <li class="ss-panel-list-item" ng-if="vm.formsAndPackets.length" ng-repeat="form in vm.formsAndPackets track by $index"> <cmp-tracked-form form="form" type="type" status-updated="go.refreshData()"></cmp-tracked-form> </li> <li class="ss-panel-list-item" ng-if="!vm.loading && !vm.formsAndPackets.length"> <div class="form-list-item-wrapper">No Forms or Packets found</div> </li> </ul> </div> <div class="scroller" ng-if="vm.showInfScroll" ss-pending="vm.scrolling" ss-pending-status="\'Loading more results...\'" infinite-scroll="scrollData()" infinite-scroll-distance="1"></div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/form-builder.html",'<route folder="/form-builder"> <form id="form-controls" class="route-wrapper form-controls" ng-submit="routeVm.saveFormTemplate()" ss-validate-form> <segment name="header"></segment> <div ss-pending="routeVm.loading || routeVm.saving" ss-pending-status="routeVm.loadingMsg"> <segment name="content"></segment> </div> </form> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-instance/form-instance.html",'<route folder="/form-instance"> <div class="full-screen" ss-pending="routeVm.isLoading" ss-pending-status="routeVm.loadingStatus"> <segment name="header"></segment> <main class="full-screen-content"> <div class="full-screen-content-wrapper"> <div ng-show="!routeVm.showPDFOverlay" class="gd-row"> <section class="gd-65p content"> <segment name="form"></segment> </section> <aside class="gd-35p sidebar"> <segment name="attachments"></segment> <segment name="steps-summary"></segment> </aside> </div> <div ng-show="routeVm.showPDFOverlay"> <iframe id="form-overlay-frame" src="" title="PDF overlay for {{routeVm.formInstance.name}}"></iframe> </div> </div> </main> </div> </route>\t')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-templates/form-templates.html",'<route folder="/form-templates"> <div class="route-wrapper"> <segment name="header"></segment> <segment name="content"></segment> </div> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-tracking/form-tracking.html",'<route folder="/form-tracking"> <div class="route-wrapper"> <segment name="header"></segment> <segment name="content"></segment> </div> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/inbox.html",'<route folder="/inbox"> <div class="route-wrapper"> <segment name="header"></segment> <segment name="content"></segment> </div> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/index/index.html",'<route folder="/index"> <div class="route-wrapper"> <segment name="header"></segment> <segment name="content"></segment> </div> </route> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/packet-builder/packet-builder.html",'<route folder="/packet-builder"> <form id="form-controls" class="form-controls" ng-submit="routeVm.saveFormTemplate()" ss-validate-form> <div class="route-wrapper"> <segment name="header"></segment> <segment name="content"></segment> </div> </form> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/my-forms/my-forms.html",'<route folder="/my-forms"> <div class="route-wrapper"> <segment name="header"></segment> <segment name="content"></segment> </div> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/send/send.html",'<route folder="/send"> <div class="route-wrapper" ss-pending="routeVm.retryLoading" ss-pending-status="\'Please wait...\'"> <form ss-validate-form ng-submit="routeVm.go.send()" autocomplete="off"> <segment name="header"></segment> <segment name="content"></segment> </form> </div> </route> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/builder/builder.html",'<route folder="/form-builder/builder"> <div class="gd-row"> <aside class="panel fields-panel"><segment name="fields"></segment></aside> <section class="panel builder-panel"><segment name="builder"></segment></section> <aside class="panel properties-panel"><segment name="properties"></segment></aside> </div> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/preview/preview.html",'<route folder="/form-builder/preview"> <segment name="page-header"></segment> <section class="gd-row full-screen-content"> <segment name="form-header"></segment> <section class="gd-60p content"><segment name="form-workflow"></segment></section> <aside class="gd-40p sidebar" ss-window-anchor="form-preview"> <segment name="attachments"></segment> <segment name="steps-summary"></segment> </aside> </section> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/segment-content/content.html",'<section class="segment-form-builder-content" aria-label="form builder section"> <nav id="content-nav" aria-controls="formBuilder-builder"> <super-tab-list class="flat"> <super-tab-list-item label="Form Builder" state="base.formBuilder.builder" params=""></super-tab-list-item> <super-tab-list-item label="Form Settings" state="base.formBuilder.settings" params=""></super-tab-list-item> <super-tab-list-item ng-if="vm.printViewBuilderEnabled" label="Overlay Builder" url="/ec-printviewbuilder/{{routeVm.formData.id}}" params="{\'isActive\': true}"></super-tab-list-item> </super-tab-list> </nav> <ui-view id="formBuilder-builder" aria-controlled-by="content-nav"></ui-view> </section> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/segment-header/header.html",'<header class="segment-form-builder-header" ss-window-anchor> <div class="form-title-group" aria-label="form name section"> <div class="icon"><i ss-icon-before="{{routeVm.formData._isEmployeeInitiated ? \'li-form-e-large\' : \'li-form-large\'}}" role="presentation"></i></div> <div class="form-title-ctrl" ng-class="{\'is-editing\' : vm.editTitle}"> <span class="locked-state" title="{{ vm.formTitle }}" ng-bind="vm.formTitle"></span> <span class="non-locked-stated" ng-if="!vm.editTitle" ng-bind="vm.formTitle"></span> <super-input-text id="formTitle" model="vm.formTitle" ng-if="vm.editTitle" ss-validate="validator.required(vm.formTitle, \'Form Name\')"> </super-input-text> <p class="form-status" ng-bind="vm.formStatusLabel"></p> </div> <div class="form-title-edit-actions"> <button type="button" ng-if="!vm.editTitle" class="edit" ss-icon="pencil" ng-click="go.editTitle()" aria-label="edit the form name"></button> <button type="button" ng-if="vm.editTitle" class="save" ss-icon="check-circle" ng-click="go.confirmTitleEdit()" ng-disabled="!vm.formTitle.length" aria-label="save the form name"></button> <button type="button" ng-if="vm.editTitle" class="cancel" ss-icon="times" ng-click="go.cancelTitleEdit()" aria-label="cancel edit for form name"></button> </div> </div> <div class="form-control-actions" aria-label="form save and activate section"> <div class="form-save"> <strong ng-show="vm.autoSaved" class="auto-saved">Auto Saved</strong> <super-button class="save-button" pri label="{{routeVm.saving ? \'Saving\' : \'Save\'}}" type="submit" ng-class="{\'saving\': routeVm.saving}" ng-disabled="vm.nothingToSave || routeVm.saving" ss-icon="spinner"></super-button> </div> <div class="form-activate"> <super-button label="Activate" ss-icon-after="angle-down" ss-menu="activate-menu" ng-disabled="!vm.nothingToSave || routeVm.saving"></super-button> <div class="select-menu activate-menu"> <ul class="select-menu-list"> <li class="select-menu-list-item" ng-click="go.activateNow()"> <p>Activate Immediately</p><small>Will become sendable</small> </li> <li class="select-menu-list-item gd-row"> <div class="gd-55p" ng-click="go.activateOnDate()"> <p>Activate On</p><small>Set a future \'active\' date</small></div> <div class="gd-45p"> <super-input-datepicker model="vm.activationDate"></super-input-datepicker> </div> </li> </ul> </div> </div> <div class="form-preview"> <a href="" ng-click="go.preview()" ng-disabled="routeVm.saving">Preview</a> </div> </div> </header> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/settings/settings.html",'<route folder="/form-builder/settings"> <segment name="settings"></segment> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-instance/segment-attachments/attachments.html",'<article class="segment-form-instance-attachments" role="complimentary"> <header class="sidebar-article-header"> <h4 class="">Attachments</h4> </header> <div class="sidebar-article-content" ss-pending="vm.loading"> <div class="main-content"> <ul class="form-attachment-list" ng-if="vm.files.length && !vm.loading"> <li class="list-item form-attachment-item" ng-repeat="attachment in vm.files"> <i ss-icon="{{ attachment.icon }}"></i> <a class="document" ng-bind="attachment._filename" ng-click="go.download(attachment._url)" title="Open {{attachment._filename}}" target="_blank"></a> </li> </ul> <p ng-if="!vm.files.length && !vm.loading">No attachments</p> </div> </div> </article> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){
e.put("routes/form-instance/segment-header/header.html",'<header class="segment-form-instance-header"> <div class="page-header"> <div class="app-title"><h1>Frontline Central</h1></div> <div class="actions"> <super-button class="delete-button" neg ng-if="go.showDelete()" label="Delete" ng-click="go.deleteForm()" ng-class="{\'saving\': vm.deleting}" ss-icon="spinner" ng-disabled="vm.deleting" data-qa="form-instance-delete-button"></super-button> <super-button class="print-button" label="print form" is-disabled="routeVm.showPDFOverlay" ng-click="go.print()" data-qa="form-instance-print-button"></super-button> <super-button class="save-button" label="save progress" ng-if="!vm.formIsComplete && vm.fromView !== \'sent\'" ng-click="go.save()" data-qa="form-instance-save-button"></super-button> <button type="button" aria-label="close this page" class="close-x" ng-click="go.close()" ss-tooltip="close" data-qa="form-instance-close-button"></button> </div> </div> <div class="form-header"> <div class="form-header-group form-info-group"> <h2 ss-icon="{{routeVm.formTemplate._isEmployeeInitiated ? \'li-form-e-large\' : \'li-form-large\'}}" class="form-instance-title" ng-bind="routeVm.formInstance.name" data-qa="form-instance-title"></h2> <ul class="form-meta ss-pipe-children"> <li class="form-meta-item"><abbr class="form-instance-version" title="version {{routeVm.formTemplate._templateVersion || 1}}">v{{routeVm.formTemplate._templateVersion || 1}}</abbr></li> <li class="form-meta-item">sent {{routeVm.formInstance.sentDate}} by {{routeVm.formInstance._creator.name}}</li> </ul> <p ng-if="routeVm.formTemplate._instructions" ng-bind="routeVm.formTemplate._instructions"></p> </div> <div class="form-header-group form-controls-group"> <div class="form-control-group sensitive-field-toggle-control-group" data-qa="sensitive-field-toggle-control-group" ng-if="vm.hasSensitiveFields"> <label for="sensitive-field-toggle">display sensitive info</label> <fluid-toggle label="\'this control will toggle the visibility of sensitive fields\'" checked="false" warning="" on:checked-change="go.toggleSensitiveFields($event)" disabled="routeVm.isLoading"></fluid-toggle> </div> <div class="form-control-group form-display-control-group" ng-if="routeVm.hasPDFOverlay"> <super-button ng-class="{active: !routeVm.showPDFOverlay}" ng-click="go.toggleFormView(showPDF = false)" label="Web Form" smp></super-button><super-button ng-class="{active: routeVm.showPDFOverlay}" ng-click="go.toggleFormView(showPDF = true)" label="PDF Overlay" smp></super-button> </div> </div> </div> </header> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-instance/segment-form/form.html",'<div class="segment-form-instance-form"> <form autocomplete="off" ss-validate-form ng-submit="go.submitForm(vm.selectedStep)" ss-pending="vm.loading"> <section class="fb-step" ng-class="{\'is-hover\': step.hoverState,\'is-selected\': vm.selectedStep === step}" ng-repeat="step in vm.steps" ng-click="go.selectFormObject($index, step)" ng-if="!vm.loading && vm.steps" data-qa="step-{{ step.id }}" ng-keypress="$event.stopPropagation()" id="fb-step-{{$index}}" tabindex="0"> <span ng-disabled="step.disabled" ng-if="step._stepAction !== vm.employeeProfileReview"> <header class="fb-step-header"> <h3 class="fb-step-title" data-qa="step-title">Workflow Step {{$index + 1}} <span ng-if="step._name">- {{step._name}}</span></h3> <p ng-if="step._instructions" ng-bind="step._instructions" data-qa="step-instructions"></p> </header> <ul> <li class="field-group" ng-repeat="group in step.fieldGroups" tabindex="0"> <cmp-field-renderer ng-repeat="field in group" field="field" group="group" org="routeVm.org" ignore-validations="go.ignoreValidations(step, vm.selectedStep)" ng-style="{width: field.config.width}"></cmp-field-renderer> </li> </ul> <footer class="fb-step-footer"> <super-input-textarea label="Comments - Visible to all participants" model="step.instance._stepComments" edit-mode="step.editMode" is-disabled="step.disabled"></super-input-textarea> <div ng-if="step.showFormEntry" class="form-entry step-action"> <div class="buttons"> <super-button pri label="Submit Form" type="submit" ng-click="go.submitStep(step)" data-qa="submit-step-button"></super-button> </div> </div> <div ng-if="step.showReviewForm" class="review-form step-action"> <div class="buttons"> <super-button pri label="Form Has Been Reviewed" type="submit" ng-click="go.acknowledgeStep(step)" data-qa="review-step-button"></super-button> </div> </div> <div ng-if="step.showReviewApproveOrDeny" class="approve-deny step-action"> <div class="buttons"> <super-button pos label="Approve Form" type="submit" ng-click="go.approveStep(step)" data-qa="approve-step-button"></super-button> <super-button neg label="Deny Form" type="submit" ng-click="go.denyStep(step)" data-qa="deny-step-button"></super-button> </div> </div> </footer> </span> <span ng-disabled="step.disabled" ng-if="step._stepAction === vm.employeeProfileReview"> <header class="fb-step-header"> <h4 class="fb-step-title">Review Employee Profile Updates</h4> <p data-qa="step-instructions">The following will be updated in <b>{{routeVm.formInstance._employee.name}}\'s</b> employee profile:</p> </header> <table class="form-review-fields fb-fields" ng-if="step.instance._employeeProfileReviewStepFieldValues.length > 0"> <thead class="form-review-fields-head"> <tr> <th>&nbsp;</th> <th class="current">Current</th> <th class="will-change-to">Will Change To</th> <th class="update-profile">Update Profile</th> </tr> </thead> <tbody class="form-review-fields-body"> <tr ng-repeat="employeeProfileReviewStepField in step.instance._employeeProfileReviewStepFieldValues"> <td class="step-field"> <div ng-bind="employeeProfileReviewStepField.sourceField.step._name"></div> <div class="field-label" ng-bind="employeeProfileReviewStepField.sourceField._label"></div> </td> <td class="current" data-qa="{{ employeeProfileReviewStepField.sourceFormFieldId }}" ng-bind="go.profileValueDisplay(employeeProfileReviewStepField, step)"></td> <td class="will-change-to"> <cmp-field-renderer field="employeeProfileReviewStepField.sourceField" ignore-validations="ignoreValidations"></cmp-field-renderer></td> <td class="update-profile"><super-input-checkbox data-qa="{{ employeeProfileReviewStepField.sourceFormFieldId }}" is-disabled="step._stepAction !== vm.employeeProfileReview || routeVm.formInstance._statusId === vm.formComplete" model="employeeProfileReviewStepField.updateEmployeeProfile"></super-input-checkbox></td> </tr> </tbody> </table> <footer class="fb-step-footer"> <super-input-textarea label="Comments - Visible to all participants" model="step.instance._stepComments" edit-mode="step.editMode" is-disabled="step.disabled"></super-input-textarea> <div ng-if="routeVm.formInstance._statusId !== vm.formComplete" class="form-entry step-action"> <div class="buttons"> <super-button pri label="Submit Form" type="submit" ng-click="go.reviewProfile(step)"></super-button> </div> </div> </footer> </span> </section> <section class="fb-step" ng-if="!vm.loading && !vm.steps.length"> <header class="fb-step-header"> <h4 class="fb-step-title">No Steps Found</h4> </header> <p>Either there was a problem retrieving workflow steps for this form, or you do not have permission to see any steps.</p> </section>  </form> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-instance/segment-steps-summary/steps-summary.html",'<article class="segment-form-instance-steps-summary"> <header class="sidebar-article-header"> <h4 class="">Form Workflow</h4> </header> <div class="sidebar-article-content" ng-if="!vm.loading && vm.steps.length" ss-pending="vm.loading"> <section class="fb-summary-step" ng-class="{\n\t\t\t\t\'is-hover\': step.hoverState,\n\t\t\t\t\'is-selected\': vm.selectedStep === step,\n\t\t\t\t\'is-disabled\': step.disabled\n\t\t\t}" ng-repeat="step in vm.steps" ng-mouseenter="step.hoverState = true" ng-mouseleave="step.hoverState = false" ng-click="go.selectStep($index, step)" role="region"> <header class="fb-step-header"> <h4 class="fb-step-title">Workflow Step {{$index + 1}} <span ng-if="step._name">- {{step._name}}</span></h4> </header> <div class="main-content" ng-show="vm.selectedStep === step" ng-cloak> <dl class="step-summary-list"> <dt>main participant</dt> <dd> <ul class="fb-step-meta"> <li class="list-item-row" ss-icon="user" ng-if="step.instance._stepParticipant.name" ng-bind="step.instance._stepParticipant.name"></li> <li class="list-item-row" ng-if="step.stepActionName"> <ul class="ss-pipe-children"> <li class="item" ss-icon="wrench" ng-if="step.stepActionName" ng-bind="step.stepActionName"></li> <li class="item" ss-icon="key" ng-if="step.participantPermission.length" ng-bind="step.participantPermission"> </li> </ul> </li> </ul> </dd> <dt>other participants</dt> <dd ng-if="step.otherParticipants.length"> <ul class="fb-step-meta"> <li class="list-item-row" ng-repeat="other in step.otherParticipants"> <ul class="ss-pipe-children"> <li ss-icon="user" ng-bind="other.name" title="{{other.name}}"></li> <li ss-icon="key" ng-bind="other.permissions" title="{{other.name}}"></li> </ul> </li> </ul> </dd> <dd ng-if="!step.otherParticipants.length">No additional participants</dd> </dl> </div> </section> <section class="fb-summary-step" ng-if="!vm.loading && !vm.steps.length"> <div class="pad-box"><p>No Workflow Steps found</p></div> </section> </div> </article> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-templates/segment-content/content.html",'<div class="segment-form-templates-content"> <div class="gd-row content-header"> <div class="gd-35p"> <super-input-text size="large" ss-icon-before="search" model="vm.search" name="search" debounce="400">Find Form or Packet</super-input-text> </div> <div class="filter-group"> <super-select-list type="filter" label="Filter Status" model="vm.selectedStatus"> <super-select-list-item label="\'All\'" value="\'All\'"></super-select-list-item> <super-select-list-item ng-repeat="status in vm.statuses" value="status.value" label="status.name"></super-select-list-item> </super-select-list> <super-select-list type="filter" label="Filter Category" model="vm.selectedCategory"> <super-select-list-item label="\'All\'" value="\'All\'"></super-select-list-item> <super-select-list-item ng-repeat="category in routeVm.categories" value="category.value" label="category.name"></super-select-list-item> </super-select-list> <super-select-list type="filter" label="Sort by" model="vm.sortBy"> <super-select-list-item ng-repeat="sort in vm.sortCriteria" value="sort.value" label="sort.label"></super-select-list-item> </super-select-list> </div> </div> <div ss-pending="routeVm.loading && !vm.scrolling" ss-pending-status="routeVm.loadingMessage"> <ul class="ss-form-panel-list"> <li class="ss-panel-list-item" ng-if="routeVm.displayTemplates.length " ng-repeat="template in routeVm.displayTemplates track by $index"> <cmp-template-list-form template="template" org="routeVm.org" ng-if="template.isForm"></cmp-template-list-form> <cmp-template-list-packet template="template" ng-if="template.isPacket"></cmp-template-list-packet> </li> <li ng-if="!routeVm.displayTemplates.length && !routeVm.loading">No Forms or Packets found</li> </ul> </div> <div class="scroller" ng-if="vm.showInfScroll" ss-pending="vm.scrolling" ss-pending-status="\'Loading more results...\'" infinite-scroll="scrollData()" infinite-scroll-distance="1"></div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-templates/segment-header/header.html",'<section class="gd-row segment-index-header"> <h1 class="gd-70p page-title">Form Templates</h1> <div class="gd-30p form-create-menu-group" ss-permitted="formTemplates.create,packets.create"> <button class="super-button std" ng-click="go.toggleMenu()"> <label ss-icon-after="angle-down">Create Template or Packet</label> </button> <form ng-submit="go.create()" ss-validate-form class="form-create-menu" ng-class="{\'ss-menu-open\': vm.openMenu}"> <fieldset> <h4 class="form-create-heading"><em>Are you creating a Form Template or a Packet?</em></h4> <button type="button" class="close" ss-icon="times" ng-click="go.cancel()"></button> <div class="gd-row"> <div class="gd-50p create-form-control"><super-input-radio label="Form Template" model="vm.form.instanceType" name="formTypeGroup" value="form"></super-input-radio></div> <div class="gd-50p create-packet-control"><super-input-radio label="Packet" model="vm.form.instanceType" name="formTypeGroup" value="packet"></super-input-radio></div> </div> </fieldset> <div ng-if="vm.form.instanceType !== null"> <hr class="divider"> <fieldset> <div class="field-group form-name-field"> <super-input-text model="vm.form.instanceTitle" label="{{vm.form.instanceType}} {{vm.altLabel}} name" label-weight="heavy" ss-validate="validator.required(vm.form.instanceTitle, \'Name\')" placeholder="This will be the title of the {{vm.form.instanceType}} {{vm.altLabel}}" required="true"></super-input-text> </div> <div class="field-group emp-initiate-control-field" ng-if="vm.form.instanceType === \'form\'"> <super-input-checkbox model="vm.form.isEmployeeInitiated" label="Employees can start this {{vm.form.instanceType}} {{vm.altLabel}} without admin assistance"></super-input-checkbox> <p ng-if="vm.form.instanceType === \'form\'" class="help-text emp-initiate-help-text"><em>This {{vm.form.instanceType}} {{vm.altLabel}} will be available for employees to start (complete and/or submit) without admin assistance.</em></p> </div> </fieldset> <hr class="divider"> <fieldset> <div class="field-group form-category-field"> <super-select-list default-option-label="Select Category" label="Category" label-weight="heavy" model="vm.form.category.id" ss-validate="validator.required(vm.form.category.id,\'Category\')" required="true"> <super-select-list-item ng-repeat="category in routeVm.categories" value="category.value" label="category.name"></super-select-list-item> </super-select-list> </div> <div ng-if="vm.form.instanceType === \'form\'" class="field-group form-admin-field"> <super-select-list label="{{vm.form.instanceType}} administrator" default-option-label="Select Form Administrator" label-weight="heavy" model="vm.form.formAdministrator.formAdministratorType" ss-validate="validator.required(vm.form.formAdministrator.formAdministratorType,\'form administrator\')" required="true"> <super-select-list-item ng-repeat="type in vm.formAdminTypes" value="type.value" label="type.name"></super-select-list-item> </super-select-list> <p class="help-text form-admin-help-text"><em>The Form Administrator can track the progress of the form.</em></p> <super-employee-search class="emp-search-field" ng-if="vm.form.formAdministrator.formAdministratorType === formAdminEnums.specificPerson" model="vm.specificAdmin" ss-validate="validator.required(vm.form.formAdministrator.employeeId, \'Employee\')" limit="1" placeholder="Find Employee"></super-employee-search> </div> </fieldset> <hr class="divider"> <fieldset> <p class="help-text form-help-text">These selections can also be managed through the Form Settings tab.</p> <fieldset class="form-create-controls"> <super-button class="cancel" label="Cancel" ng-click="go.cancel()"></super-button> <super-button class="submit" pri label="Create" type="submit" ss-pending="vm.isCreating" ng-disabled="vm.invalidConfig"></super-button> </fieldset> </fieldset> </div> </form> </div> </section> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-tracking/segment-content/content.html",'<div class="segment-form-tracking-content"> <cmp-tracked-form-group type="urgent" search="routeVm.search" endpoint="go.urgent()" sent-by-sort="routeVm.sentByParticipant" sort-by="routeVm.sortBy" category="routeVm.selectedCategory" location="routeVm.sentToLocation" count="routeVm.counts._urgent" empl-id="vm.emplId" ng-if="routeVm.selectedCategory === \'urgent\'"></cmp-tracked-form-group> <cmp-tracked-form-group type="denied" search="routeVm.search" endpoint="go.denied()" sent-by-sort="routeVm.sentByParticipant" sort-by="routeVm.sortBy" category="routeVm.selectedCategory" location="routeVm.sentToLocation" count="routeVm.counts._denied" empl-id="vm.emplId" ng-if="routeVm.selectedCategory === \'denied\'"></cmp-tracked-form-group> <cmp-tracked-form-group type="not-started" search="routeVm.search" endpoint="go.notStarted()" sent-by-sort="routeVm.sentByParticipant" sort-by="routeVm.sortBy" category="routeVm.selectedCategory" location="routeVm.sentToLocation" count="routeVm.counts._notStarted" empl-id="vm.emplId" ng-if="routeVm.selectedCategory === \'not-started\'"></cmp-tracked-form-group> <cmp-tracked-form-group type="in-progress" search="routeVm.search" endpoint="go.inProgress()" sent-by-sort="routeVm.sentByParticipant" sort-by="routeVm.sortBy" category="routeVm.selectedCategory" location="routeVm.sentToLocation" count="routeVm.counts._inProgress" empl-id="vm.emplId" ng-if="routeVm.selectedCategory === \'in-progress\'"></cmp-tracked-form-group> <cmp-tracked-form-group type="complete" search="routeVm.search" endpoint="go.complete()" sent-by-sort="routeVm.sentByParticipant" sort-by="routeVm.sortBy" category="routeVm.selectedCategory" location="routeVm.sentToLocation" count="routeVm.counts._complete" empl-id="vm.emplId" , ng-if="routeVm.selectedCategory === \'complete\'"></cmp-tracked-form-group> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-tracking/segment-header/header.html",'<header class="segment-form-tracking-header"> <h1>Track Forms</h1> <div class="gd-row form-list-filters"> <div class="gd-40p"> <div class="form-search-filter"> <label for="search-filter">Filter by Form, Packet or Employee</label> <super-input-text id="search-filter" debounce="750" ss-icon="search" model="routeVm.search" is-disabled="vm.disableFilters">Type here to filter</super-input-text> </div> </div> <div class="gd-20p"> <super-select-list label="Date Sent" label-weight="heavy" model="vm.dateSentIdx" is-disabled="vm.disableFilters"> <super-select-list-item ng-repeat="dateSent in vm.dateSentOptions" label="dateSent.title" value="$index"></super-select-list-item> </super-select-list> </div> <div class="gd-20p"> <super-select-list label="Results (Sender/Admin)" label-weight="heavy" model="routeVm.sentByParticipant" is-disabled="vm.disableFilters"> <super-select-list-item ng-repeat="sent in vm.sentByCriteria" value="sent.value" label="sent.name"></super-select-list-item> </super-select-list> </div> <div class="gd-20p"> <super-select-list label="Employee location" label-weight="heavy" model="routeVm.sentToLocation" is-disabled="vm.disableFilters"> <super-select-list-item ng-repeat="loc in vm.locations" value="loc.id" label="loc._name"></super-select-list-item> </super-select-list> </div> </div> <div class="forms-list-filter-header"> <ul class="forms-list-filter-tabs"> <li ss-icon-before="calendar-o" ng-class="{\'is-selected\': routeVm.selectedCategory === \'urgent\'}" ng-click="go.filter(\'urgent\')">Urgent <abbr title="urgent forms count" class="count-display" ng-bind="routeVm.counts._urgent || \'0\'"></abbr></li> <li ss-icon-before="thumbsdown-stripes" ng-class="{\'is-selected\': routeVm.selectedCategory === \'denied\'}" ng-click="go.filter(\'denied\')">Denied <abbr title="denied forms count" class="count-display" ng-bind="routeVm.counts._denied || \'0\'"></abbr></li> <li ss-icon-before="square-o" ng-class="{\'is-selected\': routeVm.selectedCategory === \'not-started\'}" ng-click="go.filter(\'not-started\')">Not Started <abbr title="not started forms count" class="count-display" ng-bind="routeVm.counts._notStarted || \'0\'"></abbr></li> <li ss-icon-before="pencil" ng-class="{\'is-selected\': routeVm.selectedCategory === \'in-progress\'}" ng-click="go.filter(\'in-progress\')">In-Progress <abbr title="in progress forms count" class="count-display" ng-bind="routeVm.counts._inProgress || \'0\'"></abbr></li> <li ss-icon-before="check" ng-class="{\'is-selected\': routeVm.selectedCategory === \'complete\'}" ng-click="go.filter(\'complete\')">Complete <abbr title="complete forms count" class="count-display" ng-bind="routeVm.counts._complete || \'0\'"></abbr></li> </ul> </div> <div class="sort-by-filter"> <super-select-list type="filter" label="Sort by" model="routeVm.sortBy" is-disabled="vm.disableFilters"> <super-select-list-item ng-repeat="sort in vm.sortOptions" ng-if="sort.categories.includes(routeVm.selectedCategory)" value="sort.value" label="sort.name"></super-select-list-item> </super-select-list> </div> </header> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/form-instance/form-instance.html",'<route folder="/inbox/form-instance"> <div class="full-screen"> <header class="full-screen-header"> <segment name="close"></segment> <segment name="header"></segment> </header> <section class="full-screen-content" ss-pending="routeVm.isLoading" ss-pending-status="routeVm.loadingStatus"> <div class="full-screen-content-wrapper"> <div ng-show="!routeVm.showPDFOverlay" class="gd-row"> <div class="gd-65p content"> <segment name="form"></segment> </div> <div class="gd-35p sidebar"> <segment name="attachments"></segment> <segment name="steps"></segment> </div> </div> <div ng-show="routeVm.showPDFOverlay"> <iframe id="form-overlay-frame" src="" title="PDF overlay for {{routeVm.formInstance.name}}"></iframe> </div> </div> </section> </div> </route> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/segment-content/content.html",'<div class="segment-inbox-content"> <div class="gd-row forms-list-filter-group"> <div class="forms-list-filter-tabs"> <ul> <li ng-class="{\'is-selected\': vm.selectedFilter === \'current\'}" ng-click="go.filter(\'current\')">current forms <span class="count-display filter-count" ng-bind="vm.currentCount"></span></li> <li ng-class="{\'is-selected\': vm.selectedFilter === \'sent\'}" ng-click="go.filter(\'sent\')">sent forms</li> <li ng-class="{\'is-selected\': vm.selectedFilter === \'completed\'}" ng-click="go.filter(\'completed\')">completed Forms</li> </ul> <ul> <li ss-permitted="formTemplates.startForMyself" ss-icon-before="mail-forward" ng-class="{\'is-selected\': vm.selectedFilter === \'initiate\'}" ng-click="go.filter(\'initiate\')">forms i can start</li> </ul> </div> </div> <cmp-form-list-group ng-if="vm.selectedFilter === \'current\'" type="current" search="routeVm.search" endpoint="go.getCurrentForms()" count="vm.currentCount" filter="vm.selectedFilter"></cmp-form-list-group> <cmp-form-list-group ng-if="vm.selectedFilter === \'sent\'" type="sent" search="routeVm.search" endpoint="go.getSentForms()" count="null" filter="vm.selectedFilter"></cmp-form-list-group> <cmp-form-list-group ng-if="vm.selectedFilter === \'completed\'" type="completed" search="routeVm.search" endpoint="go.getCompletedForms()" count="null" filter="vm.selectedFilter"></cmp-form-list-group> <cmp-emp-initiated-template ng-if="vm.selectedFilter === \'initiate\'" type="initiate" search="routeVm.search" endpoint="go.getInitiatedForms()" filter="vm.selectedFilter"></cmp-emp-initiated-template> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/segment-header/header.html",'<div class="segment-inbox-header"> <div class="gd-70p"> <h1 class="page-title">My Forms</h1> </div> <div class="gd-30p"> <super-input-text size="large" debounce="750" ss-icon="search" model="routeVm.search">Find Form or Packet</super-input-text> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/index/segment-content/content.html",'<section class="segment-index-content"> <div class="gd-row content-header"> <div class="gd-35p"> <super-input-text size="large" ss-icon-before="search" model="vm.search" name="search">Find Form or Packet</super-input-text> </div> <div class="filter-group"> <super-select-list type="filter" label="Filter Status" model="vm.selectedStatus"> <super-select-list-item label="\'All\'" value="\'All\'"></super-select-list-item> <super-select-list-item ng-repeat="status in vm.statuses" value="status.value" label="status.name"></super-select-list-item> </super-select-list> <super-select-list type="filter" label="Filter Category" model="vm.selectedCategory"> <super-select-list-item label="\'All\'" value="\'All\'"></super-select-list-item> <super-select-list-item ng-repeat="category in routeVm.categories" value="category.value" label="category.name"></super-select-list-item> </super-select-list> <super-select-list type="filter" label="Sort by" model="vm.sortBy"> <super-select-list-item ng-repeat="sort in vm.sortCriteria" value="sort.value" label="sort.label"></super-select-list-item> </super-select-list> </div> </div> <div ss-pending="routeVm.loading && !vm.scrolling" ss-pending-status="routeVm.loadingMessage"> <ul class="ss-form-panel-list"> <li class="ss-panel-list-item" ng-if="routeVm.displayTemplates.length " ng-repeat="template in routeVm.displayTemplates"> <cmp-template-list-form template="template" org="routeVm.org" ng-if="template.isForm"></cmp-template-list-form> <cmp-template-list-packet template="template" ng-if="template.isPacket"></cmp-template-list-packet> </li> <li ng-if="!routeVm.displayTemplates.length && !routeVm.loading">No Forms or Packets found</li> </ul> </div> <div class="scroller" ng-if="vm.showInfScroll" ss-pending="vm.scrolling" ss-pending-status="\'Loading more results...\'" infinite-scroll="scrollData()" infinite-scroll-distance="1"></div> </section> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/index/segment-header/header.html",'<section class="gd-row segment-index-header"> <h1 class="gd-70p page-title">Form Templates</h1> <div class="gd-30p form-create-menu-group" ss-permitted="formTemplates.create,packets.create"> <button class="super-button std" ng-click="go.toggleMenu()"> <label ss-icon-after="angle-down">Create Template or Packet</label> </button> <form ng-submit="go.create()" ss-validate-form class="form-create-menu" ng-class="{\'ss-menu-open\': vm.openMenu}"> <fieldset> <h4 class="form-create-heading"><em>Are you creating a Form Template or a Packet?</em></h4> <button type="button" class="close" ss-icon="times" ng-click="go.cancel()"></button> <div class="gd-row"> <div class="gd-50p create-form-control"><super-input-radio label="Form Template" model="vm.form.instanceType" name="formTypeGroup" value="form"></super-input-radio></div> <div class="gd-50p create-packet-control"><super-input-radio label="Packet" model="vm.form.instanceType" name="formTypeGroup" value="packet"></super-input-radio></div> </div> </fieldset> <div ng-if="vm.form.instanceType !== null"> <hr class="divider"> <fieldset> <div class="field-group form-name-field"> <super-input-text model="vm.form.instanceTitle" label="{{vm.form.instanceType}} {{vm.altLabel}} name" label-weight="heavy" ss-validate="validator.required(vm.form.instanceTitle, \'Name\')" placeholder="This will be the title of the {{vm.form.instanceType}} {{vm.altLabel}}" required="true"></super-input-text> </div> <div class="field-group emp-initiate-control-field" ng-if="vm.form.instanceType === \'form\'"> <super-input-checkbox model="vm.form.isEmployeeInitiated" label="Employees can start this {{vm.form.instanceType}} {{vm.altLabel}} without admin assistance"></super-input-checkbox> <p ng-if="vm.form.instanceType === \'form\'" class="help-text emp-initiate-help-text"><em>This {{vm.form.instanceType}} {{vm.altLabel}} will be available for employees to start (complete and/or submit) without admin assistance.</em></p> </div> </fieldset> <hr class="divider"> <fieldset> <div class="field-group form-category-field"> <super-select-list default-option-label="Select Category" label="Category" label-weight="heavy" model="vm.form.category.id" ss-validate="validator.required(vm.form.category.id,\'Category\')" required="true"> <super-select-list-item ng-repeat="category in routeVm.categories" value="category.value" label="category.name"></super-select-list-item> </super-select-list> </div> <div ng-if="vm.form.instanceType === \'form\'" class="field-group form-admin-field"> <super-select-list label="{{vm.form.instanceType}} administrator" default-option-label="Select Form Administrator" label-weight="heavy" model="vm.form.formAdministrator.formAdministratorType" ss-validate="validator.required(vm.form.formAdministrator.formAdministratorType,\'form administrator\')" required="true"> <super-select-list-item ng-repeat="type in vm.formAdminTypes" value="type.value" label="type.name"></super-select-list-item> </super-select-list> <p class="help-text form-admin-help-text"><em>The Form Administrator can track the progress of the form.</em></p> <super-employee-search class="emp-search-field" ng-if="vm.form.formAdministrator.formAdministratorType === formAdminEnums.specificPerson" model="vm.specificAdmin" ss-validate="validator.required(vm.form.formAdministrator.employeeId, \'Employee\')" limit="1" placeholder="Find Employee"></super-employee-search> </div> </fieldset> <hr class="divider"> <fieldset> <p class="help-text form-help-text">These selections can also be managed through the Form Settings tab.</p> <fieldset class="form-create-controls"> <super-button class="cancel" label="Cancel" ng-click="go.cancel()"></super-button> <super-button class="submit" pri label="Create" type="submit" ss-pending="vm.isCreating" ng-disabled="vm.invalidConfig"></super-button> </fieldset> </fieldset> </div> </form> </div> </section> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/packet-builder/builder/builder.html",'<route folder="/packet-builder/builder"> <segment name="builder"></segment> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/packet-builder/segment-content/content.html",'<div class="segment-packet-builder-content" aria-label="packet builder section"> <ui-view id="packet-builder" aria-controlled-by="content-nav"></ui-view> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){
e.put("routes/packet-builder/segment-header/header.html",'<header class="segment-packet-builder-header"> <div class="gd-row form-title-actions-group"> <div class="gd-85p form-title-group" aria-label="packet name section"> <div class="icon"><i ss-icon-before="li-packet-large" role="presentation"></i></div> <div class="form-name"> <fieldset> <div class="form-title-ctrl" ng-class="{\'is-editing\' : vm.editTitle}"> <span ng-if="!vm.editTitle" class="title" ng-bind="vm.formTitle" title="{{vm.formTitle}}"></span> <super-input-text title="{{vm.formTitle}}" id="formTitle" model="vm.formTitle" ng-if="vm.editTitle" ss-validate="validator.required(vm.formTitle, \'packet name\')" required="true"></super-input-text> </div> </fieldset> <div class="form-title-edit-actions"> <button type="button" ng-if="!vm.editTitle" class="edit" ss-icon="pencil" ng-click="go.editTitle()" aria-label="edit the form name"></button> <button type="button" ng-if="vm.editTitle" class="save" ss-icon="check-circle" ng-click="go.confirmTitleEdit()" ng-disabled="!vm.formTitle.length" aria-label="save the form name"></button> <button type="button" ng-if="vm.editTitle" class="cancel" ss-icon="times" ng-click="go.cancelTitleEdit()" aria-label="cancel edit for form name"></button> </div> <div class="form-status"><strong ng-bind="vm.packetStatusLabel"></strong></div> </div> </div> <div class="gd-15p form-control-actions" aria-label="packet save amd activate section"> <fieldset> <div class="form-save"> <strong ng-if="vm.autoSaved" class="auto-saved">Auto Saved</strong> <super-button class="save-button" pri label="{{routeVm.saving ? \'Saving\' : \'Save Packet\'}}" type="submit" ng-class="{\'saving\': routeVm.saving}" ng-disabled="vm.nothingToSave || routeVm.saving" ss-icon="spinner"></super-button> </div> </fieldset> </div> </div> <nav id="content-nav" aria-controls="packet-builder"> <super-tab-list class="flat"> <super-tab-list-item label="Packet Builder" state="base.packetBuilder.Builder"></super-tab-list-item> <super-tab-list-item label="Packet Settings" state="base.packetBuilder.Settings"></super-tab-list-item> </super-tab-list> </nav> </header> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/packet-builder/settings/settings.html",'<route folder="/packet-builder/settings"> <segment name="settings"></segment> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/my-forms/segment-content/content.html",'<div class="segment-my-forms-content"> <div class="gd-row forms-list-filter-group"> <div class="forms-list-filter-tabs"> <ul> <li ng-class="{\'is-selected\': vm.selectedFilter === \'current\'}" ng-click="go.filter(\'current\')">current forms <span class="count-display filter-count" ng-bind="vm.currentCount"></span></li> <li ng-class="{\'is-selected\': vm.selectedFilter === \'sent\'}" ng-click="go.filter(\'sent\')">sent forms</li> <li ng-class="{\'is-selected\': vm.selectedFilter === \'completed\'}" ng-click="go.filter(\'completed\')">completed Forms</li> </ul> <ul> <li ss-permitted="formTemplates.startForMyself" ss-icon-before="mail-forward" ng-class="{\'is-selected\': vm.selectedFilter === \'initiate\'}" ng-click="go.filter(\'initiate\')">forms i can start</li> </ul> </div> </div> <cmp-form-list-group ng-if="vm.selectedFilter === \'current\'" type="current" search="routeVm.search" endpoint="go.getCurrentForms()" count="vm.currentCount" filter="vm.selectedFilter"></cmp-form-list-group> <cmp-form-list-group ng-if="vm.selectedFilter === \'sent\'" type="sent" search="routeVm.search" endpoint="go.getSentForms()" count="null" filter="vm.selectedFilter"></cmp-form-list-group> <cmp-form-list-group ng-if="vm.selectedFilter === \'completed\'" type="completed" search="routeVm.search" endpoint="go.getCompletedForms()" count="null" filter="vm.selectedFilter"></cmp-form-list-group> <cmp-emp-initiated-template ng-if="vm.selectedFilter === \'initiate\'" type="initiate" search="routeVm.search" endpoint="go.getInitiatedForms()" filter="vm.selectedFilter"></cmp-emp-initiated-template> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/my-forms/segment-header/header.html",'<div class="segment-my-forms-header"> <div class="gd-70p"> <h1 class="page-title">My Forms</h1> </div> <div class="gd-30p"> <super-input-text size="large" debounce="750" ss-icon="search" model="routeVm.search">Find Form or Packet</super-input-text> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/send/segment-content/content.html",'<div class="segment-send-content"> <section class="gd-row"> <header class="gd-25p"> <h3>FORM DETAILS</h3> </header> <div class="gd-60p"> <div class="gd-50p form-sender"> <div class="label">Form Sender</div> <div ng-class="{\'pending\' : vm.loadingFormSender}" ng-bind="vm.resolvedFormSender" data-cy="form-sender"></div> </div> <div class="gd-50p form-administrator" ng-if="vm.isForm"> <div class="label">Form Administrator</div> <div ng-bind="vm.formAdministrator"></div> </div> </div> </section> <section class="gd-row"> <header class="gd-25p"> <h3>EFFECTIVE DATE</h3> </header> <div class="gd-60p"> <p class="effective-date-instruction">You can use an ‘as-of’ date to determine an employee’s information on a form.<br><em>Example: Employee information (assignment, etc.) for this form should be based on employee record data as of August 1.</em></p> <super-input-checkbox label="Select an effective date to determine employee information" model="vm.useEffectiveDating"></super-input-checkbox> <p><super-input-datepicker model="vm.asOf" ng-if="vm.useEffectiveDating"></super-input-datepicker></p> <super-button pos label="Export" ng-disabled="!routeVm.postData.recipients.length && !routeVm.postData.bulkRecipients.length" ng-click="go.export()" ss-pending="vm.exporting"></super-button> </div> </section> <section class="gd-row"> <header class="gd-25p"> <h3>EMPLOYEE(S)</h3> </header> <div class="gd-60p"> <p>"Who" the form is about; information from their employee record will auto-populate certain form fields.</p> <super-employee-search placeholder="Add an employee by name" model="routeVm.postData.recipients" status-types="1" use-pill="true" query-limit="50" data-qa="add-employee-single">Add an employee by name</super-employee-search> <cmp-multiple-employee-search model="routeVm.postData.bulkRecipients" exclusions="routeVm.postData.exclusions" label="Need to send to a group of employees?"></cmp-multiple-employee-search> </div> </section> <section class="gd-row"> <header class="gd-25p"> <h3>DUE DATE FOR EMPLOYEE(S)</h3> </header> <div class="gd-60p"> <p ng-if="vm.isForm">This date applies to the <em>Workflow Step </em>assigned to the Employee (whom the form is about). This is not a due date for the form as a whole.</p> <p ng-if="vm.isPacket">This date applies to the <em>Workflow Step</em>(in each form) assigned to Employee (whom the forms are about). This is not a due date for the packet as a whole.</p> <ul> <li> <super-input-radio model="vm.hasSubmissionDueDate" value="false" label="No Due Date"></super-input-radio> </li> <li> <super-input-radio model="vm.hasSubmissionDueDate" value="true" label="Employee submission due by"> </super-input-radio> <super-input-datepicker name="submissionDueDate" options="vm.datePickerOptions" model="routeVm.postData.submissionDueDate" is-disabled="vm.hasSubmissionDueDate === \'false\'"> </super-input-datepicker> </li> </ul> </div> </section> <section class="gd-25p packet-email-preview" ng-if="vm.isPacket"> <header class="gd-25p"> <h3>PACKET EMAIL PREVIEW</h3> </header> <div class="gd-60p"> <dl class="packet-email-meta"> <div> <dt>From:&nbsp;</dt> <dd>do-not-reply@frontlineed.com</dd> </div> <div> <dt>Subject:&nbsp;</dt> <dd ng-bind="vm.item._startupEmail.subject || \'A packet is ready for you\'"></dd> </div> </dl> <div class="step-notification-message-group"> <p class="message-preview-header"><i>"Packet Ready"</i> email message preview:</p> <div class="message-preview-body"> <p class="message-prefix"><i ng-bind="vm.item._startupEmail.notificationPrefix"></i></p> <div class="form-list-wrapper" ss-pending="vm.loadingPacket" ng-class="{\'add-height\' : vm.loadingPacket}"> <ul class="forms-list"> <li class="forms-list-item" ng-repeat="form in vm.item.forms"><i ng-bind="form._name"></i></li> </ul> </div> <p ng-if="vm.item._startupEmail.useStartupEmail"><i ng-bind="vm.item._startupEmail.message"></i></p> <small class="message-suffix"><i ng-bind="vm.item._startupEmail.notificationSuffix"></i></small> </div> </div> </div> </section> <section class="gd-row" ng-if="vm.isForm"> <header class="gd-25p"> <h3><strong>Form Workflow & Notifications</strong></h3> </header> <div class="gd-60p details"> <ul class="form-step-list"> <li class="form-step" ng-repeat="step in vm.item._steps track by $index"> <div class="form-step-group"> <h4 ng-if="!$last">Workflow Step {{$index + 1}}<span ng-if="step._name">&nbsp;-&nbsp;{{::step._name}}</span></h4> <h4 ng-if="$last">Form & Workflow Complete Step</h4> </div> <div class="form-step-group" ng-if="!$last"> <dl class="form-step-meta"> <div> <dt>Step Participant</dt> <dd ng-bind="step.resolvedParticipant" data-cy="step-meta-step-participant"></dd> </div> <div> <dt>Step Action</dt> <dd data-cy="step-meta-step=-action">{{step._stepAction | enumByValue: \'stepAction\'}}</dd> </div> </dl> </div> <div class="form-step-group step-notification-message-group" ng-if="!$last"> <p class="message-preview-header"><i>"Step Ready"</i> email message preview:</p> <div class="message-preview-body"> <p class="message-prefix"><i ng-bind="step._notificationPrefix"></i></p> <p ng-if="step._notificationBody.length"><i ng-bind="step._notificationBody"></i></p> <small class="message-suffix"><i ng-bind="step._notificationSuffix"></i></small> </div> </div> <div ng-if="!$last && step.showResendMessage" class="form-step-group step-notification-message-group"> <p class="message-preview-header"><i>"Step Resent"</i> email message preview:</p> <div class="message-preview-body"> <p class="message-prefix"><i ng-bind="step._notificationPrefix"></i></p> <p ng-if="step._resendNotificationBody.length"><i ng-bind="step._resendNotificationBody"></i></p> <small class="message-suffix"><i ng-bind="step._notificationSuffix"></i></small> </div> </div> <div class="form-step-group" ng-if="!$last && step._stepParticipant.participantType === vm.recipient && vm.hasSubmissionDueDate && routeVm.postData.submissionDueDate != null"> <p class="gd-100p due-date" ss-icon="calendar-o">This step due on {{routeVm.postData.submissionDueDate | date:\'MM/dd/yyyy\'}}</p> </div> <div class="form-step-group" ng-if="$last"> <p>Sender will be notified</p> </div> </li> </ul> </div> </section> <section class="gd-row packet-detail-preview" ng-if="vm.isPacket" data-qa="forms-in-packet"> <header class="gd-25p"> <h3><strong>packet detail review </strong><em>"Form Complete" emails to sender are suppressed for forms in packets.</em></h3> </header> <div class="gd-60p packet-detail-preview-wrapper" ss-pending="vm.loadingPacket" ss-pending-status="\'loading packet...\'"> <ul class="gd-70p forms-list"> <li class="forms-list-item" ng-repeat="form in vm.item.forms" data-qa="form-{{ form.id }}"> <h4><a href="/ec-formbuilder/form/{{form.id}}/preview" ng-bind="form._name"></a></h4> <ul class="form-meta-info ss-pipe-children"> <li class="form-meta-item">Workflow ({{form.steps.length}} Steps) <super-popover> <div> <h6>Workflow <ng-pluralize count="form.steps.length" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize></h6> <ul class="popover-step-list"> <li ng-repeat="step in form.steps"> <span ng-bind="{{$index + 1}}"></span>) <span class="ss-pipe-right" ng-bind="step._stepParticipant.participantType | enumByValue:\'stepParticipantType\'"></span><span ng-bind="step._stepAction | enumByValue:\'stepAction\'"></span> </li> </ul> </div> </super-popover> </li> <li class="form-meta-item">Modified {{form._modifiedDt | date:\'MM/dd/yyyy\'}} <span ng-if="form._modifier.name">by {{form._modifier.name}}</span></li> </ul> </li> <li class="forms-list-item final-step" ng-if="!vm.loadingPacket"> <h4>Packet Complete</h4> <p>Sender will be notified</p> </li> </ul> </div> </section> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/send/segment-header/header.html",'<div class="segment-send-header gd-row"> <div class="batch-status-group ss-panel"> <ul class="batch-list" ng-style="vm.batchStyles"> <li class="batch-list-item" ng-repeat="batch in vm.batches"> <cmp-form-send-status org="routeVm.org" form="vm.item" batch="batch" on-complete="go.removeBatch(batch)" data-qa="batch-list-item"></cmp-form-send-status> </li> </ul> </div> <div class="send-control-group"> <div class="form-control-title gd-70p"> <h2 class="form-title" ng-bind="vm.item._name" data-qa="form-name-page-title"></h2> </div> <div class="form-control-actions"> <super-button pri label="Preview Form &amp; Workflow" ng-click="go.preview(vm.item)" ng-if="vm.isForm" data-qa="form-preview-button"></super-button> <super-button pos label="{{vm.isPacket?\'Send Packet\':\'Send Form\'}}" type="submit" ng-disabled="!routeVm.postData.recipients.length && !routeVm.postData.bulkRecipients.length || vm.isSending" ss-pending="vm.sending" data-qa="send-form-button"></super-button> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/builder/segment-builder/builder.html",'<div class="segment-form-builder-builder-builder"> <ol> <li class="fb-form-list-item"> <ol class="fb-step-list" ng-class="{\'fb-dragging-fields\': routeVm.draggingFields}" dnd-list="vm.steps" dnd-allowed-types="[\'stepType\']" dnd-drop="go.dropStep(event, index, item)"> <li class="fb-step-list-item" ng-click="go.stepSettings(step, $index)" ng-repeat="step in vm.steps" dnd-draggable="step" dnd-type="\'stepType\'" dnd-moved="go.movedStep($index, step)" dnd-effect-allowed="move"> <cmp-step-renderer step="step" step-index="$index"></cmp-step-renderer> </li> </ol> </li> <li class="fb-form-list-item"> <div class="fb-step-add"> <super-button ss-icon="plus-circle" smp class="" label="Add new workflow step" ng-click="go.addStep()"></super-button> </div> </li> <li class="fb-form-list-item fb-step-review" ng-click="go.reviewStep()" ng-mouseenter="vm.reviewStep.hoverState = true" ng-mouseleave="vm.reviewStep.hoverState = false" ng-if="routeVm.commitToEmployeeRecord.length"> <div class="fb-step" ng-class="{\'is-hover\': vm.reviewStep.hoverState, \'is-selected\': vm.selectedFormObject === vm.reviewStep}"> <div class="fb-step-header"> <h4 class="fb-step-title" ng-bind="vm.reviewStep._name"></h4> <div class="fb-actions fb-step-actions"> <span>Properties</span> </div> </div> <ul class="fb-field-groups"> <li class="fb-field-group fb-field-group-review"> <i>A summary of potential employee profile updates will display here for final review when the form is sent.</i> </li> </ul> </div> </li> <li class="fb-form-list-item fb-step-final" ng-click="go.formComplete()" ng-mouseenter="vm.lastStep.hoverState = true" ng-mouseleave="vm.lastStep.hoverState = false"> <div class="fb-step" ng-class="{\'is-hover\': vm.lastStep.hoverState, \'is-selected\': vm.selectedFormObject === vm.lastStep}"> <div class="fb-step-header"> <h4 class="fb-step-title" ng-bind="vm.lastStep._name"></h4> <div class="fb-actions fb-step-actions"> <span>Properties</span> </div> </div> <ul class="fb-field-groups"> <li class="fb-field-group fb-field-group-empty"> <i>Define what happens when the form\'s workflow is complete.</i> </li> </ul> </div> </li> <li class="fb-form-list-item"><cmp-attachments form="vm.form" label="Add Attachments"></cmp-attachments></li> </ol> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/builder/segment-fields/fields.html",'<div class="segment-form-builder-builder-fields" ss-window-anchor window-anchor-top="140"> <section class="form-builder-field-item" data-qa="template-employee-record-fields"> <h4 ss-toggle="emp-fields" ss-toggle-start-expanded aria-controls="emp-fields">Employee Record Tools<em>of who the form is about</em></h4> <ul id="emp-fields" class="emp-fields"> <li class="fb-field auto-{{ field.fields }}" ng-repeat="field in vm.fields.employee" dnd-draggable="field" dnd-effect-allowed="copy" dnd-type="\'fieldType\'" dnd-disable-if="!field.allowMultiple && routeVm.added[field.fields]" dnd-dragstart="routeVm.draggingFields = true" dnd-dragend="routeVm.draggingFields = false" ng-class="{disabled: !field.allowMultiple && routeVm.added[field.fields]}">{{field.label}}</li> </ul> </section> <section class="form-builder-field-item" data-qa="template-custom-fields"> <h4 ss-toggle="custom-fields" ss-toggle-start-expanded aria-controls="custom-fields">Custom Tools</h4> <ul id="custom-fields" class="custom-fields"> <li class="fb-field auto-{{ field.fields }}" ng-repeat="field in vm.fields.custom" dnd-draggable="field" dnd-dragstart="routeVm.draggingFields = true" dnd-dragend="routeVm.draggingFields = false" dnd-effect-allowed="copy" dnd-type="\'fieldType\'">{{field.label}}</li> </ul> </section> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/builder/segment-properties/properties.html",'<div class="segment-form-builder-builder-properties"> <div class="view-props sidebar"></div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/preview/segment-attachments/attachments.html",'<section class="segment-form-builder-preview-attachments"> <header class=""> <h4 class="">Attachments</h4> </header> <div class="main-content"> <div class="pad-12" ss-pending="vm.isLoading"> <ul class="form-attachment-list"> <li class="list-item form-attachment-item" ng-if="vm.files.length && !vm.isLoading" ng-repeat="attachment in vm.files"> <i ss-icon="{{ attachment.icon }}"></i> <a class="document" ng-bind="attachment._filename" ng-click="go.download(attachment._url)" title="Open {{attachment._filename}}" target="_blank"></a> </li> <li class="list-item form-attachment-item" ng-if="!vm.files.length && !vm.isLoading">No attachments</li> </ul> </div> </div> </section> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/preview/segment-form-header/form-header.html",'<header class="segment-form-builder-preview-form-header"> <h3 class="form-name" ss-icon="li-form-large" ng-bind="vm.form._name"></h3> <div class="form-meta"> <ul class="ss-pipe-children"> <li class="meta-item status" ng-bind="vm.formStatusLabel"></li> <li class="meta-item version"><abbr title="version {{vm.form._templateVersion || 1}}">v{{vm.form._templateVersion || 1}}</abbr></li> <li class="meta-item modified">{{vm.modifiedDate}}</li> </ul> </div> </header> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/preview/segment-page-header/page-header.html",'<header class="segment-form-builder-preview-page-header gd-row"> <div class="app-title"><h1>Frontline Central</h1></div> <div class="title"><h2>Form Preview</h2></div> <div class="close"> <super-button label="Print Form" ng-if="vm.form.status === \'active\'" ng-click="go.print()"></super-button> <super-button label="Close Preview" ng-click="go.close()"></super-button> </div> </header> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/preview/segment-form-workflow/form-workflow.html",'<div class="segment-form-builder-preview-form-workflow" ss-pending="vm.loading"> <ul class="fb-step-list"> <li class="fb-step-list-item" ng-repeat="step in vm.steps" ng-click="go.selectStep($index, step)" id="fb-step-{{$index}}" ng-mouseenter="step.hoverState = true" ng-mouseleave="step.hoverState = false"> <section class="fb-step" ng-class="{\'is-hover\': step.hoverState, \'is-selected\': vm.selectedStepId === step.id}"> <header class="fb-step-header"> <h4 class="fb-step-title"> <span ng-if="step._stepAction !== vm.stepAction.formCompleted && step._stepAction !== vm.stepAction.employeeProfileReview">Workflow Step {{$index + 1}}</span> <span ng-if="step._name && step._stepAction !== vm.stepAction.formCompleted && step._stepAction !== vm.stepAction.employeeProfileReview">&nbsp;-&nbsp;</span> <span ng-if="step._name">{{step._name}}</span> </h4> <div ng-if="step._stepAction !== vm.stepAction.formCompleted && step._stepAction !== vm.stepAction.employeeProfileReview"> <p class="fb-step-instructions" ng-if="step._instructions" ng-bind="step._instructions"></p> <div class="fb-step-meta"> <ul class="ss-pipe-children"> <li ss-icon="user" ng-bind="step.participantLabel" title="{{step.participantLabel}}"></li> <li ss-icon="wrench">{{step._stepAction | enumByValue: \'stepAction\'}}</li> </ul> </div> </div> </header> <div ng-if="step._stepAction !== vm.stepAction.formCompleted && step._stepAction !== vm.stepAction.employeeProfileReview"> <ul class="fb-field-groups"> <li class="fb-field-group" ng-repeat="group in step.fieldGroups"> <cmp-template-field-renderer ng-repeat="field in group" field="field" group="group"></cmp-template-field-renderer> </li> </ul> <footer class="fb-step-footer"> <div class="fb-comments"> <super-input-textarea model="" label="Comments (visible to all participants)"></super-input-textarea> </div> <div ng-if="step._stepAction === vm.stepAction.formEntry" class="form-entry step-action"> <super-button pri label="Submit Form"></super-button> </div> <div ng-if="step._stepAction === vm.stepAction.reviewForm" class="review-form step-action"> <super-button pri label="Form Has Been Reviewed"></super-button> </div> <div ng-if="step._stepAction === vm.stepAction.reviewApproveOrDeny" class="approve-deny step-action"> <super-button pos label="Approve Form"></super-button> <super-button neg label="Deny Form"></super-button> </div> </footer> </div> </section> </li> </ul> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/preview/segment-steps-summary/steps-summary.html",'<section class="segment-form-builder-preview-steps-summary"> <header class=""> <h4 class="">Form Workflow</h4> </header> <div class="main-content"> <div ss-pending="vm.loading"> <ul class="fb-steps-summary"> <li class="fb-summary-step" ng-class="{\'is-hover\': step.hoverState, \'is-selected\': vm.selectedStepId === step.id}" ng-repeat="step in vm.steps" ng-mouseenter="step.hoverState = true" ng-mouseleave="step.hoverState = false" ng-click="go.selectStep($index, step)" ng-if="!vm.loading"> <h4 class="step-heading">Workflow Step {{$index + 1}}<span ng-if="step._name">&nbsp;-&nbsp;{{step._name}}</span></h4> <dl class="step-summary-list pad-12" ng-show="vm.selectedStepId === step.id"> <dt>main participant:</dt> <dd> <ul class="fb-step-meta"> <li class="list-row" ss-icon="user"> <span ng-if="step.participantLabel.length" title="{{step.participantLabel}}">{{step.participantLabel}}</span> <em ng-if="!step.participantLabel.length">no participant selected</em> </li> <li class="list-row"> <ul class="ss-pipe-children"> <li class="" ss-icon="wrench"> <span ng-if="step.stepActionLabel.length">{{step.stepActionLabel}}</span> <em ng-if="!step.stepActionLabel.length">no action chosen</em> </li> <li class="" ss-icon="key" ng-if="step.participantPermission.length" ng-bind="step.participantPermission"> </li> </ul> </li> </ul> </dd> <dt>other participants:</dt> <dd> <ul class="fb-step-meta"> <li ng-if="step.otherParticipants.length" class="list-row" ng-repeat="others in step.otherParticipants"> <ul class="ss-pipe-children"> <li ss-icon="user" ng-show="others.name.length" ng-bind="others.name" title="{{others.name}}"></li> <li ss-icon="key" ng-bind="others.permissions.length ? others.permissions : \'No Access\'"></li> </ul> </li> <li ng-if="!step.otherParticipants.length"><em>no additional participants</em></li> </ul> </dd> <dt>Actions:</dt> <dd ng-if="step.eventDetails.length" ng-repeat="event in step.eventDetails"> <dl class="step-summary-sub-list"> <dt ss-icon="envelope-o">{{ event.title }}</dt> <dd ng-repeat="action in event.actions track by $index">- {{ action }}</dd> </dl> </dd> <dd class="event-actions" ng-if="!step.eventDetails.length"><em>no additional actions</em></dd> </dl> </li> <li class="fb-summary-step fb-step-review" ng-class="{\'is-hover\': vm.reviewStep.hoverState, \'is-selected\': vm.selectedStepId === vm.reviewStep.id}" ng-if="vm.reviewStep" ng-mouseenter="vm.reviewStep.hoverState = true" ng-mouseleave="vm.reviewStep.hoverState = false" ng-click="go.selectStep(\'review\', vm.reviewStep)"> <h4 class="step-heading">Review Profile Updates</h4> <dl class="step-summary-list pad-12" ng-show="vm.selectedStepId === vm.reviewStep.id"> <dt>main participant:</dt> <dd> <ul class="fb-step-meta"> <li class="list-row" ss-icon="user"> <span ng-if="vm.reviewStep.participantLabel.length">{{vm.reviewStep.participantLabel}}</span> <em ng-if="!vm.reviewStep.participantLabel.length">no participant selected</em> </li> <li class="list-row"> <ul class="ss-pipe-children"> <li class="" ss-icon="wrench"> <span ng-if="vm.reviewStep.stepActionLabel.length">{{vm.reviewStep.stepActionLabel}}</span> <em ng-if="!vm.reviewStep.stepActionLabel.length">no action chosen</em> </li> <li class="" ss-icon="key" ng-if="vm.reviewStep.participantPermission.length" ng-bind="vm.reviewStep.participantPermission"> </li> </ul> </li> </ul> </dd> <dt>Actions:</dt> <dd ng-if="vm.reviewStep.eventDetails.length" ng-repeat="event in vm.reviewStep.eventDetails"> <dl class="step-summary-sub-list"> <dt ss-icon="envelope-o">{{ event.title }}</dt> <dd ng-repeat="action in event.actions track by $index">- {{ action }}</dd> </dl> </dd> <dd class="event-actions" ng-if="!vm.reviewStep.eventDetails.length"><em>no additional actions</em></dd> </dl> </li> <li class="fb-summary-step fb-step-final" ng-class="{\'is-hover\': vm.finalStep.hoverState, \'is-selected\': vm.selectedStepId === vm.finalStep.id}" ng-mouseenter="vm.finalStep.hoverState = true" ng-mouseleave="vm.finalStep.hoverState = false" ng-click="go.selectStep(\'final\', vm.finalStep)"> <h4 class="step-heading">Form &amp; Workflow Complete</h4> <div ng-show="vm.selectedStepId === vm.finalStep.id"> <dl class="step-summary-list pad-12"> <dt ng-if="vm.finalStep.employeeRecord" ss-icon="copy">copy to personnel document category:</dt> <dd ng-if="vm.finalStep.employeeRecord" ng-bind="vm.finalStep.employeeRecord"></dd> <dt ng-if="vm.finalStep.eventDetails.length" ss-icon="envelope-o">{{ vm.finalStep.eventDetails[0].title }}</dt> <dd ng-if="vm.finalStep.eventDetails.length" ng-repeat="action in vm.finalStep.eventDetails[0].actions">- {{ action }}</dd> <dt ng-if="!vm.finalStep.employeeRecord && !vm.finalStep.eventDetails.length">Actions: </dt> <dd ng-if="!vm.finalStep.employeeRecord && !vm.finalStep.eventDetails.length"><em>no additional actions</em></dd> </dl> </div> </li> </ul> </div> </div> </section> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){
e.put("routes/form-builder/settings/segment-settings/settings.html",'<div class="segment-form-builder-settings-settings"> <section class="gd-row template-details"> <header class="gd-25p"> <h4>Template Details</h4> </header> <div class="gd-60p"> <div class="gd-row"> <p>This information determines who can access the form template as well as track a form after it has been sent.</p> </div> <div class="gd-row settings-allow-employee-initiate"> <super-input-checkbox label="Allow employees to initiate this form template" required model="vm.form._isEmployeeInitiated"></super-input-checkbox> <small class="inset">This template will be available for employees to start (complete and/or submit) without admin assistance.</small> </div> <div class="gd-row settings-category"> <super-select-list model="vm.form._category.id" label="Category" required="true" ss-validate="validator.required(vm.form._category.id, \'Category\')"> <super-select-list-item ng-repeat="category in vm.categories" value="category.value" label="category.name"></super-select-list-item> </super-select-list> </div> <div class="gd-row settings-form-administrator"> <super-select-list label="Form Administrator (can track progress of the form)" model="vm.form._formAdministrator.formAdministratorType" default-option-label="Select Form Administrator" required="true" ss-validate="validator.required(vm.form._formAdministrator.formAdministratorType, \'Form Administrator\')"> <super-select-list-item ng-repeat="item in vm.formAdminList" value="item.value" label="item.name"></super-select-list-item> </super-select-list> </div> <div class="gd-row settings-specific-employee" ng-if="vm.form._formAdministrator.formAdministratorType === 3"> <super-employee-search id="form-admin-employee-search" model="vm.specificEmployeeHolder" limit="1" use-pill="false" placeholder="Find Employee" ss-validate="validator.required(vm.form._formAdministrator.employeeId, \'Specific person\')"> </super-employee-search> </div> </div> </section> <section class="gd-row step" ng-repeat="step in vm.steps"> <header class="gd-25p"> <h4 data-qa="step-name"><span class="step-name-prefix">Workflow Step {{$index+1}}</span><span ng-if="step._name" class="step-name-custom"> - {{::step._name}}</span></h4> </header> <div class="gd-60p"> <dl class="gd-row step-properties-group"> <div class="gd-50p"> <dt>Step Participant</dt> <dd data-qa="step-participant" ng-bind="step.participantLabel" title="{{step.participantLabel}}"></dd> </div> <div class="gd-50p"> <dt>Step Action</dt> <dd data-qa="step-action">{{step._stepAction | enumByValue: \'stepAction\'}}</dd> </div> </dl> <div class="step-notification-message-group" data-qa="step-ready-message-group"> <p class="message-preview-header"><i>"Step Ready"</i> Email Message Preview:</p> <div class="message-preview-body"> <p class="message-prefix"><i ng-bind="step._notificationPrefix"></i></p> <super-input-textarea ng-if="step._useCustomNotification" model="step._notificationBody" placeholder="Type optional custom message here" id="step-ready-message-{{step.id}}"></super-input-textarea> <div><small class="message-suffix"><i ng-bind="step._notificationSuffix"></i></small></div> </div> <super-input-checkbox class="add-step-message" model="step._useCustomNotification" aria-controls="step-ready-message-{{step.id}}"></super-input-checkbox><label>Add Custom Message</label> </div> <div ng-if="step.showResendMessage" class="step-notification-message-group" data-qa="step-resent-message-group"> <hr class="divider"> <p class="message-preview-header"><i>"Step Resent"</i> Email Message Preview:</p> <div class="message-preview-body"> <p class="message-prefix"><i ng-bind="step._notificationPrefix"></i></p> <super-input-textarea ng-if="step._useCustomResendNotification" model="step._resendNotificationBody" placeholder="Type optional custom message here" id="step-resent-message-{{step.id}}"></super-input-textarea> <div><small class="message-suffix"><i ng-bind="step._notificationSuffix"></i></small></div> </div> <super-input-checkbox class="add-step-message" model="step._useCustomResendNotification" aria-controls="step-resent-message-{{step.id}}"></super-input-checkbox><label>Add Custom Message</label> </div> </div> </section> <section ng-if="vm.lastStepText.length"> <h4>Form Complete</h4> <p>{{vm.lastStepText}}</p> </section> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/form-instance/segment-attachments/attachments.html",'<section class="segment-inbox-form-instance-attachments"> <header class=""> <h4 class="">Attachments</h4> </header> <main class="main-content" ss-pending="vm.loading"> <div class="pad-12"> <ul class="form-attachment-list" ng-if="vm.files.length && !vm.loading"> <li class="list-item form-attachment-item" ng-repeat="attachment in vm.files"> <i ss-icon="{{ attachment.icon }}"></i> <a class="document" ng-bind="attachment._filename" ng-click="go.download(attachment._url)" title="Open {{attachment._filename}}" target="_blank"></a> </li> </ul> <p class="" ng-if="!vm.files.length && !vm.loading">No attachments</p> </div> </main> </section>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/form-instance/segment-close/close.html",'<div class="segment-inbox-form-instance-close"> <div class="app-title"><h1>Frontline Central</h1></div> <div class="close"> <super-button class="delete-button" neg ng-if="go.showDelete()" label="Delete" ng-click="go.deleteForm()" ng-class="{\'saving\': vm.deleting}" ss-icon="spinner" ng-disabled="vm.deleting" data-qa="form-instance-delete-button"></super-button> <super-button class="print-button" label="print form" is-disabled="routeVm.showPDFOverlay" ng-click="go.print()" data-qa="form-instance-print-button"></super-button> <super-button class="save-button" label="save progress" ng-if="!vm.formIsComplete && vm.fromView !== \'sent\'" ng-click="go.save()" data-qa="form-instance-save-button"></super-button> <button type="button" class="close-x" ng-click="go.close()" ss-tooltip="close" data-qa="form-instance-close-button"></button> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/form-instance/segment-form/form.html",'<div class="segment-inbox-form-instance-form" ss-pending="vm.loading"> <form autocomplete="off" ss-validate-form ng-submit="go.submitForm(vm.selectedStep)"> <ul class="fb-steps"> <li class="fb-step" ng-class="{\'is-hover\': step.hoverState,\'is-selected\': vm.selectedStep === step}" ng-repeat="step in vm.steps" ng-click="go.selectFormObject($index, step)" ng-if="!vm.loading && vm.steps" data-qa="step-{{ step.id }}" ng-keypress="$event.stopPropagation()" id="fb-step-{{$index}}"> <fieldset ng-disabled="step.disabled" ng-if="step._stepAction !== vm.employeeProfileReview"> <div class="fb-step-header"> <h4 class="fb-step-title" data-qa="step-title">Workflow Step {{$index + 1}} <span ng-if="step._name">- {{step._name}}</span></h4> <p ng-if="step._instructions" ng-bind="step._instructions" data-qa="step-instructions"></p> </div> <ul class="fb-fields"> <li class="fb-field" ng-repeat="group in step.fieldGroups" ng-click="go.fieldGroupSettings($event, group)"> <ul><li> <cmp-field-renderer ng-repeat="field in group" field="field" group="group" org="routeVm.org" ignore-validations="go.ignoreValidations(step, vm.selectedStep)" ng-style="{width: field.config.width}"></cmp-field-renderer> </li></ul> </li> </ul> <div class="actions"> <super-input-textarea label="Comments - Visible to all participants" model="step.instance._stepComments" edit-mode="step.editMode" is-disabled="step.disabled"></super-input-textarea> <div ng-if="step.showFormEntry" class="form-entry step-action"> <div class="buttons"> <super-button pri label="Submit Form" type="submit" ng-click="go.submitStep(step)" data-qa="submit-step-button"></super-button> </div> </div> <div ng-if="step.showReviewForm" class="review-form step-action"> <div class="buttons"> <super-button pri label="Form Has Been Reviewed" type="submit" ng-click="go.acknowledgeStep(step)" data-qa="review-step-button"></super-button> </div> </div> <div ng-if="step.showReviewApproveOrDeny" class="approve-deny step-action"> <div class="buttons"> <super-button pos label="Approve Form" type="submit" ng-click="go.approveStep(step)" data-qa="approve-step-button"></super-button> <super-button neg label="Deny Form" type="submit" ng-click="go.denyStep(step)" data-qa="deny-step-button"></super-button> </div> </div> </div> </fieldset> <fieldset ng-disabled="step.disabled" ng-if="step._stepAction === vm.employeeProfileReview"> <div class="fb-step-header"> <h4 class="fb-step-title">Review Employee Profile Updates</h4> <p data-qa="step-instructions">The following will be updated in <b>{{routeVm.formInstance._employee.name}}\'s</b> employee profile:</p> </div> <table class="form-review-fields fb-fields" ng-if="step.instance._employeeProfileReviewStepFieldValues.length > 0"> <thead class="form-review-fields-head"> <tr> <th>&nbsp;</th> <th class="current">Current</th> <th class="will-change-to">Will Change To</th> <th class="update-profile">Update <br>Profile</th> </tr> </thead> <tbody class="form-review-fields-body"> <tr ng-repeat="employeeProfileReviewStepField in step.instance._employeeProfileReviewStepFieldValues"> <td class="step-field"> <div ng-bind="employeeProfileReviewStepField.sourceField.step._name"></div> <div class="field-label" ng-bind="employeeProfileReviewStepField.sourceField._label"></div> </td> <td class="current" data-qa="{{ employeeProfileReviewStepField.sourceFormFieldId }}" ng-bind="go.profileValueDisplay(employeeProfileReviewStepField, step)"></td> <td class="will-change-to"> <cmp-field-renderer field="employeeProfileReviewStepField.sourceField" ignore-validations="ignoreValidations"></cmp-field-renderer></td> <td class="update-profile"><super-input-checkbox data-qa="{{ employeeProfileReviewStepField.sourceFormFieldId }}" is-disabled="step._stepAction !== vm.employeeProfileReview || routeVm.formInstance._statusId === vm.formComplete" model="employeeProfileReviewStepField.updateEmployeeProfile"></super-input-checkbox></td> </tr> </tbody> </table> <div class="actions"> <super-input-textarea label="Comments - Visible to all participants" model="step.instance._stepComments" edit-mode="step.editMode" is-disabled="step.disabled"></super-input-textarea> <div ng-if="step._stepAction === vm.employeeProfileReview && routeVm.formInstance._statusId !== vm.formComplete" class="form-entry step-action"> <div class="buttons"> <super-button pri label="Submit Form" type="submit" ng-click="go.reviewProfile(step)"></super-button> </div> </div> </div> </fieldset> </li> <li class="fb-step" ng-if="!vm.loading && !vm.steps.length"> <div class="fb-step-header"> <h4 class="fb-step-title">No Steps Found</h4> </div> <ul class="fb-fields"> <li class="fb-field">Either there was a problem retrieving workflow steps for this form, or you do not have permission to see any steps.</li> </ul> </li> </ul> </form> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/form-instance/segment-header/header.html",'<div class="segment-inbox-form-instance-header"> <div class="gd-row form-header-wrapper"> <div class="form-header-group form-info-group"> <h2 ss-icon="{{routeVm.formTemplate._isEmployeeInitiated ? \'li-form-e-large\' : \'li-form-large\'}}" class="form-instance-title" ng-bind="routeVm.formInstance.name" data-qa="form-instance-title"></h2> <ul class="form-meta ss-pipe-children"> <li class="form-meta-item"><abbr class="form-instance-version" title="version {{routeVm.formTemplate._templateVersion || 1}}">v{{routeVm.formTemplate._templateVersion || 1}}</abbr></li> <li class="form-meta-item">sent {{routeVm.formInstance.sentDate}} by {{routeVm.formInstance._creator.name}}</li> </ul> <p ng-if="routeVm.formTemplate._instructions" ng-bind="routeVm.formTemplate._instructions"></p> </div> <div class="form-header-group form-controls-group"> <div class="form-control-group sensitive-field-toggle-control-group" data-qa="sensitive-field-toggle-control-group" ng-if="vm.hasSensitiveFields"> <label for="sensitive-field-toggle">display sensitive info</label> <fluid-toggle label="\'this control will toggle the visibility of sensitive fields\'" checked="false" warning="" on:checked-change="go.toggleSensitiveFields($event)" disabled="vm.loading"></fluid-toggle> </div> <div class="form-control-group form-display-control-group" ng-if="routeVm.hasPDFOverlay"> <super-button ng-class="{active: !routeVm.showPDFOverlay}" ng-click="go.toggleFormView(showPDF = false)" label="Web Form" smp></super-button><super-button ng-class="{active: routeVm.showPDFOverlay}" ng-click="go.toggleFormView(showPDF = true)" label="PDF Overlay" smp></super-button> </div> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/form-instance/segment-steps/steps.html",'<section class="segment-inbox-form-instance-steps"> <header class=""> <h4 class="">Form Workflow</h4> </header> <main class="main-content" ss-pending="vm.loading"> <ul class="fb-steps-summary" ng-if="!vm.loading && vm.steps.length"> <li class="fb-summary-step" ng-class="{\n\t\t\t\t\t\'is-hover\': step.hoverState,\n\t\t\t\t\t\'is-selected\': vm.selectedStep === step,\n\t\t\t\t\t\'is-disabled\': step.disabled\n\t\t\t\t}" ng-repeat="step in vm.steps" ng-mouseenter="step.hoverState = true" ng-mouseleave="step.hoverState = false" ng-click="go.selectStep($index, step)"> <h4 class="step-heading">Workflow Step {{$index + 1}} <span ng-if="step._name">- {{step._name}}</span></h4> <dl class="step-summary-list pad-12" ng-show="vm.selectedStep === step" ng-cloak> <dt>main participant</dt> <dd> <ul class="fb-step-meta"> <li class="list-item-row" ss-icon="user" ng-if="step.instance._stepParticipant.name" ng-bind="step.instance._stepParticipant.name"></li> <li class="list-item-row" ng-if="step.stepActionName"> <ul class="ss-pipe-children"> <li class="item" ss-icon="wrench" ng-if="step.stepActionName" ng-bind="step.stepActionName"></li> <li class="item" ss-icon="key" ng-if="step.participantPermission.length" ng-bind="step.participantPermission"> </li> </ul> </li> </ul> </dd> <dt>other participants</dt> <dd ng-if="step.otherParticipants.length"> <ul class="fb-step-meta"> <li class="list-item-row" ng-repeat="other in step.otherParticipants"> <ul class="ss-pipe-children"> <li ss-icon="user" ng-bind="other.name" title="{{other.name}}"></li> <li ss-icon="key" ng-bind="other.permissions" title="{{other.name}}"></li> </ul> </li> </ul> </dd> <dd ng-if="!step.otherParticipants.length">No additional participants</dd> </dl> </li> <li class="fb-summary-step" ng-if="!vm.loading && !vm.steps.length"> <div class="pad-box"><p>No Workflow Steps found</p></div> </li> </ul> </main> </section> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/packet-builder/builder/segment-builder/builder.html",'<div class="segment-packet-builder-builder-builder" ss-pending="packetVm.saving"> <div class="gd-row"> <div class="gd-55p"> <div class="filters"> <div class="search-form"> <super-input-text model="vm.search" ss-icon="li-search" data-qa="packet-template-search-form">Find Form</super-input-text> </div> <div class="gd-row"> <div class="gd-50p select-filter-category"> <super-select-list label="Filter Category" type="filter" model="vm.selectedCategory"> <super-select-list-item label="\'All\'" value="\'All\'"></super-select-list-item> <super-select-list-item ng-repeat="category in vm.categories" value="category.value" label="category.name"></super-select-list-item> </super-select-list> </div> <div class="gd-50p select-filter-sortby"> <super-select-list label="Sort By" type="filter" model="vm.sortBy"> <super-select-list-item ng-repeat="option in vm.sortCriteria" label="option.name" value="option.field"></super-select-list-item> </super-select-list> </div> </div> </div> <div ss-pending="vm.loading" ss-pending-status="\'Loading form templates...\'"> <ul class="gd-row ss-panel-list form-list-full"> <li ng-if="!vm.loading && !vm.forms.length">No forms found</li> <li class="gd-row auto-{{ form.id }}" ng-repeat="form in vm.forms" dnd-draggable="form" dnd-type="\'formType\'" dnd-effect-allowed="copyMove" dnd-disable-if="form.inPacket"> <div class="form-icon"><i class="icon" ss-icon="li-form-large"></i> </div> <div class="form-info"> <h4><a href="/ec-formbuilder/form/{{form.id}}/preview" ng-bind="form._name"></a>&nbsp;<strong class="form-status" ng-if="form.status !== \'active\'" ng-class="{\'{{form.status}}\': form.status}" ng-bind="form.statusLabel"></strong></h4> <ul class="form-meta-info ss-pipe-children"> <li ng-if="form._steps.length"> Workflow ({{form._steps.length - 1}} <ng-pluralize count="form._steps.length - 1" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize>) <super-popover ng-if="form._steps.length > 0"> <h6>Workflow <ng-pluralize count="form._steps.length - 1" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize> </h6> <ul class="popover-step-list"> <li ng-repeat="step in form._steps" ng-if="step._stepAction !== vm.stepAction.formCompleted"> <span ng-bind="{{$index + 1}}"></span>) <span class="ss-pipe-right" ng-bind="step._stepParticipant.participantType | enumByValue:\'stepParticipantType\'"></span> <span ng-bind="step._stepAction | enumByValue:\'stepAction\'"></span> </li> </ul> </super-popover> </li> <li ng-if="form._modifiedDt">Modified {{form._modifiedDt | date:\'MM/dd/yyyy\'}} by {{form._modifier.name}}</li> <li ng-if="form._hasPrintPreviewDefinition" ss-icon="file-pdf-o">PDF Overlay available</li> </ul> </div> <div class="action"> <p id="form-added-status" class="form-added" ng-if="form.inPacket" ss-icon="check" role="status" aria-label="form has been added">Added</p> <super-button ng-if="!form.inPacket" ng-click="go.add($index, form)" label="Add" aria-controls="form-added-status"></super-button> </div> </li> </ul> </div> <div class="infinite-scrolling" ng-if="vm.showInfScroll" infinite-scroll="go.scrollData()" ss-pending="vm.scrolling" ss-pending-status="\'Loading form templates...\'" infinite-scroll-distance="0.5"></div> </div> <div class="added-packets gd-45p" ss-window-anchor> <h3 ss-icon="li-packet-large">Packet</h3> <div ss-pending="vm.loadingPacket" ss-pending-status="\'Loading packet...\'"> <ul class="form-list-added" dnd-list="added" dnd-drop="go.dropForm(event, index, type, item)" dnd-allowed-types="[\'formType\', \'addedType\']"> <li ng-if="!vm.loadingPacket && !added.length">There are no forms in this packet</li> <li class="gd-row auto-{{ form.id }}" ng-repeat="form in added" dnd-draggable="form" dnd-type="\'addedType\'" dnd-moved="go.moveForm($index, form)" dnd-effect-allowed="move"> <h4 class="gd-75p"><a href="/ec-formbuilder/form/{{form.id}}/preview" ng-bind="form._name"></a>&nbsp;<strong class="form-status" ng-if="form.status !== \'active\'" ng-class="{\'{{form.status}}\': form.status}" ng-bind="form.formStatusLabel"></strong></h4> <ul class="gd-85p form-meta-info ss-pipe-children"> <li ng-if="form._steps.length"> Workflow ({{form._steps.length - 1}} <ng-pluralize count="form._steps.length - 1" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize>) <super-popover> <h6>Workflow <ng-pluralize count="form._steps.length - 1" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize></h6> <ul class="popover-step-list"> <li ng-repeat="step in form._steps" ng-if="step._stepAction !== vm.stepAction.formCompleted"> <span ng-bind="{{$index + 1}}"></span>) <span class="ss-pipe-right" ng-bind="step._stepParticipant.participantType | enumByValue:\'stepParticipantType\'"></span><span ng-bind="step._stepAction | enumByValue:\'stepAction\'"></span> </li> </ul> </super-popover> </li> <li ng-if="form._modifiedDt">Modified {{form._modifiedDt | date:\'MM/dd/yyyy\'}} by {{form._modifier.name}}</li> <li ng-if="form._hasPrintPreviewDefinition" ss-icon="file-pdf-o"> PDF Overlay available</li> </ul> <div class="form-remove gd-15p" ng-click="go.remove($index, form)"> <button class="action" ss-icon="minus-circle" aria-controls="form-added-status" aria-label="remove {{form._name}}"></button> </div> </li> </ul> </div> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/packet-builder/settings/segment-settings/settings.html",'<div class="segment-packet-builder-settings-settings" ss-pending="vm.loading"> <section class="gd-row category"> <div class="gd-25p"> <h4>Category<em class="required" aria-label="category is required"></em></h4> </div> <div class="gd-75p"> <super-select-list model="vm.packet._category.id"> <super-select-list-item ng-repeat="category in vm.categories" value="category.value" label="category.name"></super-select-list-item> </super-select-list> </div> </section> <section class="gd-row"> <div class="gd-25p"> <h4><i>"Packet Ready"</i> Message</h4> <em class="section-subhead">Initial step ready notifications for forms in this packet will be suppressed when this packet is sent.</em> </div> <div class="gd-55p"> <div class="step-notification-message-group" data-qa="packet-ready-message-group"> <p class="message-preview-header"><i>"packet ready"</i> email message preview:</p> <div class="message-preview-body"> <p class="message-prefix"><i ng-bind="vm.packet._startupEmail.notificationPrefix"></i></p> <ul class="forms-list" ss-pending="vm.loading" aria-busy="vm.loading"> <li ng-repeat="form in vm.forms"><i ng-bind="form._name"></i></li> </ul> <p><super-input-textarea id="message-textarea" model="vm.packet._startupEmail.message" ng-if="vm.packet._startupEmail.useStartupEmail" placeholder="Type optional custom message here"></super-input-textarea></p> <div><small class="message-suffix"><i ng-bind="vm.packet._startupEmail.notificationSuffix"></i></small></div> </div> <super-input-checkbox class="add-step-message" label="Customize Packet Message" model="vm.packet._startupEmail.useStartupEmail" aria-controls="message-textarea"></super-input-checkbox> </div> </div> </section> <section class="gd-row workflow"> <div class="gd-25p"> <h4>Packet Workflow &amp; Notifications</h4> <em class="section-subhead"><i>"Step Ready"</i> email notifications to the primary recipient of the first step and <i>"Form Complete"</i> email notifications to sender are suppressed for any form in a packet</em> </div> <div class="gd-75p"> <ul class="packet-forms-list" ss-pending="vm.loading" aria-busy="vm.loading"> <li class="form" ng-repeat="form in vm.forms"> <p class="form-name" ng-bind="form._name" ss-icon-before="li-form-large"></p> <div class="form-meta-info"> <span ng-if="form._steps.length > 0"> Workflow ({{form._steps.length - 1}} <ng-pluralize count="form._steps.length - 1" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize>) <super-popover> <div> <p>Workflow <ng-pluralize count="form._steps.length - 1" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize></p> <ul class="popover-step-list"> <li ng-repeat="step in form.steps"> <span ng-bind="{{$index + 1}}"></span>) <span class="ss-pipe-right" ng-bind="step._stepParticipant.participantType | enumByValue:\'stepParticipantType\'"></span><span ng-bind="step._stepAction | enumByValue:\'stepAction\'"></span> </li> </ul> </div> </super-popover> | </span> <span>Modified {{form._modifiedDt | date:\'MM/dd/yyyy\'}} by {{form._modifier.name}}</span> </div> </li> </ul> </div> </section> </div> ')}])}()},{}],48:[function(e,t,n){"use strict";var r=e("base-state"),i={added:[],props:!1,addingFields:!1},s={url:"/builder?deactivate",templateUrl:"routes/form-builder/builder/builder.html",resolve:{$title:["$title",function(e){return e+" (Form Builder)"}]},$permissions:function(e){return e.isPermittedAction("formTemplates","create")||e.isPermittedAction("formTemplates","edit")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.formBuilder.builder",new r.State(s,i))}])},{"base-state":38}],49:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","$stateParams","$location","ssAsync","ssFormTemplatesApi","ssEventSvc","ssEnum","ssSaveInterrupterSvc","formsHlp","fieldsHlp","ssArrayHlp",function(e,t,n,r,i,s,o,a,l,c,p,u){function m(){var e=P.steps.find(function(e){return e._stepAction===a.stepAction.formCompleted});null==e?(e=P.steps.pop(),e.last=!0,e._stepAction=a.stepAction.formCompleted,e._name="Form and Workflow is Complete"):P.steps.splice(P.steps.indexOf(e),1),e._stepParticipant.participantType=P.stepParticipant.employeeChosenWhenSent,P.lastStep=e}function d(){P.reviewStep=b(P.form._steps),P.reviewStep?(P.steps.splice(P.steps.indexOf(P.reviewStep),1),f()):_.commitToEmployeeRecord=[]}function f(){var e=[];P.steps.forEach(function(t){t.fieldGroups.length>0&&t.fieldGroups.forEach(function(t){var n=t.map(function(e){if(!0===e._updateEmployeeRecord)return e._fieldGroup});e=e.concat(n)})}),_.commitToEmployeeRecord=u.unique(e.filter(function(e){return null!=e}))}function g(e,t){t.fields.length>0&&y(e,t.fields),e?null==b(P.form._steps)&&v():!e&&_.commitToEmployeeRecord.length<1&&h(),w.modelChanged()}function v(){var e=S.makeStep();e._stepAction=a.stepAction.employeeProfileReview,e._stepEvents=[{eventType:P.stepEventType.onEmployeeProfileReview,eventActions:[]}],e._permissions=[{canView:!0,canEdit:!0,canViewSensitive:!0,canEditSensitive:!0,employeeId:""}],e._name="Review Profile Updates",P.form._steps.splice(P.form._steps.length-1,0,e),P.reviewStep=e}function h(){var e=P.form._steps.find(function(e){return e._stepAction===a.stepAction.employeeProfileReview});null!=e&&P.form._steps.splice(P.form._steps.indexOf(e),1)}function y(e,t){if(e){if(_.commitToEmployeeRecord.includes(t[0]._fieldGroup))return;_.commitToEmployeeRecord.push(t[0]._fieldGroup)}else _.commitToEmployeeRecord.includes(t[0]._fieldGroup)&&_.commitToEmployeeRecord.splice(_.commitToEmployeeRecord.indexOf(t[0]._fieldGroup),1)}function b(e){return e.find(function(e){return e._stepAction===a.stepAction.employeeProfileReview})}var _=t.routeVm,w=t.formVm,S=e.get("segmentFormBuilderBuilderBuilderLogic"),T=null,P=t.vm=_.vm={form:w.formData,steps:[],selectedFormObject:null,stepAction:a.stepAction,stepEventType:a.stepEventType,stepParticipant:a.stepParticipantType},O=t.go={stepSettings:function(e,n){P.selectedFormObject=e,e.index=n+1,t.$emit("component-properties","step",e)},formComplete:function(){P.selectedFormObject=P.lastStep,t.$emit("component-properties","cmp-properties-form-complete",P.lastStep)},reviewStep:function(){P.selectedFormObject=P.reviewStep,t.$emit("component-properties","cmp-properties-profile-review",P.reviewStep)},addStep:function(){var e=P.form._steps.length,t=S.makeStep();P.form._steps.splice(e-1,0,t),P.steps.push(t),w.modelChanged(),O.stepSettings(t,P.steps.length-1)},movedStep:function(e,t){P.steps[T]=t,P.steps.splice(e,1)},dropStep:function(e,t,n){return w.modelChanged(),T=t,{}}};w.updateStepOrder=function(){null==P.lastStep.id?P.form._steps.forEach(function(e){e.last&&(P.lastStep=e)}):P.lastStep=P.form._steps.find(function(e){return e._stepAction===a.stepAction.formCompleted}),P.reviewStep=P.form._steps.find(function(e){return e._stepAction===a.stepAction.employeeProfileReview}),P.reviewStep?P.form._stepOrder=P.steps.map(function(e){return e.id}).join(",")+","+P.reviewStep.id+","+P.lastStep.id:P.form._stepOrder=P.steps.map(function(e){return e.id}).join(",")+","+P.lastStep.id,P.steps.forEach(function(e){e.fieldGroups.forEach(function(t){t.forEach(function(t){null==t._step&&(t._step={}),t._step.id=e.id})})})},w.updateFieldOrder=function(){P.steps.forEach(function(e){e._fieldOrder=e.fieldGroups.map(function(e){return e.map(function(e){return e.id}).join(",")}).join(",")})},o.on("ss-json-api.addedRecord.formFields",function(e,t){var n=P.form._steps.find(function(t){return t.id===e._step.id});if(null!=n){var r=n.fieldGroups.findIndex(function(t){return t.includes(e)});if(-1!==r){var i=n.fieldGroups[r].indexOf(e);-1!==i&&(n.fieldGroups[r][i]=t)}}},t),o.on("ss-json-api.addedRecord.steps",function(e,t){var n=P.steps.indexOf(e);-1!==n&&(P.steps[n]=t)},t),o.on("emp-record-commit",function(e,t){g(e,t)},t),t.$watch("vm.form._steps.length",function(e,t){e<t&&(b(P.form._steps)||(_.commitToEmployeeRecord=[]))}),w.processTemplate=function(){var e=P.form._formFields,t=P.form._steps,n=new Map;if(P.steps=[],c.sortByOrderField(t,P.form._stepOrder),Object.keys(_.added).forEach(function(e){return _.added[e]=!1}),t.length<2){for(var r=2-t.length;r--;)t.unshift(S.makeStep());w.modelChanged()}t.forEach(function(e){e.fields=[],P.steps.push(e),"string"==typeof e.id&&n.set(e.id,e)});for(var i=e.length;i--;){var s=e[i];s._step&&n.has(s._step.id)?(n.get(s._step.id).fields.push(s),null!=s._fieldGroup&&(_.added[s._fieldGroup]=!0)):e.splice(i,1)}P.steps.forEach(function(e){c.sortByOrderField(e.fields,e._fieldOrder),e.fieldGroups=[],e.fields.forEach(function(t){if(["951626b1-a422-46b4-9fa1-3b5acf7ee8fc","977a2273-62c1-4eef-8d63-91f9d8d1e0bf","10a88a23-f8f3-48eb-aa48-c466db06378b","17ff0b2c-4973-4181-92ce-b1c50c851165","c2e31de2-09e8-4563-acb1-0e190a8e3b11","5299a28c-56d5-4dc3-81ae-6f9f741eb324","e215f04f-037a-479e-b5da-9bb3155b55d5","9eabf24b-ae80-4488-a164-2a6f78a50cbd","b6390770-0590-418c-b516-2080b243e9b7","2056c221-97c8-4994-962c-f4bfc319a9e4"].includes(t._fieldDefId)&&(t._fieldGroup=void 0),t.disabled=!0,0===e.fieldGroups.length)return void e.fieldGroups.push([t]);var n=e.fieldGroups[e.fieldGroups.length-1];null!=t._fieldGroup&&n[0]._fieldGroup===t._fieldGroup?n.push(t):e.fieldGroups.push([t])}),e.fieldGroups.forEach(function(e){e.filter(function(e){return null!=e._fieldDefId}).forEach(function(e){p.updateFieldAttributes(e)})}),delete e.fields}),m(),d()},i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,w.loading=!0,!n.deactivate||1!==w.formData._statusId){e.next=10;break}return w.loadingMsg='Deactivating "'+w.formData._name+'"',e.next=6,s.editActive(w.formData);case 6:w.formData=e.sent,r.url("/ec-forms/form-builder/"+w.formData.id+"/builder"),e.next=11;break;case 10:w.loadingMsg="loading form template..";case 11:P.form.$refresh().then(function(){w.processTemplate(),P.form.$$resetChangesDetected(),P.form._steps.forEach(function(e){e.$$resetChangesDetected&&e.$$resetChangesDetected()}),P.form._formFields.forEach(function(e){e.$$resetChangesDetected&&e.$$resetChangesDetected()}),l.register(P.form),
w.loading=!1,w.loadingMsg="",O.stepSettings(P.steps[0],0)}),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(0),w.loading=!1,w.loadingMsg=null,console.error(e.t0);case 19:case"end":return e.stop()}},e,this,[[0,14]])}))()}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderBuilderBuilder",function(){return new l("builder")})},{"base-segment":37}],50:[function(e,t,n){"use strict";function r(e){return{makeStep:function(){return{_name:"",_fieldOrder:"",fieldGroups:[],_stepAction:null,_stepParticipant:{participantType:null,employeeIds:[]},_stepEvents:[{eventType:e.stepEventType.onSubmit,eventActions:[]}],_permissions:[]}}}}r.$inject=["ssEnum"],angular.module("ec-forms-segment-logic").factory("segmentFormBuilderBuilderBuilderLogic",r)},{}],51:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope",function(e,t){t.routeVm,e.get("segmentFormBuilderBuilderFieldsLogic"),t.vm={fields:{custom:[{component:"cmp-properties-custom-input",fields:"input",label:"Input"},{component:"cmp-properties-custom-dropdown",fields:"dropdown",label:"Dropdown"},{component:"cmp-properties-custom-selectbox",fields:"selectGroup",label:"Multiple Choice"},{component:"cmp-properties-custom-signature",fields:"signature",label:"Signature"},{component:"cmp-properties-custom-date",fields:"date",label:"Date"},{component:"cmp-properties-custom-fileupload",fields:"fileUpload",label:"File Upload"},{component:"cmp-properties-custom-filelink",fields:"fileLink",label:"Link"},{component:"cmp-properties-custom-sectionhead",fields:"sectionHead",label:"Section Head"},{component:"cmp-properties-custom-text",fields:"text",label:"Text"}],employee:[{component:"cmp-properties-smart",fields:"legalName",label:"Legal Name",allowMultiple:!1},{component:"cmp-properties-smart",fields:"aliasName",label:"Other Name",allowMultiple:!1},{component:"cmp-properties-smart",fields:"address",label:"Address",allowMultiple:!1},{component:"cmp-properties-smart",fields:"contact",label:"Contact",allowMultiple:!1},{component:"cmp-properties-smart",fields:"personal",label:"Personal",allowMultiple:!1},{component:"cmp-properties-smart",fields:"employment",label:"Employment",allowMultiple:!1},{component:"cmp-properties-smart",fields:"primaryAssignment",label:"Primary Assignment",allowMultiple:!0},{component:"cmp-properties-smart",fields:"assignmentCompensation",label:"Assignment Compensation",allowMultiple:!0},{component:"cmp-properties-smart",fields:"assignmentBenefits",label:"Assignment Benefit",allowMultiple:!0},{component:"cmp-properties-smart",fields:"secondaryAssignment",label:"Secondary Assignment",allowMultiple:!1},{component:"cmp-properties-smart",fields:"secondaryCompensation",label:"Secondary Compensation",allowMultiple:!1},{component:"cmp-properties-smart",fields:"secondaryBenefits",label:"Secondary Benefit",allowMultiple:!1},{component:"cmp-properties-smart",fields:"financial",label:"Financial",allowMultiple:!1},{component:"cmp-properties-smart",fields:"emergency",label:"Emergency",allowMultiple:!1}]}},t.go={}}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderBuilderFields",function(){return new l("fields")})},{"base-segment":37}],52:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentFormBuilderBuilderFieldsLogic",r)},{}],53:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","$element","$compile","$animate",function(e,t,n,r,i){var s=(t.routeVm,e.get("segmentFormBuilderBuilderPropertiesLogic"),t.formVm),o={left:"-120%"},a={left:0},l=void 0,c=!0,p=document.getElementsByClassName("view-props")[0],u=angular.element(p),m=t.vm={form:s.formData};t.formVm.suppressEditAccessModal=!1,t.$on("$destroy",t.$root.$on("component-properties",function(e,s,p){if(t.data!==p){null!=l&&l.$destroy(),l=t.$new(!1),t.data=p,m.showAdvanced=!1;var d="fields",f=s;"step"===s?(d="step",f="cmp-properties-step"):"cmp-properties-form-complete"!==s&&"cmp-properties-profile-review"!==s||(d="step");var g=r("<"+f+" "+d+'="data" form="vm.form"></'+f+">")(l);c?(i.enter(g,u).then(function(){i.animate(n,o,a,"",{duration:"0.3"})}),c=!1):i.animate(n,a,o,"",{duration:"0.3"}).then(function(){u.html(""),i.leave(g).then(function(){g=r("<"+f+" "+d+'="data" form="vm.form"></'+f+">")(l),i.enter(g,u).then(function(){i.animate(n,o,a,"",{duration:"0.3"})})})}),e.stopPropagation()}}))}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderBuilderProperties",function(){return new l("properties")})},{"base-segment":37}],54:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentFormBuilderBuilderPropertiesLogic",r)},{}],55:[function(e,t,n){"use strict";var r=e("base-state"),i={},s={url:"/form-builder/{formId:[0-9A-Za-z-]+}",templateUrl:"routes/form-builder/form-builder.html",resolve:{form:["$stateParams","ssAsync","ssFormTemplatesApi","ssOrganizationSvc",function(e,t,n,r){return t(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.get({id:e.formId,include:"steps,formFields,statusHistory,files"});case 3:return i.formData=t.sent,t.next=6,r.getActiveOrg();case 6:i.org=t.sent,t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}},t,this,[[0,9]])}))()}],$title:["form",function(e){return"Frontline Central - "+i.formData._name}]},$permissions:function(e){return e.isPermittedAction("formTemplates","create")||e.isPermittedAction("formTemplates","edit")||e.isPermittedAction("formInstances","send")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.formBuilder",new r.State(s,i))}])},{"base-state":38}],56:[function(e,t,n){"use strict";var r=e("base-state"),i={added:[],props:!1,addingFields:!1},s={url:"/preview?returnUrl",templateUrl:"routes/form-builder/preview/preview.html",resolve:{form:["$stateParams","ssAsync","ssFormTemplatesApi","ssOrganizationSvc",function(e,t,n,r){return t(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.get({id:e.formId,include:"steps,formFields,statusHistory,files"});case 3:i.formData=t.sent,t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}},t,this,[[0,6]])}))()}],$title:["$title",function(e){return e+" (Preview)"}]},$permissions:function(e){return e.isPermittedAction("formTemplates","view")||e.isPermittedAction("formTemplates","edit")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.formBuilder.preview",new r.State(s,i))}])},{"base-state":38}],57:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","$window","ssAsync","filenameHlp","ssFormTemplatesApi",function(e,t,n,r,i,s){var o=t.routeVm,a=(e.get("segmentFormBuilderPreviewAttachmentsLogic"),t.vm={isLoading:!0});t.go={download:function(e){n.open(e,"_blank")}};r(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.formData._files.map(function(e){return e._fileId}),e.prev=1,e.next=4,s.getFiles({},{ids:t});case 4:a.files=e.sent,a.files=a.files.filter(function(e){return!o.formData._printPreviewDefinition||e.id!==o.formData._printPreviewDefinition.templateFileId}).map(function(e){var t=i.getExtension(e._filename);return e.icon=i.getIcon(t),e}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:return e.prev=10,a.isLoading=!1,e.finish(10);case 13:case"end":return e.stop()}},e,this,[[1,8,10,13]])}))()}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderPreviewAttachments",function(){return new l("attachments")})},{"base-segment":37}],58:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentFormBuilderPreviewAttachmentsLogic",r)},{}],59:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","ssDateHlp","ssAsync","ssOrganizationSvc","ssDateByOrgHlp",function(e,t,n,r,i,s){function o(e){return!n.isForeverFuture(e)&&!n.isForeverPast(e)}var a=(t.routeVm,t.formVm),l=e.get("segmentFormBuilderPreviewFormHeaderLogic"),c=t.vm={form:a.formData};t.go={};r(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getActiveOrg();case 2:t=e.sent,c.formStatusLabel=l.getStatusLabel(a.formData,t),c.formStatus=l.getStatus(a.formData,t),o(c.form._modifiedDt)&&(n=s.utcIsoToRelativeMoment(c.form._modifiedDt,t),r=n.calendar(null,{sameDay:"[Today at] LT",lastDay:"[Yesterday at] LT",lastWeek:"ddd [at] LT",sameElse:"L [at] LT"}),c.modifiedDate="Modified "+r+" by "+c.form._modifier.name);case 6:case"end":return e.stop()}},e,this)}))()}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderPreviewFormHeader",function(){return new l("form-header")})},{"base-segment":37}],60:[function(e,t,n){"use strict";function r(e){function t(t,n){return e.getLabel(t,n).status}function n(t,n){return e.getLabel(t,n).statusLabel}return{getStatusLabel:n,getStatus:t}}r.$inject=["statusLabelHlp"],angular.module("ec-forms-segment-logic").factory("segmentFormBuilderPreviewFormHeaderLogic",r)},{}],61:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","$anchorScroll","ssEventSvc","ssEnum","ssObjectHlp","formsHlp",function(e,t,n,r,i,s,o){var a=t.routeVm,l=(t.formVm,e.get("segmentFormBuilderPreviewFormWorkflowLogic"),new Map),c=t.vm={steps:[],reviewStep:{_name:"Review Profile Updates",review:!0},stepAction:i.stepAction,selectedStep:null,loading:!0};t.go={selectStep:function(e,t){c.selectedStepId=t.id,r.emit("form-builder.builder.step-clicked",e,t)}};r.on("form-builder.summary.step-clicked",function(e,t){c.selectedStepId=l.get(t.id).id,n("fb-step-"+e)},t),function(){o.sortByOrderField(a.formData._steps,a.formData._stepOrder),a.formData._steps.forEach(function(e){e.fields=[],"string"==typeof e.id&&l.set(e.id,e)});for(var e=a.formData._formFields.length;e--;){var t=a.formData._formFields[e];t._step&&l.has(t._step.id)?l.get(t._step.id).fields.push(t):a.formData._formFields.splice(e,1)}a.formData._steps.forEach(function(e){o.sortByOrderField(e.fields,e._fieldOrder),e.participantLabel=e._stepParticipant.name||i.stepParticipantType.byValue(e._stepParticipant.participantType),e.fieldGroups=[],e.fields.forEach(function(t){if(["951626b1-a422-46b4-9fa1-3b5acf7ee8fc","977a2273-62c1-4eef-8d63-91f9d8d1e0bf","10a88a23-f8f3-48eb-aa48-c466db06378b","17ff0b2c-4973-4181-92ce-b1c50c851165","c2e31de2-09e8-4563-acb1-0e190a8e3b11","5299a28c-56d5-4dc3-81ae-6f9f741eb324","e215f04f-037a-479e-b5da-9bb3155b55d5","9eabf24b-ae80-4488-a164-2a6f78a50cbd","b6390770-0590-418c-b516-2080b243e9b7","2056c221-97c8-4994-962c-f4bfc319a9e4"].includes(t._fieldDefId)&&(t._fieldGroup=void 0),t.disabled=!1,"super-select-list"===t._fieldType){var n=JSON.parse(t._configJson);null!=n.externalSource&&null!=i[n.externalSource]&&(t.externalSourceOptions=i[n.externalSource].enums)}if(0===e.fieldGroups.length)return void e.fieldGroups.push([t]);var r=e.fieldGroups[e.fieldGroups.length-1];null!=t._fieldGroup&&r[0]._fieldGroup===t._fieldGroup?r.push(t):e.fieldGroups.push([t])}),delete e.fields}),c.steps=a.formData._steps,c.selectedStepId=c.steps[0].id,c.loading=!1}()}]},{key:"link",value:function(e,t,n){angular.element(document).ready(function(){t.find("input").on("focus",function(e){e.preventDefault(),e.target.blur()})})}}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderPreviewFormWorkflow",function(){return new l("form-workflow")})},{"base-segment":37}],62:[function(e,t,n){"use strict";function r(){return{makeStep:function(){return{_name:"",_fieldOrder:"",fieldGroups:[]}}}}angular.module("ec-forms-segment-logic").factory("segmentFormBuilderPreviewFormWorkflowLogic",r)},{}],63:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","$window","$stateParams","$location","ssEventSvc","rAF","ssDateByOrgHlp",function(e,t,n,r,i,s,o,a){var l=t.routeVm,c=(e.get("segmentFormBuilderPreviewPageHeaderLogic"),null);o(function(){s.emit("allow-fullscreen")},t);t.vm={},t.go={close:function(){var e=r.returnUrl;null!=e&&0!==e.length||(e="/ec-forms/form-builder/"+l.formData.id+"/builder"),i.url(e)},print:function(){c=l.formData.modifiedText,l.formData.modifiedText=a.utcIsoToRelativeMoment(l.formData._modifiedDt,l.formData._organizationId).format("MM/DD/YY"),o(function(){n.print(),l.formData.modifiedText=c},t)}}}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderPreviewPageHeader",function(){return new l("page-header")})},{"base-segment":37}],64:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentFormBuilderPreviewPageHeaderLogic",r)},{}],65:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","ssEventSvc","ssEnum","formsHlp",function(e,t,n,r,i){function s(){var e=Array.from(arguments),t={};return e.forEach(function(e,n){e.forEach(function(e){t[n+"-"+e.value]=e.name})}),t}var o=t.routeVm,a=(t.formVm,e.get("segmentFormBuilderPreviewStepsSummaryLogic")),l=r.personnelCategory.getEnums(),c=r.medicalCategory.getEnums(),p=new Map,u=t.vm={steps:[],stepAction:r.stepAction,selectedStep:null,loading:!0};t.go={selectStep:function(e,t){u.selectedStepId=t.id,n.emit("form-builder.summary.step-clicked",e,t)}};n.on("form-builder.builder.step-clicked",function(e,t){u.selectedStepId=p.get(t.id).id},t),function(){u.steps=angular.copy(o.formData._steps),i.sortByOrderField(u.steps,o.formData._stepOrder);var e=a.buildParticipantList(u.steps);u.steps.forEach(function(t){if("string"==typeof t.id&&p.set(t.id,t),t._stepAction!==r.stepAction.formCompleted){var n=e.find(function(e){return e.stepIds.includes(t.id)});t.participantLabel=n?n.participantName:"",t.participantPermission=a.getPermissionLabel(t),t.stepActionLabel=r.stepAction.byValue(t._stepAction)}t.eventDetails=a.getEventDetails(t),t.otherParticipants=a.getOtherParticipants(e,t)});var t=u.steps.find(function(e){return e._stepAction===r.stepAction.formCompleted}),n=u.steps.find(function(e){return e._stepAction===r.stepAction.employeeProfileReview});if(u.finalStep=u.steps.splice(u.steps.indexOf(t),1)[0],n&&(u.reviewStep=u.steps.splice(u.steps.indexOf(n),1)[0]),o.formData._employeeRecord.addToEmployeeRecord){var m=s(l,c),d=o.formData._employeeRecord.category,f=o.formData._employeeRecord.subCategory;u.finalStep.employeeRecord=m[d+"-"+f]}u.selectedStepId=u.steps[0].id,u.loading=!1}()}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderPreviewStepsSummary",function(){return new l("steps-summary")})},{"base-segment":37}],66:[function(e,t,n){"use strict";function r(e){function t(t){var n=[];return t.forEach(function(t){if(t._stepParticipant&&t._stepAction!=e.stepAction.formCompleted){var r=angular.isArray(t._stepParticipant.employeeIds)&&t._stepParticipant.employeeIds.length?t._stepParticipant.employeeIds[0]:"",i=t._stepParticipant.name?t._stepParticipant.name:e.stepParticipantType.byValue(t._stepParticipant.participantType),s=n.find(function(e){return o(e,t)});if(s)return void s.stepIds.push(t.id);n.push({stepIds:[t.id],participantName:i,participantType:t._stepParticipant.participantType,employeeId:r})}}),n}function n(t){return t._stepEvents?t._stepEvents.reduce(function(t,n){return n.eventActions.length?(t.push({title:e.stepEventType.byValue(n.eventType),actions:n.eventActions.reduce(function(t,n){return n.eventAction===e.stepEventAction.stopWorkFlow?t:(t.push(e.stepEventAction.byValue(n.eventAction)),t)},[])}),t):t},[]):[]}function r(e,t){return e.length?e.reduce(function(e,n){if(n.stepIds.includes(t.id))return e;var r=t._permissions.find(function(e){return o(e,n)});return r&&r.canView?(e.push({name:n.participantName,permissions:"view"+(r.canEdit?" & edit":"")}),e):e},[]):[]}function i(e){if(!e._permissions)return"";var t=e._permissions.find(function(t){return o(t,e)});return t?"view"+(t.canEdit?" & edit":""):""}function s(){return{_name:"",_fieldOrder:"",fieldGroups:[]}}function o(t,n){var r=n._stepParticipant?n._stepParticipant.employeeIds[0]:n.employeeId,i=n._stepParticipant?n._stepParticipant.participantType:n.participantType;return t.participantType===e.stepParticipantType.specificPerson?t.employeeId===r:t.participantType===i}return{buildParticipantList:t,getEventDetails:n,getPermissionLabel:i,getOtherParticipants:r,makeStep:s,matchByParticipants:o}}r.$inject=["ssEnum"],angular.module("ec-forms-segment-logic").factory("segmentFormBuilderPreviewStepsSummaryLogic",r)},{}],67:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","ssPermissionsSvc",function(e,t,n){var r=t.routeVm;e.get("segmentFormBuilderContentLogic");t.formVm=r;var i=t.vm={printViewBuilderEnabled:!1};t.go={};i.printViewBuilderEnabled=n.isPermittedAction("formTemplates","buildOverlay")||!!t.$root.isPermitted.activeUser.idmAdministrator}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderContent",function(){return new l("content")})},{"base-segment":37}],68:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentFormBuilderContentLogic",r)},{}],69:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","$window","$q","$rootScope","$location","$state","$timeout","ssAsync","ssEventSvc","ssStatusApi","ssToastHlp","rAF","ssValidationHlp","ssPermissionsSvc","ssStorage","ssDateByOrgHlp","statusLabelHlp","ssModalSvc",function(e,t,n,r,i,s,o,a,l,c,p,u,m,d,f,g,v,h,y){function b(e,t,n,r,i){["fieldOrder","fieldGroup","stepOrder"].includes(t)||S.modelChanged()}function _(){var e,t=document.querySelectorAll(".form-title-ctrl"),n=angular.element(t[0]).find("input");null!=n.val()&&(e=n.val().length,n.attr("size",e))}var w,S=t.routeVm,T=(e.get("segmentFormBuilderHeaderLogic"),S.formData),P=S.org.id+"_formbuilder_"+T.id;t.validator=d;var O=t.vm={formTitle:T._name,activationDate:v.todaysStartRelativeTo(S.org).format("MM/DD/YYYY"),formStatusLabel:h.getLabel(T,S.org).statusLabel,activate:null,editTitle:!1,nothingToSave:!0,autoSaved:!1,printViewBuilderEnabled:!1},x=t.go={editTitle:function(){O.editTitle=!0,O.previousAutoSaved=O.autoSaved,m.raw(function(){_()})},preview:function(){if(!S.saving){if(!O.nothingToSave){var e={title:"Preview Form Template",content:"You will need to save this form template in order to preview it.",primaryText:"save and continue",secondaryText:"cancel"};return y.showStandard(e).then(function(e){x.saveFormTemplate().then(function(){s.url("/ec-forms/form-builder/"+S.formData.id+"/preview")})})}s.url("/ec-forms/form-builder/"+S.formData.id+"/preview")}},saveFormTemplate:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(S.saving||O.nothingToSave)return r.when();var t=w;return S.saving=!0,S.loadingMsg="saving form template...",O.editTitle=!1,T._name=O.formTitle,l(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,T._steps.forEach(function(e){e._permissions=angular.copy(e._permissions,[])}),n.next=4,T._steps.$save(!1,!e);case 4:return null!=S.updateStepOrder&&S.updateStepOrder(),n.next=7,T.$save(!0,!e);case 7:return null!=S.updateFieldOrder&&S.updateFieldOrder(),n.next=10,T._steps.$save(!1,!e);case 10:t===w&&(O.nothingToSave=!0,O.autoSaved=!1),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),O.nothingToSave=!1;case 16:return n.prev=16,S.saving=!1,S.loadingMsg="",n.finish(16);case 21:case"end":return n.stop()}},n,this,[[0,13,16,21]])}))()},confirmTitleEdit:function(){""!==O.formTitle&&(O.editTitle=!1,O.currentValue=O.formTitle,O.nothingToSave=!1)},cancelTitleEdit:function(){O.editTitle=!1,O.formTitle=O.currentValue,O.autoSaved=O.previousAutoSaved},activateNow:function(){O.activationDate=null,O.statusConfig={statusId:1},x.activateOnDate()},activateOnDate:function(){if(!S.saving){if(!T._formAdministrator.formAdministratorType)return u.error("Form Administrator is required","Select Form Administrator"),void t.$root.$emit("ss-menu-close");if(!T._stepOrder||T._stepOrder.includes("undefined"))return void u.error("The form template does not have a valid step order","");var e=T._stepOrder.slice(0,T._stepOrder.indexOf(","));if(!T._steps.find(function(t){return t.id===e})._fieldOrder.length)return u.warn("Step 1 of this form template contains no fields. Please add fields in order to activate.",""),void t.$root.$emit("ss-menu-close");for(var n=0;n<T._steps.length-1;n++){var r=T._steps[n];if(3!==r._stepAction){if(null==r._stepParticipant.participantType)return u.error("Step Participant is required for each step","Activation Failed"),void t.$root.$emit("ss-menu-close");if(null==r._stepAction)return u.error("Action Performed is required for each step","Activation Failed"),void t.$root.$emit("ss-menu-close")}}if(null==T._category.id)return u.error("Category is required to activate this form.","Activation Failed"),t.$root.$emit("ss-menu-close"),void o.go("base.formBuilder.settings");null!==O.activationDate&&(O.statusConfig.from=v.startOfDayRelativeTo(moment(O.activationDate),S.org)),l(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,O.nothingToSave){e.next=4;break}return e.next=4,x.saveFormTemplate();case 4:return S.saving=!0,S.loadingMsg="activating form template...",e.next=9,p.update({id:T.id},O.statusConfig,!1);case 9:O.nothingToSave=!1,s.url("/ec-forms"),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),t=e.t0.data.errors.Title.substr(e.t0.data.errors.Title.indexOf(":")+1),t=t.split(","),t.forEach(function(e){u.error(e,"Activation Failed")});case 18:return e.prev=18,S.saving=!1,S.loadingMsg="",e.finish(18);case 22:case"end":return e.stop()}},e,this,[[0,13,18,22]])}))()}}};S.saveFormTemplate=x.saveFormTemplate,O.printViewBuilderEnabled=f.isPermittedAction("formTemplates","buildOverlay")||!!t.$root.isPermitted.activeUser.idmAdministrator,c.on("ss-json-api.changedRecord.formFields",b,t),c.on("ss-json-api.changedRecord.formTemplates",b,t),c.on("ss-json-api.changedRecord.steps",b,t),i.$on("$stateChangeStart",function(e,t,n,r,i,s){"base.formBuilder.preview"===t.name&&g.save(P,{y:window.scrollY})}),i.$on("$stateChangeSuccess",function(e,t,r,i,s){if("base.formBuilder.preview"===i.name){var o=g.load(P);o&&(g.clear(P),a(function(){n.scrollTo(0,o.y)},1e3))}}),t.$watch("vm.formTitle",function(e,t){e===t&&(O.currentValue=t),m.raw(function(){_()})}),S.modelChanged=function(){O.nothingToSave=O.autoSaved=!1,w=w||Date.now()}}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderHeader",function(){return new l("header")})},{"base-segment":37}],70:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentFormBuilderHeaderLogic",r)},{}],71:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){
if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","ssAsync","ssListSvc","ssEmployeeApi","ssEnum","ssToastHlp","formsHlp","rAF",function(e,t,n,r,i,s,o,a,l){var c=(t.routeVm,e.get("segmentFormBuilderSettingsSettingsLogic")),p=t.formVm,u=s.formAdministratorType.getEnums();t.validator=c.validator;var m=t.vm={loading:!1,form:p.formData,showSpecificPerson:!1,formAdminList:u,specificEmployeeHolder:[],lastStepText:""},d=(t.go={},m.form._steps.find(function(e){return e._stepAction===s.stepAction.formCompleted}));m.steps=m.form._steps.filter(function(e){return e._stepAction!==s.stepAction.formCompleted}),a.sortByOrderField(m.steps,m.form._stepOrder),m.steps.forEach(function(e,r){t.$watch("vm.steps["+r+"]._useCustomNotification",function(n,i){if(n!==i){var s=r;n?l(function(){return document.getElementById("step-ready-message-"+e.id).focus()},t):m.steps[s]._notificationBody=""}}),t.$watch("vm.steps["+r+"]._useCustomResendNotification",function(n,i){if(n!==i){var s=r;n?l(function(){return document.getElementById("step-resent-message-"+e.id).focus()},t):m.steps[s]._resendNotificationBody=""}}),e.showResendMessage=r+1!==m.steps.length&&m.steps[r+1]._stepAction===s.stepAction.reviewApproveOrDeny;var o=e._stepParticipant;o.participantType===s.stepParticipantType.specificPerson?o.employeeIds&&o.employeeIds.length&&n(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.get({id:o.employeeIds[0],fields:"firstName,lastName"});case 2:n=t.sent,e.participantLabel=n._firstName+" "+n._lastName;case 4:case"end":return t.stop()}},t,this)}))():(o.participantType||o.participantType===s.stepParticipantType.employeeChosenWhenSent)&&(e.participantLabel=s.stepParticipantType.byValue(o.participantType))}),n(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:d._stepEvents[0].eventActions.forEach(function(e){e.eventAction===s.stepEventAction.emailOthers?n(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.queryByIds({fields:"firstName,lastName"},{ids:e.employeeIds},null,!1);case 2:n=t.sent,n.forEach(function(e){m.lastStepText.length&&(m.lastStepText+=", "),m.lastStepText+="Email "+e._firstName+" "+e._lastName});case 4:case"end":return t.stop()}},t,this)}))():(m.lastStepText.length&&(m.lastStepText+=", "),m.lastStepText+=s.stepEventAction.byValue(e.eventAction))});case 1:case"end":return e.stop()}},e,this)}))(),t.$watch("vm.form._formAdministrator.formAdministratorType",function(e,t){!e||e<=0||e===t||e!==s.formAdministratorType.specificPerson&&(m.form._formAdministrator.employeeId=null,m.specificEmployeeHolder=[])}),t.$watch("vm.specificEmployeeHolder",function(e,t){e!==t&&(e&&e.length?m.form._formAdministrator.employeeId=e[0].id:m.form._formAdministrator.employeeId=null)}),t.$watch("vm.form._isEmployeeInitiated",function(e){e?(m.form._formAdministrator.formAdministratorType===s.formAdministratorType.formPacketSender&&(m.form._formAdministrator.formAdministratorType=null),m.formAdminList=m.formAdminList.filter(function(e){return 1!==e.value})):m.formAdminList=u}),c.setupSaveInterrupter(m.form),n(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m.loading=!0,e.prev=1,e.next=4,r.getByExternalId("form.categories");case 4:m.categories=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),o.error("There was an error retrieving form categories","");case 10:if(m.form._formAdministrator.formAdministratorType!==s.formAdministratorType.specificPerson){e.next=22;break}if(!m.form._formAdministrator.employeeId){e.next=22;break}return e.prev=12,e.next=15,i.get({id:m.form._formAdministrator.employeeId,fields:"firstName,lastName"},null,!1);case 15:t=e.sent,m.specificEmployeeHolder.push(t),e.next=22;break;case 19:e.prev=19,e.t1=e.catch(12),"404"===e.t1.data.errors.Id?o.warn("You will not be able to activate this form template until you choose another or change the form administrator type.","Form Administrator not found"):o.error("There was a problem retrieving the assigned form administrator. Please see the console.","Error");case 22:m.loading=!1;case 23:case"end":return e.stop()}},e,this,[[1,7],[12,19]])}))()}]},{key:"link",value:function(e,t,n){e.$watch("vm.form._formAdministrator.formAdministratorType",function(e,t){angular.element(document).ready(function(){if(e!==t&&3===e){document.getElementById("form-admin-employee-search").getElementsByTagName("input")[0].focus()}})})}}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderSettingsSettings",function(){return new l("settings")})},{"base-segment":37}],72:[function(e,t,n){"use strict";function r(e,t){var n=e.required();return{setupSaveInterrupter:function(e){e.$refresh().then(function(){e.$$resetChangesDetected(),e._steps.forEach(function(e){e.$$resetChangesDetected&&e.$$resetChangesDetected()}),e._formFields.forEach(function(e){e.$$resetChangesDetected&&e.$$resetChangesDetected()}),t.register(e)})},validator:{required:n,conditionalRequired:function(e,t,r){return!r||n(e,t)}}}}r.$inject=["ssValidationHlp","ssSaveInterrupterSvc"],angular.module("ec-forms-segment-logic").factory("segmentFormBuilderSettingsSettingsLogic",r)},{}],73:[function(e,t,n){"use strict";var r=e("base-state"),i={},s={url:"/settings",templateUrl:"routes/form-builder/settings/settings.html",resolve:{$title:["$title",function(e){return e+" (Settings)"}]},$permissions:function(e){return e.isPermittedAction("formTemplates","create")||e.isPermittedAction("formTemplates","edit")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.formBuilder.settings",new r.State(s,i))}])},{"base-state":38}],74:[function(e,t,n){"use strict";var r=e("base-state"),i={props:!1,formInstance:null,formTemplate:null,hasPDFOverlay:null,showPDFOverlay:null},s={url:"/form-instance/{formInstanceId:[0-9A-Za-z-]+}?from&returnUrl",templateUrl:"routes/form-instance/form-instance.html",resolve:{formInstanceCompletion:["$stateParams","$state","$sce","ssAsync","ssFormInstancesApi","ssFormTemplatesApi","ssToastHlp","enumStepAction","enumFormStatus",function(e,t,n,r,s,o,a,l,c){return r(regeneratorRuntime.mark(function r(){var p;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i.hasPDFOverlay=!1,i.showPDFOverlay=!1,r.next=5,s.get({id:e.formInstanceId,include:"steps"},null,!1);case 5:return i.formInstance=r.sent,r.next=8,o.get({id:i.formInstance._formTemplate.formTemplateId,include:"steps,formFields,files"});case 8:i.formTemplate=r.sent,i.hasPDFOverlay=i.formTemplate._printPreviewDefinition&&null!=i.formTemplate._printPreviewDefinition.templateFileId,!i.hasPDFOverlay||i.formInstance._statusId!==c.complete&&i.formInstance._statusId!==c.archived||(i.showPDFOverlay=!0,p=i.formInstance._steps.filter(function(e){return e._stepAction!==l.formCompleted}).map(function(e){return e._formFieldValues}).reduce(function(e,t){return e="string"==typeof e?JSON.parse(e):e,Object.assign(e,JSON.parse(t))}),s.generatePDFOverlay({formInstanceid:i.formInstance.id,formFieldValues:p,showSensitive:!1}).then(function(e){document.getElementById("form-overlay-frame").src=n.trustAsResourceUrl(e.data.data.attributes.string)}).catch(function(e){a.error("There was an error generating the PDF","")})),r.next=17;break;case 13:r.prev=13,r.t0=r.catch(0),403===r.t0.status?t.transitionTo("403"):a.error(r.t0.data.errors.Title,"There was a problem loading the form."),console.error("Error getting form data",r.t0);case 17:case"end":return r.stop()}},r,this,[[0,13]])}))()}],org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],$title:["formInstanceCompletion",function(e){return"Frontline Central - "+i.formInstance.name}]}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.formInstance",new r.State(s,i))}])},{"base-state":38}],75:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","$window","ssAsync","filenameHlp","ssFormTemplatesApi",function(e,t,n,r,i,s){var o=t.routeVm,a=(e.get("segmentInboxFormInstanceAttachmentsLogic"),t.vm={loading:!0});t.go={download:function(e){n.open(e,"_blank")}};r(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.formTemplate._files.map(function(e){return e._fileId}),e.prev=1,e.next=4,s.getFiles({},{ids:t});case 4:n=e.sent,a.files=n.map(function(e){var t=i.getExtension(e._filename);return e.icon=i.getIcon(t),e}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error getting file records",e.t0);case 11:return e.prev=11,a.loading=!1,e.finish(11);case 14:case"end":return e.stop()}},e,this,[[1,8,11,14]])}))()}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentFormInstanceAttachments",function(){return new l("attachments")})},{"base-segment":37}],76:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentFormInstanceAttachmentsLogic",r)},{}],77:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","$stateParams","$location","rAF","$anchorScroll","$timeout","$q","$filter","ssAsync","ssEventSvc","ssFormInstancesApi","ssEnum","ssActiveUserSvc","fieldRendererHlp","ssToastHlp","ssSaveInterrupterSvc","ssModalSvc","formsHlp",function(e,t,n,r,i,s,o,a,l,c,p,u,m,d,f,g,v,h,y){function b(){return n.returnUrl&&n.returnUrl.length?n.returnUrl:function(){var e=d.getEmployeeSync().id;return T.formInstance._steps.filter(function(e){return null!==e._stepParticipant}).map(function(e){return e._stepParticipant.employeeIds[0]}).includes(e)?"/ec-forms/inbox":"/ec-dashboard"}()}function _(e){c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:x.loading=!0,e._stepAction===m.stepAction.employeeProfileReview?(e.instance._employeeProfileReviewStepFieldValues.forEach(function(e){delete e.sourceField}),e.instance._employeeProfileReviewStepFieldValues=e.instance._employeeProfileReviewStepFieldValues.slice()):e.instance.$$forceChangedState("formFieldValues"),e.instance.$save().then(function(t){T.formInstance._statusId===m.formStatus.rejected?u.updateStatus({id:T.formInstance.id,newStatus:0}).then(function(){w(e)}):w(e)}).catch(function(e){x.loading=!1});case 3:case"end":return t.stop()}},t,this)}))()}function w(e){u.post({id:T.formInstance.id,event:x.submissionEvent,stepId:e.id}).then(function(){S().then(function(e){g.success("","form step "+k,!1)}).catch(function(){g.error("","form workflow timed out. Please refresh the page and try again",!1)}).finally(function(){r.url(b())})}).catch(function(e){})}function S(){function e(){if(++r===n)return void t.reject();c(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.get({id:T.formInstance.id});case 2:r=n.sent,r&&!1===r._inWorkflow?(t.resolve(r),x.loading=!1):o(e,500);case 4:case"end":return n.stop()}},n,this)}))()}var t=a.defer(),n=24,r=0;return e(),t.promise}var T=t.routeVm,P=e.get("segmentFormInstanceFormLogic"),O=t.stepValues={},x=t.vm={steps:[],selectedStep:null,loading:!1,submissionEvent:"",employeeProfileReview:m.stepAction.employeeProfileReview,formComplete:m.formStatus.complete,cachedSourceFields:{}},k="";t.go={selectFormObject:function(e,n){x.selectedStep=n,p.emit("form-instance.entry.step-clicked",n.id,!1),t.$emit("ss-validate-reset")},ignoreValidations:function(e,t){return x.steps.indexOf(e)>x.steps.indexOf(t)},submitForm:function(e){var t=x.steps.findIndex(function(e){return e.currentStep}),n=x.steps.findIndex(function(t){return t.id===e.id});if(n<=t)return void _(e);var r={secondaryText:"Cancel",alwaysOnTop:!0,size:"standard"};n+1===x.steps.length?(r.title="Are you sure you want to submit this form?",r.primaryText="Submit Form",r.content="You are about to submit a form with incomplete workflow steps."):(r.title="Are you sure you want to submit this step?",r.primaryText="Submit Step",r.content="There are incomplete workflow steps prior to this step. Are you sure you want to submit this step?"),h.showStandard(r).then(function(){_(e)})},submitStep:function(e){x.submissionEvent="submitStep",k="submitted",x.selectedStep=e},acknowledgeStep:function(e){x.submissionEvent="reviewForm",k="acknowledged",x.selectedStep=e},approveStep:function(e){x.submissionEvent="approveForm",k="approved",x.selectedStep=e},denyStep:function(e){x.submissionEvent="declineForm",k="denied",x.selectedStep=e},reviewProfile:function(e){x.submissionEvent="profileReviewed",k="submitted",x.selectedStep=e},profileValueDisplay:function(e,t){var n,r=t.fields.find(function(t){return t.id===e.formFieldId});if(r.externalSourceOptions&&r.externalSourceOptions.length>0){var i=r.externalSourceOptions.find(function(t){return t.value===e.profileValue});null!=i&&(n=i.name)}else n="super-input-datepicker"===r._fieldType?l("date")(e.profileValue,"MM/dd/yyyy"):"super-input-checkbox"===r._fieldType?!0===e.profileValue?"Yes":"No":e.profileValue;return n}};!function(){x.loading=!0,y.sortByOrderField(T.formTemplate._steps,T.formTemplate._stepOrder),T.formTemplate._steps.forEach(function(e,n,r){e.instance=T.formInstance._steps.find(function(t){return t._formTemplateStepId===e.id}),null!=e.instance&&e._stepAction!==m.stepAction.formCompleted&&(O[e.instance.id]=e.instance,f.bindConfigObject(t,"stepValues['"+e.instance.id+"']._formFieldValues","stepValues['"+e.instance.id+"'].formFieldValues"),"string"==typeof e.instance._formFieldValues&&0!==e.instance._formFieldValues.length||(e.instance._formFieldValues="{}"),null==e.instance._lastModifiedDtUtc&&e.instance.$$forceChangedState("formFieldValues"),T.formInstance._currentStepId===e.id&&(x.selectedStep=e,x.selectedStep.currentStep=!0,i(function(){p.emit("form-instance.entry.step-clicked",e.id)},!1)),T.formTemplate._formFields.length&&(e.fields=T.formTemplate._formFields.filter(function(t){return t._step.id===e.id}),y.sortByOrderField(e.fields,e._fieldOrder),e=P.processStep({tStep:e,formInstance:T.formInstance}),e._stepAction===m.stepAction.employeeProfileReview&&e.instance._employeeProfileReviewStepFieldValues.forEach(function(e,r){var i=T.formTemplate._steps.find(function(t){return t.id===e.sourceStepId}).fields.find(function(t){return t.id===e.sourceFormFieldId});e.sourceField=Object.assign({},i),x.cachedSourceFields[r]=i,t.$watch("vm.cachedSourceFields["+r+"].overrideVisibility",function(t,n){null!=t&&t!=n&&(e.sourceField.overrideVisibility=t)}),t.$watch("routeVm.formTemplate._steps["+n+"]\n\t\t\t\t\t\t\t\t\t.instance._employeeProfileReviewStepFieldValues["+r+"]\n\t\t\t\t\t\t\t\t\t.sourceField.step.formFieldValues['"+e.sourceFormFieldId+"']",function(t,n){null!=t&&t!=n&&(e.formFieldValue=t)})}),x.steps.push(e)))}),T.formInstance.$$resetChangesDetected(),T.formInstance._steps.forEach(function(e){e.$$resetChangesDetected&&e.$$resetChangesDetected()}),v.register(T.formInstance._steps),x.loading=!1}(),p.on("form-instance.entry.step-clicked",function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=x.steps.find(function(t){return t.id===e}),r=x.steps.findIndex(function(t){return t.id===e});if(null==n)return void(x.selectedStep=0);x.selectedStep=n,t&&s("fb-step-"+r)},t)}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentFormInstanceForm",function(){return new l("form")})},{"base-segment":37}],78:[function(e,t,n){"use strict";function r(e,t,n,r,i,s,o,a){function l(e){var t=e.tStep,r=e.formInstance,i=Object.assign({},t);d=r._statusId===n.complete;var s=i.instance._meta.permissions.permittedActions.edit;return i.editMode=!0,i.disabled=!1,s||(i.editMode=!1,i.disabled=!0),d&&(i.editMode=!1,i.disabled=!1),i.instance.editMode=i.editMode,i.instance.disabled=i.disabled,i=c({tStep:i}),p(i),i.fieldGroups=u(i),i}function c(e){var t=e.tStep,n=!1,r=!1,s=!1,o=!1;return!t.currentStep&&t.disabled||d||(n=t._stepAction===i.formEntry,r=t._stepAction===i.reviewForm,s=t._stepAction===i.reviewApproveOrDeny,o=t._stepAction===i.employeeProfileReview),Object.assign({},t,{showFormEntry:n,showReviewForm:r,showReviewApproveOrDeny:s,showEmployeeProfileReview:o})}function p(e){e.fields.filter(function(e){return null!=e._fieldDefId}).forEach(function(n){if(n.editMode=e.editMode,n.disabled=e.disabled,a.updateFieldAttributes(n),"super-select-list"===n._fieldType||n._fieldTypeOptions&&"readOnlyText"===n._fieldTypeOptions.view){var r=JSON.parse(n._configJson);null!=r.externalSource&&null!=t[r.externalSource]&&(n.externalSourceOptions=t[r.externalSource].enums)}else if("super-digital-signature"===n._fieldType){n.onBehalf=!1;try{n.onBehalf=!(n.step._stepParticipant&&(n.step._stepParticipant.employeeIds[0]===activeUser.id||activeUser.idmAdministrator))}catch(e){}}n._sensitive&&(d||(n.editMode=e.instance._meta.permissions.permittedActions.editSensitive),n.sensitiveRedacted=!e.instance._meta.permissions.permittedActions.viewSensitive),["951626b1-a422-46b4-9fa1-3b5acf7ee8fc","977a2273-62c1-4eef-8d63-91f9d8d1e0bf","10a88a23-f8f3-48eb-aa48-c466db06378b","17ff0b2c-4973-4181-92ce-b1c50c851165","c2e31de2-09e8-4563-acb1-0e190a8e3b11","5299a28c-56d5-4dc3-81ae-6f9f741eb324","e215f04f-037a-479e-b5da-9bb3155b55d5","9eabf24b-ae80-4488-a164-2a6f78a50cbd","b6390770-0590-418c-b516-2080b243e9b7","2056c221-97c8-4994-962c-f4bfc319a9e4"].includes(n._fieldDefId)&&(n._fieldGroup=void 0)})}function u(e){var t=[];return e.fields.forEach(function(n){if(n.step=e.instance,0===t.length)return void t.push([n]);var r=t[t.length-1];null!=n._fieldGroup&&r[0]._fieldGroup===n._fieldGroup?r.push(n):t.push([n])}),t}function m(e,t){if(null===e||""===e)return"";var n=t.find(function(t){return t.id===e}),r="";return null!=n&&(r=n._name),r}var d=!1;return{processStep:l,mapName:m}}r.$inject=["$filter","ssEnum","enumFormStatus","enumPayRateFrequency","enumStepAction","ssEmployeeAssignmentHlp","ssJobTypeHlp","fieldsHlp"],angular.module("ec-forms-segment-logic").factory("segmentFormInstanceFormLogic",r)},{}],79:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","$state","$stateParams","$sce","$location","$window","ssActiveUserSvc","ssAsync","ssDateByOrgHlp","ssFormInstancesApi","ssToastHlp","ssDateHlp","ssEnum","ssModalSvc",function(e,t,n,r,i,s,o,a,l,c,p,u,m,d,f){function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.showSensitive,n=void 0!==t&&t;h.isLoading=!0,h.loadingStatus="generating PDF...";var r=h.formInstance._steps.filter(function(e){return e._stepAction!==d.stepAction.formCompleted}).map(function(e){return e._formFieldValues}).reduce(function(e,t){return e="string"==typeof e?JSON.parse(e):e,Object.assign(e,JSON.parse(t))});return p.generatePDFOverlay({formInstanceid:h.formInstance.id,formFieldValues:r,showSensitive:n})}function v(){return r.returnUrl&&r.returnUrl.length?r.returnUrl:function(){var e=a.getEmployeeSync().id;return h.formInstance._steps.filter(function(e){return null!==e._stepParticipant}).map(function(e){return e._stepParticipant.employeeIds[0]}).includes(e)?"/ec-forms/inbox":"/ec-dashboard"}()}var h=t.routeVm,y=(e.get("segmentFormInstanceHeaderLogic"),null),b=!1,_=t.vm={hasSensitiveFields:!1,fromView:n.params.from||"",firstSave:h.formTemplate._isEmployeeInitiated&&m.isForeverPast(h.formInstance._changedUtc),formIsComplete:h.formInstance._statusId===d.formStatus.complete||h.formInstance._statusId===d.formStatus.archived,deleting:!1};t.go={toggleFormView:function(e){e?(h.isLoading=!0,h.loadingStatus="generating PDF...",g({showSensitive:b}).then(function(e){document.getElementById("form-overlay-frame").src=i.trustAsResourceUrl(e.data.data.attributes.string),h.showPDFOverlay=!0,h.isLoading=!1,h.loadingStatus=""}).catch(function(e){h.isLoading=!1,h.loadingStatus="",u("There was an error generating the PDF","")})):h.showPDFOverlay=!1},toggleSensitiveFields:function(e){y.forEach(function(t){t.overrideVisibility=!e}),b=e,h.hasPDFOverlay&&h.showPDFOverlay&&(h.isLoading=!0,h.loadingStatus="generating PDF...",g({showSensitive:e}).then(function(e){document.getElementById("form-overlay-frame").src=i.trustAsResourceUrl(e.data.data.attributes.string),h.isLoading=!1,h.loadingStatus=""}).catch(function(e){h.isLoading=!1,h.loadingStatus="",u("There was an error generating the PDF","")}))},save:function(){l(regeneratorRuntime.mark(function e(){var t,n,r,i,s,o,a,l,c,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.isLoading=!0,h.loadingStatus="saving progress...",t=[],e.prev=3,n=h.formInstance._steps.find(function(e){return e._stepAction===d.stepAction.employeeProfileReview}),n&&(t=n._employeeProfileReviewStepFieldValues.map(function(e){return{sourceFormFieldId:e.sourceFormFieldId,sourceField:e.sourceField}}),n._employeeProfileReviewStepFieldValues=n._employeeProfileReviewStepFieldValues.slice()),e.next=8,h.formInstance.$save(!1,!0,!1);case 8:r=!0,i=!1,s=void 0,e.prev=11,o=h.formInstance._steps[Symbol.iterator]();case 13:if(r=(a=o.next()).done){e.next=24;break}if(l=a.value,!l.disabled){e.next=17;break}return e.abrupt("continue",21);case 17:return e.next=19,l.$save();case 19:c=e.sent,c._stepAction===d.stepAction.employeeProfileReview&&(c._employeeProfileReviewStepFieldValues=c._employeeProfileReviewStepFieldValues.map(function(e){var n=t.find(function(t){return t.sourceFormFieldId===e.sourceFormFieldId});return e.sourceField=n.sourceField,e}));case 21:r=!0,e.next=13;break;case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(11),i=!0,s=e.t0;case 30:e.prev=30,e.prev=31,!r&&o.return&&o.return();case 33:if(e.prev=33,!i){e.next=36;break}throw s;case 36:return e.finish(33);case 37:return e.finish(30);case 38:h.isLoading=!1,h.loadingStatus="",u.success("","Progress Saved",!1),_.firstSave&&(_.firstSave=!1,p={title:"Progress has been saved. The form will appear in My Forms until submitted.",primaryText:"Continue",alwaysOnTop:!0,showSecondary:!1},f.showStandard(p)),e.next=49;break;case 44:e.prev=44,e.t1=e.catch(3),h.isLoading=!1,h.loadingStatus="",u.error("There was an error saving the form","Error",!1);case 49:case"end":return e.stop()}},e,this,[[3,44],[11,26,30,38],[31,,33,37]])}))()},close:function(){s.search("activeTab",null),s.url(v())},print:function(){rAF(function(){return o.print()},t)},showDelete:function(){var e=h.formInstance._currentStepId===h.formTemplate._stepOrder.split(",")[0];return h.formInstance._isEmployeeInitiated&&e},deleteForm:function(){_.deleting=!0;var e={title:"Delete Form",content:"Are you sure you want to delete this form? This form will be deleted and cannot be retrieved.",primaryText:"Delete",secondaryText:"Cancel"};f.showDestructive(e).then(function(){l(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.formInstance.$remove();case 3:u.success("",'"'+h.formTemplate._name+'" has been deleted'),t=r.from&&r.from.length?r.from:v(),s.url(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.error("",'Error deleting form "'+h.formTemplate._name+'"');case 11:return e.prev=11,_.deleting=!1,e.finish(11);case 14:case"end":return e.stop()}},e,this,[[0,8,11,14]])}))()}).catch(function(){_.deleting=!1})}};l(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=c.utcIsoToRelativeMoment(h.formInstance._createdUtc,h.org),h.formInstance.sentDate=t.calendar(null,{sameDay:"[Today at] LT",lastDay:"[Yesterday at] LT",lastWeek:"ddd [at] LT",sameElse:"L [at] LT"}),y=h.formTemplate._formFields.filter(function(e){return!0===e._sensitive}),y.length&&(y.forEach(function(e){e.overrideVisibility=!0}),b=!1),n=h.formInstance._steps.some(function(e){return!0===e._meta.permissions.permittedActions.viewSensitive}),_.hasSensitiveFields=!!y.length&&n;case 6:case"end":return e.stop()}},e,this)}))()}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentFormInstanceHeader",function(){return new l("header")})},{"base-segment":37}],80:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentFormInstanceHeaderLogic",r)},{}],81:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","ssEventSvc","ssEnum","enumStepAction","formsHlp",function(e,t,n,r,i,s){var o=t.routeVm,a=e.get("segmentInboxFormInstanceStepsLogic"),l=t.vm={steps:[],selectedStep:null,loading:!0,employeeProfileReview:r.stepAction.employeeProfileReview};t.go={selectStep:function(e,t){l.selectedStep=t,n.emit("form-instance.entry.step-clicked",t.id)}};n.on("form-instance.entry.step-clicked",function(e){var t=l.steps.find(function(t){return t.id===e});l.selectedStep=t},t),l.steps=angular.copy(o.formTemplate._steps).filter(function(e){return e._stepAction!==i.formCompleted});try{s.sortByOrderField(l.steps,o.formTemplate._stepOrder);var c=a.buildParticipantList(o.formInstance._steps);l.steps.forEach(function(e){e.instance=o.formInstance._steps.find(function(t){return t._formTemplateStepId===e.id}),e.participantPermission=a.getPermissionLabel(e),e.stepActionName=i.byValue(e._stepAction),null!=e.instance&&(e.otherParticipants=c.reduce(function(t,n){if(n.templateStepId===e.id)return t;var r=e._permissions.find(function(e){return a.matchByParticipants(e,n)});return r&&r.canView?(t.push({name:n.participantName,permissions:"view"+(r.canEdit?" & edit":"")}),t):t},[]))})}catch(e){}finally{l.loading=!1}}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentFormInstanceStepsSummary",function(){return new l("steps-summary")})},{"base-segment":37}],82:[function(e,t,n){"use strict";function r(){function e(e){var t=[];return e.forEach(function(e){if(e._stepParticipant){var n=angular.isArray(e._stepParticipant.employeeIds)&&e._stepParticipant.employeeIds.length?e._stepParticipant.employeeIds[0]:"";t.find(function(t){return t.templateStepId===e._formTemplateStepId})||t.push({templateStepId:e._formTemplateStepId,participantName:e._stepParticipant.name,participantType:e._stepParticipant.participantType,employeeId:n})}}),t}function t(e){var t=e._permissions.find(function(t){return n(t,e)});return t?(t.canView?"view":"")+(t.canEdit?" & edit":""):""}function n(e,t){var n=t._stepParticipant?t._stepParticipant.employeeIds[0]:t.employeeId,r=t._stepParticipant?t._stepParticipant.participantType:t.participantType;return e.participantType===ssEnum.stepParticipantType.specificPerson?e.employeeId===n:e.participantType===r}return{buildParticipantList:e,getPermissionLabel:t,matchByParticipants:n}}angular.module("ec-forms-segment-logic").factory("segmentFormInstanceStepsSummaryLogic",r)},{}],83:[function(e,t,n){"use strict"
;var r=e("base-state"),i={},s={url:"/form-templates",templateUrl:"routes/form-templates/form-templates.html",resolve:{org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],$title:function(){return"Frontline Central - Form Templates"}},$permissions:function(e){return e.isPermittedAction("formTemplates","create")||e.isPermittedAction("formTemplates","edit")||e.isPermittedAction("formTemplates","send")||e.isPermittedAction("formTemplates","archive")||e.isPermittedAction("packets","create")||e.isPermittedAction("packets","edit")||e.isPermittedAction("packets","send")||e.isPermittedAction("packets","archive")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.formTemplates",new r.State(s,i))}])},{"base-state":38}],84:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-segment"),c=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$scope","$filter","$location","$state","rAF","ssAsync","ssDateByOrgHlp","ssFormLibraryApi","ssPacketsApi","ssFormTemplatesApi","ssStatusApi","ssListSvc","ssModalSvc","ssEnum","enumFormTemplateStatus",function(e,t,n,i,s,o,a,l,c,p,u,m,d,f,g,v){function h(){T=0,O=0,k.displayTemplates=[],y()}function y(){return k.loading=!0,k.loadingMessage="Loading Form Templates",null!=x&&x.$abort(),x=a(regeneratorRuntime.mark(function e(){var n,i,s,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n={},k.categories){e.next=6;break}return e.next=5,d.getByExternalId("form.categories");case 5:k.categories=e.sent;case 6:return T=A.sorting?T:T+1,i=(T-1)*P,O=A.sorting?O:O+P,n.offset=A.sorting?0:i,n.limit=A.sorting?O:P,n=Object.assign(n,w(A.sortBy)),null!=A.selectedStatus&&"All"!=A.selectedStatus&&(n=Object.assign(n,S("status",A.selectedStatus))),null!=A.selectedCategory&&"All"!=A.selectedCategory&&(n=Object.assign(n,S("category",A.selectedCategory))),null!=A.search&&A.search.length>0&&(n=Object.assign(n,S("name",A.search))),e.next=17,c.queryTemplateObjects(n);case 17:s=e.sent,t.count=parseInt(s.$headers["total-results"],10),a=b(s),k.displayTemplates=A.sorting?[].concat(r(a)):[].concat(r(k.displayTemplates),r(a)),A.showInfScroll=O<t.count,e.next=28;break;case 24:e.prev=24,e.t0=e.catch(0),A.showInfScroll=!1,error("Error getting data",e.t0);case 28:return e.prev=28,k.loading=!1,A.sorting=!1,A.scrolling=!1,x=null,e.finish(28);case 34:o(function(){k.loading=!1,t.$emit("template-objects.data-loaded")},t);case 35:case"end":return e.stop()}},e,this,[[0,24,28,34]])}))()}function b(e){return e.forEach(function(e){e.isForm=null!=e._templateId,e.isPacket=null==e._templateId,e.searchText=""+e._name,e.isPacket&&(e.detailsOpen=!1,a(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.get({id:e.id});case 2:n=t.sent,e.packetCount=n._formTemplateIds.length;case 4:case"end":return t.stop()}},t,this)}))()),k.extendCommonProps(e)}),e}function _(e){var t,n="";return null==e?"":(t=k.categories.filter(function(t){return t.value===e}),t.length>0&&(n=t[0].description),n)}function w(e){var t={};return t["sort["+e.field+"]"]=e.dir,t}function S(e,t){var n={};return n["filter["+e+"]"]=t,n}var T=0,P=50,O=0,x=null,k=t.routeVm,A=(e.get("segmentFormTemplatesContentLogic"),k.vm=t.vm={showInfScroll:!0,sorting:!1,sortCriteria:[{label:"Recently Modified",value:{field:"changedutc",dir:"desc"}},{label:"Template Name A-Z",value:{field:"name",dir:"asc"}}],statuses:v.getEnums().filter(function(e){return 2!==e.value}).reverse(),selectedStatus:"All",selectedCategory:"All",search:""});A.sortBy=A.sortCriteria[0].value,k.loading=!1,k.displayTemplates=[],k.loadFormTemplates=y,t.$watch("vm.sortBy",function(e,t){e!==t&&null!=k.displayTemplates&&0!==k.displayTemplates.length&&(A.sortBy=e,A.sorting=!0,y())}),t.$watchGroup(["vm.search","vm.selectedCategory","vm.selectedStatus"],function(e,t){e!==t&&h()}),t.scrollData=function(){A.showInfScroll&&!k.loading&&(A.scrolling=!0,y())},k.extendCommonProps=function(e){var t=l.utcIsoToRelativeMoment(e._modifiedDt,k.org);e.modifiedText=t.calendar(null,{sameDay:"[Today @] LT",lastDay:"[Yesterday @] LT",lastWeek:"ddd [@] LT",sameElse:"L [@] LT"}),e._category&&(e._category.name=_(e._category.id)),e._steps.length&&(e._steps=e._steps.filter(function(e){return 3!==e._stepAction}),e._steps.forEach(function(e){e.participantLabel=null==e._stepParticipant.participantType?"undefined":g.stepParticipantType.byValue(e._stepParticipant.participantType),e.stepActionLabel=null==e._stepAction?"undefined":g.stepAction.byValue(e._stepAction)}))},y()}]}]),t}(l.Segment);angular.module("ec-forms-segments").directive("segmentFormTemplatesContent",function(){return new c("content")})},{"base-segment":37}],85:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentFormTemplatesContentLogic",r)},{}],86:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","$location","ssAsync","ssValidationHlp","ssFormTemplatesApi","ssPacketsApi","ssToastHlp","enumFormAdministratorType",function(e,t,n,r,i,s,o,a,l){t.routeVm,e.get("segmentFormTemplatesHeaderLogic"),t.validator={required:i.required()};t.formAdminEnums=l;var c,p=t.vm={openMenu:!1,invalidConfig:!0,specificAdminNotRequired:!0,form:{instanceType:null,instanceTitle:null,isEmployeeInitiated:!1,category:{id:null},formAdministrator:{employeeId:null,formAdministratorType:null}},specificAdmin:[],isCreating:!1,formAdminTypes:t.formAdminEnums.getEnums()},u=t.go={create:function(){if(!p.isCreating){p.isCreating=!0;var e="form"===p.form.instanceType?s:o;r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.add({},{_name:p.form.instanceTitle,_isEmployeeInitiated:p.form.isEmployeeInitiated,_category:p.form.category,_formAdministrator:p.form.formAdministrator});case 3:p.template=t.sent,n.path("/ec-formbuilder/"+p.form.instanceType+"/"+p.template.id+"/builder"),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),a.error("","Error creating "+p.form.instanceType),console.error("Error creating "+p.form.instanceType,t.t0);case 11:return t.prev=11,p.isCreating=!1,t.finish(11);case 14:case"end":return t.stop()}},t,this,[[0,7,11,14]])}))()}},toggleMenu:function(){!0!==p.openMenu&&(p.openMenu=!p.openMenu,u.reset())},reset:function(){p.form.instanceType=null,p.form.instanceTitle=null,p.form.isEmployeeInitiated=!1,p.form.formAdministrator.employeeId=null,p.form.formAdministrator.formAdministratorType=null,p.form.category.id=null,p.specificAdmin=[]},cancel:function(){p.openMenu=!1,u.reset()}},m=["vm.form.category.id","vm.form.instanceTitle","vm.specificAdminNotRequired","vm.form.formAdministrator.formAdministratorType"];t.$on("destroy",t.$watch("vm.form.instanceType",function(e,n){if(e&&e!==n){var r=void 0;p.altLabel="form"===e?"template":"",c&&c(),r="form"!==e?m.slice().filter(function(e){return"vm.form.formAdministrator.formAdministratorType"!==e}):m,c=t.$watchGroup(r,function(e,t){p.invalidConfig=e.some(function(e){return"number"!=typeof e&&!e||"number"==typeof e&&e<0})})}})),t.$on("destroy",c),t.$on("$destroy",t.$watch("vm.form.isEmployeeInitiated",function(e,n){e?(1===p.form.formAdministrator.formAdministratorType&&(p.form.formAdministrator.formAdministratorType=null),p.formAdminTypes=p.formAdminTypes.filter(function(e){return 1!==e.value})):p.formAdminTypes=t.formAdminEnums.getEnums()}))}]},{key:"link",value:function(e,t,n){var r;e.$on("$destroy",e.$watch("vm.form.formAdministrator.formAdministratorType",function(t,n){e.vm.specificAdmin=[],t===e.formAdminEnums.specificPerson?(e.vm.specificAdminNotRequired=!1,r=e.$watch("vm.specificAdmin",function(t,n){t.length?(e.vm.specificAdminNotRequired=!0,e.vm.form.formAdministrator.employeeId=t[0].id):e.vm.specificAdminNotRequired=!1})):(e.vm.specificAdminNotRequired=!0,"function"==typeof r&&r())}))}}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentFormTemplatesHeader",function(){return new l("header")})},{"base-segment":37}],87:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentFormTemplatesHeaderLogic",r)},{}],88:[function(e,t,n){"use strict";var r=e("base-state"),i={},s={url:"/form-tracking",templateUrl:"routes/form-tracking/form-tracking.html",resolve:{form:function(){},org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],$title:function(){return"Frontline Central - Track Forms"}}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.formTracking",new r.State(s,i))}])},{"base-state":38}],89:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","$filter","$location","ssAsync","ssEnum","moment","ssFormInstancesApi","ssActiveUserSvc","ssDateByOrgHlp",function(e,t,n,r,i,s,o,a,l,c){var p=t.routeVm;p.getFormsPromise=null,p.getFormCountsPromise=null;var u=(e.get("segmentFormTrackingContentLogic"),t.vm={}),m=r.search().resolvemethod;"ReadModel"!==m&&"Mongo"!==m||(u.resolveMethod=m);t.go={urgent:function(){return{api:a.queryByOrg,config:{include:"steps","filter[dueDateUtc]":c.safeNowRelativeTo(p.org).add(4,"days").toISOString(),"filter[status]":s.formStatus.incomplete+","+s.formStatus.rejected,from:p.dateSent.from.toISOString(),to:p.dateSent.to.toISOString(),limit:50,resolvemethod:u.resolveMethod}}},denied:function(){return{api:a.queryByOrg,config:{include:"steps","filter[status]":s.formStatus.rejected,from:p.dateSent.from.toISOString(),to:p.dateSent.to.toISOString(),limit:50,resolvemethod:u.resolveMethod}}},notStarted:function(){return{api:a.queryNotStarted,config:{include:"steps",from:p.dateSent.from.toISOString(),to:p.dateSent.to.toISOString(),limit:50,resolvemethod:u.resolveMethod}}},inProgress:function(){return{api:a.queryInProgress,config:{include:"steps",from:p.dateSent.from.toISOString(),to:p.dateSent.to.toISOString(),limit:50,resolvemethod:u.resolveMethod}}},complete:function(){return{api:a.queryByOrg,config:{include:"steps","filter[status]":s.formStatus.complete,from:p.dateSent.from.toISOString(),to:p.dateSent.to.toISOString(),limit:50,resolvemethod:u.resolveMethod}}}};i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.getIdentityByTypeSync("employee");case 3:u.emplId=e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}},e,this,[[0,6]])}))()}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentFormTrackingContent",function(){return new l("content")})},{"base-segment":37}],90:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentFormTrackingContentLogic",r)},{}],91:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","ssAsync","ssActiveUserSvc","ssLocationSvc","ssToastHlp","ssFormInstancesApi",function(e,t,n,r,i,s,o){function a(){var e=moment();return[c.lastXDays(e,7),c.lastXDays(e,14),c.lastXDays(e,60),c.yearToDate(e),c.previousSchoolYear(e),c.currentSchoolYear(e)]}var l=t.routeVm,c=e.get("segmentFormTrackingHeaderLogic");l.selectedCategory="urgent",l.sentByParticipant="0",l.sentToLocation="-1",l.sortBy="duedate",l.counts=[],l.dateSent=a()[1];var p=t.vm={sentByCriteria:[{value:"0",name:"All"},{value:"creatorId",name:"Form Sender - Myself"},{value:"formadministrator",name:"Form Admin - Myself"}],sortOptions:[{id:0,value:"duedate",name:"Due Date",categories:["urgent","denied","not-started","in-progress","complete"]},{id:1,value:"primaryrecipient",name:"Employee Name (A-Z)",categories:["urgent","denied","not-started","in-progress","complete"]},{id:2,value:"formname",name:"Form/Packet Name (A-Z)",categories:["urgent","denied","not-started","in-progress","complete"]},{id:3,value:"recentlysent",name:"Recently Sent",categories:["urgent","denied","not-started","in-progress"]},{id:4,value:"completionpercent",name:"Workflow Progress",categories:["urgent","denied","in-progress"]}],locations:[],dateSentOptions:a(),dateSentIdx:1};t.go={filter:function(e){l.selectedCategory=e}};p.locations=i.getAll(),p.locations.splice(0,0,{_name:"Anywhere",id:"-1"}),t.$watch("routeVm.selectedCategory",function(e,t){if(e!==t){var n=p.sortOptions.findIndex(function(e){return e.value===l.sortBy});p.sortOptions[n].categories.includes(l.selectedCategory)||(l.sortBy="duedate")}}),t.$watchGroup(["routeVm.getFormsPromise","routeVm.getFormCountsPromise"],function(e,t){var n=e;p.disableFilters=n.some(function(e){return null!=e})}),t.$watch("vm.dateSentIdx",function(e,t){e!==t&&(l.dateSent=p.dateSentOptions[e])})}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentFormTrackingHeader",function(){return new l("header")})},{"base-segment":37}],92:[function(e,t,n){"use strict";function r(){return{lastXDays:function(e,t){return{from:e.clone().subtract(t,"days"),to:e.clone(),title:"Last "+t+" Days"}},currentSchoolYear:function(e){var t,n;if(e.clone().month()>6){var r=e.clone().utc().add(1,"years");t=e.clone().year()+"-08-01T00:00:00.000Z",n=r.format("YYYY")+"-07-31T23:59:59.999Z"}else{t=e.clone().utc().subtract(1,"years").format("YYYY")+"-08-01T00:00:00.000Z",n=e.clone().year()+"-07-31T23:59:59.999Z"}return{from:moment(t,moment.ISO_8601).utc(),to:moment(n,moment.ISO_8601).utc(),title:moment(t,moment.ISO_8601).utc().format("MMM YYYY")+" – "+moment(n,moment.ISO_8601).utc().format("MMM YYYY")}},previousSchoolYear:function(e){var t=this.currentSchoolYear(e),n=t.from.subtract(1,"years"),r=t.to.subtract(1,"years");return{from:n,to:r,title:n.format("MMM YYYY")+" – "+r.format("MMM YYYY")}},yearToDate:function(e){return{from:e.clone().startOf("year"),to:e.clone(),title:"Jan 1 - Today"}}}}angular.module("ec-forms-segment-logic").factory("segmentFormTrackingHeaderLogic",r)},{}],93:[function(e,t,n){"use strict";var r=e("base-state"),i={props:!1,formInstance:null,formTemplate:null,hasPDFOverlay:null,showPDFOverlay:null},s={url:"/inbox/{formInstanceId:[0-9A-Za-z-]+}?from&returnUrl",templateUrl:"routes/inbox/form-instance/form-instance.html",resolve:{formInstanceCompletion:["$stateParams","$state","$sce","ssAsync","ssFormInstancesApi","ssFormTemplatesApi","ssToastHlp","enumStepAction","enumFormStatus",function(e,t,n,r,s,o,a,l,c){return r(regeneratorRuntime.mark(function r(){var p;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i.hasPDFOverlay=!1,i.showPDFOverlay=!1,r.next=5,s.get({id:e.formInstanceId,include:"steps"},null,!1);case 5:return i.formInstance=r.sent,r.next=8,o.get({id:i.formInstance._formTemplate.formTemplateId,include:"steps,formFields,files"});case 8:i.formTemplate=r.sent,i.hasPDFOverlay=i.formTemplate._printPreviewDefinition&&null!=i.formTemplate._printPreviewDefinition.templateFileId,!i.hasPDFOverlay||i.formInstance._statusId!==c.complete&&i.formInstance._statusId!==c.archived||(i.showPDFOverlay=!0,p=i.formInstance._steps.filter(function(e){return e._stepAction!==l.formCompleted}).map(function(e){return e._formFieldValues}).reduce(function(e,t){return e="string"==typeof e?JSON.parse(e):e,Object.assign(e,JSON.parse(t))}),s.generatePDFOverlay({formInstanceid:i.formInstance.id,formFieldValues:p,showSensitive:!1}).then(function(e){document.getElementById("form-overlay-frame").src=n.trustAsResourceUrl(e.data.data.attributes.string)}).catch(function(e){a.error("There was an error generating the PDF","")})),r.next=17;break;case 13:r.prev=13,r.t0=r.catch(0),403===r.t0.status?t.transitionTo("403"):a.error(r.t0.data.errors.Title,"There was a problem loading the form."),console.error("Error getting form data",r.t0);case 17:case"end":return r.stop()}},r,this,[[0,13]])}))()}],org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],$title:["formInstanceCompletion",function(e){return"Frontline Central - "+i.formInstance.name}]}};angular.module("ec-forms").config(["$stateProvider",function(e){sidekick.events.on("feature-flags-ready",function(t){t.checkState("fc-enable-merged-forms-modules")&&(s.redirectToState="base.formInstance"),e.state("base.inboxFormInstance",new r.State(s,i))},{greedy:!0})}])},{"base-state":38}],94:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","$window","ssAsync","filenameHlp","ssFormTemplatesApi",function(e,t,n,r,i,s){var o=t.routeVm,a=(e.get("segmentInboxFormInstanceAttachmentsLogic"),t.vm={loading:!0});t.go={download:function(e){n.open(e,"_blank")}};r(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.formTemplate._files.map(function(e){return e._fileId}),e.prev=1,e.next=4,s.getFiles({},{ids:t});case 4:n=e.sent,a.files=n.map(function(e){var t=i.getExtension(e._filename);return e.icon=i.getIcon(t),e}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error getting file records",e.t0);case 11:return e.prev=11,a.loading=!1,e.finish(11);case 14:case"end":return e.stop()}},e,this,[[1,8,11,14]])}))()}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentInboxFormInstanceAttachments",function(){return new l("attachments")})},{"base-segment":37}],95:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentInboxFormInstanceAttachmentsLogic",r)},{}],96:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","$state","$stateParams","$window","$location","rAF","ssAsync","ssToastHlp","ssModalSvc","ssDateHlp","enumFormStatus","ssEnum","ssActiveUserSvc","$q",function(e,t,n,r,i,s,o,a,l,c,p,u,m,d,f){function g(){return r.returnUrl&&r.returnUrl.length?r.returnUrl:function(){var e=d.getEmployeeSync().id;return v.formInstance._steps.filter(function(e){return null!==e._stepParticipant}).map(function(e){return e._stepParticipant.employeeIds[0]}).includes(e)?"/ec-forms/inbox":"/ec-dashboard"}()}var v=t.routeVm,h=(e.get("segmentInboxFormInstanceCloseLogic"),t.vm={fromView:n.params.from||"",firstSave:v.formTemplate._isEmployeeInitiated&&p.isForeverPast(v.formInstance._changedUtc),formIsComplete:v.formInstance._statusId===u.complete||v.formInstance._statusId===u.archived,deleting:!1});t.go={save:function(){a(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.loading=!0,e.prev=1,e.delegateYield(regeneratorRuntime.mark(function e(){var n,r,i,s,o,a,p,u,d,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],r=v.formInstance._steps.find(function(e){return e._stepAction===m.stepAction.employeeProfileReview}),r&&(n=r._employeeProfileReviewStepFieldValues.map(function(e){return{sourceFormFieldId:e.sourceFormFieldId,sourceField:e.sourceField}}),r._employeeProfileReviewStepFieldValues=r._employeeProfileReviewStepFieldValues.slice()),e.next=5,v.formInstance.$save(!1,!0,!1);case 5:i=!0,s=!1,o=void 0,e.prev=8,a=v.formInstance._steps[Symbol.iterator]();case 10:if(i=(p=a.next()).done){e.next=21;break}if(u=p.value,!u.disabled){e.next=14;break}return e.abrupt("continue",18);case 14:return e.next=16,u.$save(!0,!0,!1);case 16:d=e.sent,d._stepAction===m.stepAction.employeeProfileReview&&(d._employeeProfileReviewStepFieldValues=d._employeeProfileReviewStepFieldValues.map(function(e){var t=n.find(function(t){return t.sourceFormFieldId===e.sourceFormFieldId});return e.sourceField=t.sourceField,e}));case 18:i=!0,e.next=10;break;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(8),s=!0,o=e.t0;case 27:e.prev=27,e.prev=28,!i&&a.return&&a.return();case 30:if(e.prev=30,!s){e.next=33;break}throw o;case 33:return e.finish(30);case 34:return e.finish(27);case 35:h.loading=!1,l.success("","Progress Saved",!1),h.firstSave&&(h.firstSave=!1,f={title:"Progress has been saved. The form will appear in My Forms until submitted.",primaryText:"Continue",alwaysOnTop:!0,showSecondary:!1},c.showStandard(f));case 38:case"end":return e.stop()}},e,t,[[8,23,27,35],[28,,30,34]])})(),"t0",3);case 3:e.next=9;break;case 5:e.prev=5,e.t1=e.catch(1),h.loading=!1,l.error("There was an error saving the form","Error",!1);case 9:case"end":return e.stop()}},e,this,[[1,5]])}))()},close:function(){s.search("activeTab",null),s.url(g())},print:function(){o(function(){return i.print()},t)},showDelete:function(){var e=v.formInstance._currentStepId===v.formTemplate._stepOrder.split(",")[0];return v.formInstance._isEmployeeInitiated&&e},deleteForm:function(){h.deleting=!0;var e={title:"Delete Form",content:"Are you sure you want to delete this form? This form will be deleted and cannot be retrieved.",primaryText:"Delete",secondaryText:"Cancel"};c.showDestructive(e).then(function(){a(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.formInstance.$remove();case 3:l.success("",'"'+v.formTemplate._name+'" has been deleted'),t=r.from&&r.from.length?r.from:g(),s.url(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),l.error("",'Error deleting form "'+v.formTemplate._name+'"');case 11:return e.prev=11,h.deleting=!1,e.finish(11);case 14:case"end":return e.stop()}},e,this,[[0,8,11,14]])}))()}).catch(function(){h.deleting=!1})}}}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentInboxFormInstanceClose",function(){return new l("close")})},{"base-segment":37}],97:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentInboxFormInstanceCloseLogic",r)},{}],98:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","$stateParams","$location","rAF","$anchorScroll","$timeout","$q","$filter","ssAsync","ssEventSvc","ssFormInstancesApi","ssEnum","ssActiveUserSvc","fieldRendererHlp","ssToastHlp","ssSaveInterrupterSvc","ssModalSvc","formsHlp",function(e,t,n,r,i,s,o,a,l,c,p,u,m,d,f,g,v,h,y){function b(){return n.returnUrl&&n.returnUrl.length?n.returnUrl:function(){var e=d.getEmployeeSync().id;return T.formInstance._steps.filter(function(e){return null!==e._stepParticipant}).map(function(e){return e._stepParticipant.employeeIds[0]}).includes(e)?"/ec-forms/inbox":"/ec-dashboard"}()}function _(e){c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:x.loading=!0,e._stepAction===m.stepAction.employeeProfileReview?(e.instance._employeeProfileReviewStepFieldValues.forEach(function(e){delete e.sourceField}),e.instance._employeeProfileReviewStepFieldValues=e.instance._employeeProfileReviewStepFieldValues.slice()):e.instance.$$forceChangedState("formFieldValues"),e.instance.$save().then(function(t){T.formInstance._statusId===m.formStatus.rejected?u.updateStatus({id:T.formInstance.id,newStatus:0}).then(function(){w(e)}):w(e)}).catch(function(e){x.loading=!1});case 3:case"end":return t.stop()}},t,this)}))()}function w(e){u.post({id:T.formInstance.id,event:x.submissionEvent,stepId:e.id}).then(function(){S().then(function(e){g.success("","form step "+k,!1)}).catch(function(){g.error("","form workflow timed out. Please refresh the page and try again",!1)}).finally(function(){r.url(b())})}).catch(function(e){})}function S(){function e(){if(++r===n)return void t.reject();c(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.get({id:T.formInstance.id});case 2:r=n.sent,r&&!1===r._inWorkflow?(t.resolve(r),x.loading=!1):o(e,500);case 4:case"end":return n.stop()}},n,this)}))()}var t=a.defer(),n=24,r=0;return e(),t.promise}var T=t.routeVm,P=e.get("segmentInboxFormInstanceFormLogic"),O=t.stepValues={},x=t.vm={steps:[],selectedStep:null,loading:!1,submissionEvent:"",employeeProfileReview:m.stepAction.employeeProfileReview,formComplete:m.formStatus.complete,cachedSourceFields:{}},k=""
;t.go={selectFormObject:function(e,n){x.selectedStep=n,p.emit("form-instance.entry.step-clicked",n.id,!1),t.$emit("ss-validate-reset")},ignoreValidations:function(e,t){return x.steps.indexOf(e)>x.steps.indexOf(t)},submitForm:function(e){var t=x.steps.findIndex(function(e){return e.currentStep}),n=x.steps.findIndex(function(t){return t.id===e.id});if(n<=t)return void _(e);var r={secondaryText:"Cancel",alwaysOnTop:!0,size:"standard"};n+1===x.steps.length?(r.title="Are you sure you want to submit this form?",r.primaryText="Submit Form",r.content="You are about to submit a form with incomplete workflow steps."):(r.title="Are you sure you want to submit this step?",r.primaryText="Submit Step",r.content="There are incomplete workflow steps prior to this step. Are you sure you want to submit this step?"),h.showStandard(r).then(function(){_(e)})},submitStep:function(e){x.submissionEvent="submitStep",k="submitted",x.selectedStep=e},acknowledgeStep:function(e){x.submissionEvent="reviewForm",k="acknowledged",x.selectedStep=e},approveStep:function(e){x.submissionEvent="approveForm",k="approved",x.selectedStep=e},denyStep:function(e){x.submissionEvent="declineForm",k="denied",x.selectedStep=e},reviewProfile:function(e){x.submissionEvent="profileReviewed",k="submitted",x.selectedStep=e},profileValueDisplay:function(e,t){var n,r=t.fields.find(function(t){return t.id===e.formFieldId});if(r.externalSourceOptions&&r.externalSourceOptions.length>0){var i=r.externalSourceOptions.find(function(t){return t.value===e.profileValue});null!=i&&(n=i.name)}else n="super-input-datepicker"===r._fieldType?l("date")(e.profileValue,"MM/dd/yyyy"):"super-input-checkbox"===r._fieldType?!0===e.profileValue?"Yes":"No":e.profileValue;return n}};!function(){x.loading=!0,y.sortByOrderField(T.formTemplate._steps,T.formTemplate._stepOrder),T.formTemplate._steps.forEach(function(e,n,r){e.instance=T.formInstance._steps.find(function(t){return t._formTemplateStepId===e.id}),null!=e.instance&&e._stepAction!==m.stepAction.formCompleted&&(O[e.instance.id]=e.instance,f.bindConfigObject(t,"stepValues['"+e.instance.id+"']._formFieldValues","stepValues['"+e.instance.id+"'].formFieldValues"),"string"==typeof e.instance._formFieldValues&&0!==e.instance._formFieldValues.length||(e.instance._formFieldValues="{}"),null==e.instance._lastModifiedDtUtc&&e.instance.$$forceChangedState("formFieldValues"),T.formInstance._currentStepId===e.id&&(x.selectedStep=e,x.selectedStep.currentStep=!0,i(function(){p.emit("form-instance.entry.step-clicked",e.id)},!1)),T.formTemplate._formFields.length&&(e.fields=T.formTemplate._formFields.filter(function(t){return t._step.id===e.id}),y.sortByOrderField(e.fields,e._fieldOrder),e=P.processStep({tStep:e,formInstance:T.formInstance}),e._stepAction===m.stepAction.employeeProfileReview&&e.instance._employeeProfileReviewStepFieldValues.forEach(function(e,r){var i=T.formTemplate._steps.find(function(t){return t.id===e.sourceStepId}).fields.find(function(t){return t.id===e.sourceFormFieldId});e.sourceField=Object.assign({},i),x.cachedSourceFields[r]=i,t.$watch("vm.cachedSourceFields["+r+"].overrideVisibility",function(t,n){null!=t&&t!=n&&(e.sourceField.overrideVisibility=t)}),t.$watch("routeVm.formTemplate._steps["+n+"]\n\t\t\t\t\t\t\t\t\t.instance._employeeProfileReviewStepFieldValues["+r+"]\n\t\t\t\t\t\t\t\t\t.sourceField.step.formFieldValues['"+e.sourceFormFieldId+"']",function(t,n){null!=t&&t!=n&&(e.formFieldValue=t)})}),x.steps.push(e)))}),T.formInstance.$$resetChangesDetected(),T.formInstance._steps.forEach(function(e){e.$$resetChangesDetected&&e.$$resetChangesDetected()}),v.register(T.formInstance),x.loading=!1}(),p.on("form-instance.entry.step-clicked",function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=x.steps.find(function(t){return t.id===e}),r=x.steps.findIndex(function(t){return t.id===e});if(null==n)return void(x.selectedStep=0);x.selectedStep=n,t&&s("fb-step-"+r)},t)}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentInboxFormInstanceForm",function(){return new l("form")})},{"base-segment":37}],99:[function(e,t,n){"use strict";function r(e,t,n,r,i,s,o,a){function l(e){var t=e.tStep,r=e.formInstance,i=Object.assign({},t);f=r._statusId===n.complete;var s=i.instance._meta.permissions.permittedActions.edit;return i.editMode=!0,i.disabled=!1,s||(i.editMode=!1,i.disabled=!0),f&&(i.editMode=!1,i.disabled=!1),i.instance.editMode=i.editMode,i.instance.disabled=i.disabled,i=c({tStep:i}),p(i),i.fieldGroups=m(i),i}function c(e){var t=e.tStep,n=!1,r=!1,s=!1,o=!1;return!t.currentStep&&t.disabled||f||(n=t._stepAction===i.formEntry,r=t._stepAction===i.reviewForm,s=t._stepAction===i.reviewApproveOrDeny,o=t._stepAction===i.employeeProfileReview),Object.assign({},t,{showFormEntry:n,showReviewForm:r,showReviewApproveOrDeny:s,showEmployeeProfileReview:o})}function p(e){e.fields.filter(function(e){return null!=e._fieldDefId}).forEach(function(n){var r=a.getFieldById(n);if(null!=r&&u(n,r),n.editMode=e.editMode,n.disabled=e.disabled,"super-select-list"===n._fieldType||n._fieldTypeOptions&&"readOnlyText"===n._fieldTypeOptions.view){var i=JSON.parse(n._configJson);null!=i.externalSource&&null!=t[i.externalSource]&&(n.externalSourceOptions=t[i.externalSource].enums)}else if("super-digital-signature"===n._fieldType){n.onBehalf=!1;try{n.onBehalf=!(n.step._stepParticipant&&(n.step._stepParticipant.employeeIds[0]===activeUser.id||activeUser.idmAdministrator))}catch(e){}}n._sensitive&&(f||(n.editMode=e.instance._meta.permissions.permittedActions.editSensitive),n.sensitiveRedacted=!e.instance._meta.permissions.permittedActions.viewSensitive),["951626b1-a422-46b4-9fa1-3b5acf7ee8fc","977a2273-62c1-4eef-8d63-91f9d8d1e0bf","10a88a23-f8f3-48eb-aa48-c466db06378b","17ff0b2c-4973-4181-92ce-b1c50c851165","c2e31de2-09e8-4563-acb1-0e190a8e3b11","5299a28c-56d5-4dc3-81ae-6f9f741eb324","e215f04f-037a-479e-b5da-9bb3155b55d5","9eabf24b-ae80-4488-a164-2a6f78a50cbd","b6390770-0590-418c-b516-2080b243e9b7","2056c221-97c8-4994-962c-f4bfc319a9e4"].includes(n._fieldDefId)&&(n._fieldGroup=void 0)})}function u(e,t){Object.keys(t).forEach(function(n){Object.keys(e).includes(n)||(e[n]=t[n])})}function m(e){var t=[];return e.fields.forEach(function(n){if(n.step=e.instance,0===t.length)return void t.push([n]);var r=t[t.length-1];null!=n._fieldGroup&&r[0]._fieldGroup===n._fieldGroup?r.push(n):t.push([n])}),t}function d(e,t){if(null===e||""===e)return"";var n=t.find(function(t){return t.id===e}),r="";return null!=n&&(r=n._name),r}var f=!1;return{processStep:l,mapName:d}}r.$inject=["$filter","ssEnum","enumFormStatus","enumPayRateFrequency","enumStepAction","ssEmployeeAssignmentHlp","ssJobTypeHlp","fieldsHlp"],angular.module("ec-forms-segment-logic").factory("segmentInboxFormInstanceFormLogic",r)},{}],100:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","ssAsync","ssDateByOrgHlp","ssFormInstancesApi","$sce","enumStepAction",function(e,t,n,r,i,s,o){function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.showSensitive,n=void 0!==t&&t;l.isLoading=!0,l.loadingStatus="generating PDF...";var r=l.formInstance._steps.filter(function(e){return e._stepAction!==o.formCompleted}).map(function(e){return e._formFieldValues}).reduce(function(e,t){return e="string"==typeof e?JSON.parse(e):e,Object.assign(e,JSON.parse(t))});return i.generatePDFOverlay({formInstanceid:l.formInstance.id,formFieldValues:r,showSensitive:n})}var l=t.routeVm,c=(e.get("segmentInboxFormInstanceHeaderLogic"),null),p=!1,u=t.vm={hasSensitiveFields:!1};t.go={toggleFormView:function(e){e?(l.isLoading=!0,l.loadingStatus="generating PDF...",a({showSensitive:p}).then(function(e){document.getElementById("form-overlay-frame").src=s.trustAsResourceUrl(e.data.data.attributes.string),l.showPDFOverlay=!0,l.isLoading=!1,l.loadingStatus=""}).catch(function(e){l.isLoading=!1,l.loadingStatus="",ssToastHlp("There was an error generating the PDF","")})):l.showPDFOverlay=!1},toggleSensitiveFields:function(e){c.forEach(function(t){t.overrideVisibility=!e}),p=e,l.hasPDFOverlay&&l.showPDFOverlay&&(l.isLoading=!0,l.loadingStatus="generating PDF...",a({showSensitive:e}).then(function(e){document.getElementById("form-overlay-frame").src=s.trustAsResourceUrl(e.data.data.attributes.string),l.isLoading=!1,l.loadingStatus=""}).catch(function(e){l.isLoading=!1,l.loadingStatus="",ssToastHlp("There was an error generating the PDF","")}))}};n(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=r.utcIsoToRelativeMoment(l.formInstance._createdUtc,l.org),l.formInstance.sentDate=t.calendar(null,{sameDay:"[Today at] LT",lastDay:"[Yesterday at] LT",lastWeek:"ddd [at] LT",sameElse:"L [at] LT"}),c=l.formTemplate._formFields.filter(function(e){return!0===e._sensitive}),c.length&&(c.forEach(function(e){e.overrideVisibility=!0}),p=!1),n=l.formInstance._steps.some(function(e){return!0===e._meta.permissions.permittedActions.viewSensitive}),u.hasSensitiveFields=!!c.length&&n;case 6:case"end":return e.stop()}},e,this)}))()}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentInboxFormInstanceHeader",function(){return new l("header")})},{"base-segment":37}],101:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentInboxFormInstanceHeaderLogic",r)},{}],102:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","ssEventSvc","ssEnum","enumStepAction","formsHlp",function(e,t,n,r,i,s){var o=t.routeVm,a=e.get("segmentInboxFormInstanceStepsLogic"),l=t.vm={steps:[],selectedStep:null,loading:!0,employeeProfileReview:r.stepAction.employeeProfileReview};t.go={selectStep:function(e,t){l.selectedStep=t,n.emit("form-instance.entry.step-clicked",t.id)}};n.on("form-instance.entry.step-clicked",function(e){var t=l.steps.find(function(t){return t.id===e});l.selectedStep=t},t),l.steps=angular.copy(o.formTemplate._steps).filter(function(e){return e._stepAction!==i.formCompleted});try{s.sortByOrderField(l.steps,o.formTemplate._stepOrder);var c=a.buildParticipantList(o.formInstance._steps);l.steps.forEach(function(e){e.instance=o.formInstance._steps.find(function(t){return t._formTemplateStepId===e.id}),e.participantPermission=a.getPermissionLabel(e),e.stepActionName=i.byValue(e._stepAction),null!=e.instance&&(e.otherParticipants=c.reduce(function(t,n){if(n.templateStepId===e.id)return t;var r=e._permissions.find(function(e){return a.matchByParticipants(e,n)});return r&&r.canView?(t.push({name:n.participantName,permissions:"view"+(r.canEdit?" & edit":"")}),t):t},[]))})}catch(e){}finally{l.loading=!1}}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentInboxFormInstanceSteps",function(){return new l("steps")})},{"base-segment":37}],103:[function(e,t,n){"use strict";function r(e,t){function n(e){var t=[];return e.forEach(function(e){if(e._stepParticipant){var n=angular.isArray(e._stepParticipant.employeeIds)&&e._stepParticipant.employeeIds.length?e._stepParticipant.employeeIds[0]:"";t.find(function(t){return t.templateStepId===e._formTemplateStepId})||t.push({templateStepId:e._formTemplateStepId,participantName:e._stepParticipant.name,participantType:e._stepParticipant.participantType,employeeId:n})}}),t}function r(e){var t=e._permissions.find(function(t){return i(t,e)});return t?(t.canView?"view":"")+(t.canEdit?" & edit":""):""}function i(t,n){var r=n._stepParticipant?n._stepParticipant.employeeIds[0]:n.employeeId,i=n._stepParticipant?n._stepParticipant.participantType:n.participantType;return t.participantType===e.stepParticipantType.specificPerson?t.employeeId===r:t.participantType===i}return{buildParticipantList:n,getPermissionLabel:r,matchByParticipants:i}}r.$inject=["ssEnum","enumStepParticipantType"],angular.module("ec-forms-segment-logic").factory("segmentInboxFormInstanceStepsLogic",r)},{}],104:[function(e,t,n){"use strict";var r=e("base-state"),i={},s={url:"/inbox?activeTab",templateUrl:"routes/inbox/inbox.html",resolve:{org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],$title:function(){return"Frontline Central - My Forms"}},$permissions:function(e){return e.isPermittedAction("activeUser","userKey")}};angular.module("ec-forms").config(["$stateProvider",function(e){sidekick.events.on("feature-flags-ready",function(t){t.checkState("fc-enable-merged-forms-modules")&&(s.redirectToState="base.my-forms"),e.state("base.inbox",new r.State(s,i))},{greedy:!0})}])},{"base-state":38}],105:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","$stateParams","$location","ssEnum","ssAsync","ssActiveUserSvc","ssFormInstancesApi","ssFormTemplatesApi","ssStorage","ssOrganizationSvc","ssToastHlp",function(e,t,n,r,i,s,o,a,l,c,p,u){function m(){var e=r.search().resolvemethod;return"ReadModel"===e||"Mongo"===e?e:null}var d=t.routeVm,f=(e.get("segmentInboxContentLogic"),null),g=t.vm={selectedFilter:"current"},v=t.go={filter:function(e){g.selectedFilter=e},getCurrentForms:function(){var e={id:f,include:"steps","filter[search]":d.search};return null!==m()&&(e.resolvemethod=m()),{api:a.queryCurrent,config:e}},getSentForms:function(){return{api:a.querySubmitted,config:{id:f,include:"steps","filter[search]":d.search}}},getCompletedForms:function(){return{api:a.query,config:{id:f,include:"steps","filter[status]":i.formStatus.complete,"filter[search]":d.search}}},getInitiatedForms:function(){return{api:l.query,config:{include:"steps,statusHistory",latestVersion:!0,"filter[isemployeeinitiated]":"true","filter[name]":d.search}}}};s(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.prev=1,e.next=4,o.getIdentityByType("employee");case 4:f=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),{error:e.t0,msg:"There was an error retrieving employee data. Forms will not display. Please see the console for more detail."};case 10:n.activeTab&&n.activeTab.length?v.filter(n.activeTab):"EmployeeInitiated"===c.load("inboxDefaultTab")&&(v.filter("initiate"),c.clear("inboxDefaultTab")),e.next=16;break;case 13:e.prev=13,e.t1=e.catch(0),u.error(e.t1.msg,"",!1);case 16:case"end":return e.stop()}},e,this,[[0,13],[1,7]])}))()}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentInboxContent",function(){return new l("content")})},{"base-segment":37}],106:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentInboxContentLogic",r)},{}],107:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope",function(e,t){var n=t.routeVm;e.get("segmentInboxHeaderLogic"),t.vm={};n.search=""}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentInboxHeader",function(){return new l("header")})},{"base-segment":37}],108:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentInboxHeaderLogic",r)},{}],109:[function(e,t,n){"use strict";var r=e("base-state"),i={},s={url:"/",templateUrl:"routes/index/index.html",resolve:{org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],$title:function(){return"Frontline Central - Form Templates"}},$permissions:function(e){return e.isPermittedAction("formTemplates","create")||e.isPermittedAction("formTemplates","edit")||e.isPermittedAction("formTemplates","send")||e.isPermittedAction("formTemplates","archive")||e.isPermittedAction("packets","create")||e.isPermittedAction("packets","edit")||e.isPermittedAction("packets","send")||e.isPermittedAction("packets","archive")}};angular.module("ec-forms").config(["$stateProvider","$urlRouterProvider",function(e,t){sidekick.events.on("feature-flags-ready",function(t){t.checkState("fc-enable-merged-forms-modules")&&(s.redirectToState="base.formTemplates"),e.state("base.index",new r.State(s,i))},{greedy:!0})}])},{"base-state":38}],110:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-segment"),c=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$scope","$filter","$location","$state","rAF","ssAsync","ssDateByOrgHlp","ssFormLibraryApi","ssPacketsApi","ssFormTemplatesApi","ssStatusApi","ssListSvc","ssModalSvc","ssEnum","enumFormTemplateStatus",function(e,t,n,i,s,o,a,l,c,p,u,m,d,f,g,v){function h(){T=0,O=0,k.displayTemplates=[],y()}function y(){return k.loading=!0,k.loadingMessage="Loading Form Templates",null!=x&&x.$abort(),x=a(regeneratorRuntime.mark(function e(){var n,i,s,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n={},k.categories){e.next=6;break}return e.next=5,d.getByExternalId("form.categories");case 5:k.categories=e.sent;case 6:return T=A.sorting?T:T+1,i=(T-1)*P,O=A.sorting?O:O+P,n.offset=A.sorting?0:i,n.limit=A.sorting?O:P,n=Object.assign(n,w(A.sortBy)),null!=A.selectedStatus&&"All"!=A.selectedStatus&&(n=Object.assign(n,S("status",A.selectedStatus))),null!=A.selectedCategory&&"All"!=A.selectedCategory&&(n=Object.assign(n,S("category",A.selectedCategory))),null!=A.search&&A.search.length>0&&(n=Object.assign(n,S("name",A.search))),e.next=17,c.queryTemplateObjects(n);case 17:s=e.sent,t.count=parseInt(s.$headers["total-results"],10),a=b(s),k.displayTemplates=A.sorting?[].concat(r(a)):[].concat(r(k.displayTemplates),r(a)),A.showInfScroll=O<t.count,e.next=28;break;case 24:e.prev=24,e.t0=e.catch(0),A.showInfScroll=!1,error("Error getting data",e.t0);case 28:return e.prev=28,k.loading=!1,A.sorting=!1,A.scrolling=!1,x=null,e.finish(28);case 34:o(function(){k.loading=!1,t.$emit("template-objects.data-loaded")},t);case 35:case"end":return e.stop()}},e,this,[[0,24,28,34]])}))()}function b(e){return e.forEach(function(e){e.isForm=null!=e._templateId,e.isPacket=null==e._templateId,e.searchText=""+e._name,e.isPacket&&(e.detailsOpen=!1,a(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.get({id:e.id});case 2:n=t.sent,e.packetCount=n._formTemplateIds.length;case 4:case"end":return t.stop()}},t,this)}))()),k.extendCommonProps(e)}),e}function _(e){var t,n="";return null==e?"":(t=k.categories.filter(function(t){return t.value===e}),t.length>0&&(n=t[0].description),n)}function w(e){var t={};return t["sort["+e.field+"]"]=e.dir,t}function S(e,t){var n={};return n["filter["+e+"]"]=t,n}var T=0,P=50,O=0,x=null,k=t.routeVm,A=(e.get("segmentIndexContentLogic"),k.vm=t.vm={showInfScroll:!0,sorting:!1,sortCriteria:[{label:"Recently Modified",value:{field:"changedutc",dir:"desc"}},{label:"Template Name A-Z",value:{field:"name",dir:"asc"}}],statuses:v.getEnums().filter(function(e){return 2!==e.value}).reverse(),selectedStatus:"All",selectedCategory:"All",search:""});A.sortBy=A.sortCriteria[0].value,k.loading=!1,k.displayTemplates=[],k.loadFormTemplates=y,t.$watch("vm.sortBy",function(e,t){e!==t&&null!=k.displayTemplates&&0!==k.displayTemplates.length&&(A.sortBy=e,A.sorting=!0,y())}),t.$watchGroup(["vm.search","vm.selectedCategory","vm.selectedStatus"],function(e,t){e!==t&&h()}),t.scrollData=function(){A.showInfScroll&&!k.loading&&(A.scrolling=!0,y())},k.extendCommonProps=function(e){var t=l.utcIsoToRelativeMoment(e._modifiedDt,k.org);e.modifiedText=t.calendar(null,{sameDay:"[Today @] LT",lastDay:"[Yesterday @] LT",lastWeek:"ddd [@] LT",sameElse:"L [@] LT"}),e._category&&(e._category.name=_(e._category.id)),e._steps.length&&(e._steps=e._steps.filter(function(e){return 3!==e._stepAction}),e._steps.forEach(function(e){e.participantLabel=null==e._stepParticipant.participantType?"undefined":g.stepParticipantType.byValue(e._stepParticipant.participantType),e.stepActionLabel=null==e._stepAction?"undefined":g.stepAction.byValue(e._stepAction)}))},y()}]}]),t}(l.Segment);angular.module("ec-forms-segments").directive("segmentIndexContent",function(){return new c("content")})},{"base-segment":37}],111:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentIndexContentLogic",r)},{}],112:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","$location","ssAsync","ssValidationHlp","ssFormTemplatesApi","ssPacketsApi","ssToastHlp","enumFormAdministratorType",function(e,t,n,r,i,s,o,a,l){t.routeVm,e.get("segmentIndexHeaderLogic"),t.validator={required:i.required()};t.formAdminEnums=l;var c,p=t.vm={openMenu:!1,invalidConfig:!0,specificAdminNotRequired:!0,form:{instanceType:null,instanceTitle:null,isEmployeeInitiated:!1,category:{id:null},formAdministrator:{employeeId:null,formAdministratorType:null}},specificAdmin:[],isCreating:!1,formAdminTypes:t.formAdminEnums.getEnums()},u=t.go={create:function(){if(!p.isCreating){p.isCreating=!0;var e="form"===p.form.instanceType?s:o;r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.add({},{_name:p.form.instanceTitle,_isEmployeeInitiated:p.form.isEmployeeInitiated,_category:p.form.category,_formAdministrator:p.form.formAdministrator});case 3:p.template=t.sent,n.path("/ec-formbuilder/"+p.form.instanceType+"/"+p.template.id+"/builder"),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),a.error("","Error creating "+p.form.instanceType),console.error("Error creating "+p.form.instanceType,t.t0);case 11:return t.prev=11,p.isCreating=!1,t.finish(11);case 14:case"end":return t.stop()}},t,this,[[0,7,11,14]])}))()}},toggleMenu:function(){!0!==p.openMenu&&(p.openMenu=!p.openMenu,u.reset())},reset:function(){p.form.instanceType=null,p.form.instanceTitle=null,p.form.isEmployeeInitiated=!1,p.form.formAdministrator.employeeId=null,p.form.formAdministrator.formAdministratorType=null,p.form.category.id=null,p.specificAdmin=[]},cancel:function(){p.openMenu=!1,u.reset()}},m=["vm.form.category.id","vm.form.instanceTitle","vm.specificAdminNotRequired","vm.form.formAdministrator.formAdministratorType"];t.$on("destroy",t.$watch("vm.form.instanceType",function(e,n){if(e&&e!==n){var r=void 0;p.altLabel="form"===e?"template":"",c&&c(),r="form"!==e?m.slice().filter(function(e){return"vm.form.formAdministrator.formAdministratorType"!==e}):m,c=t.$watchGroup(r,function(e,t){p.invalidConfig=e.some(function(e){return"number"!=typeof e&&!e||"number"==typeof e&&e<0})})}})),t.$on("destroy",c),t.$on("$destroy",t.$watch("vm.form.isEmployeeInitiated",function(e,n){e?(1===p.form.formAdministrator.formAdministratorType&&(p.form.formAdministrator.formAdministratorType=null),p.formAdminTypes=p.formAdminTypes.filter(function(e){return 1!==e.value})):p.formAdminTypes=t.formAdminEnums.getEnums()}))}]},{key:"link",value:function(e,t,n){var r;e.$on("$destroy",e.$watch("vm.form.formAdministrator.formAdministratorType",function(t,n){e.vm.specificAdmin=[],t===e.formAdminEnums.specificPerson?(e.vm.specificAdminNotRequired=!1,r=e.$watch("vm.specificAdmin",function(t,n){t.length?(e.vm.specificAdminNotRequired=!0,e.vm.form.formAdministrator.employeeId=t[0].id):e.vm.specificAdminNotRequired=!1})):(e.vm.specificAdminNotRequired=!0,"function"==typeof r&&r())}))}}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentIndexHeader",function(){return new l("header")})},{"base-segment":37}],113:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentIndexHeaderLogic",r)},{}],114:[function(e,t,n){"use strict";var r=e("base-state"),i={},s={url:"/my-forms?activeTab",templateUrl:"routes/my-forms/my-forms.html",resolve:{org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],$title:function(){return"Frontline Central - My Forms"}},$permissions:function(e){return e.isPermittedAction("activeUser","userKey")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.my-forms",new r.State(s,i))}])},{"base-state":38}],115:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{
key:"controller",value:["$injector","$scope","$stateParams","$location","ssEnum","ssAsync","ssActiveUserSvc","ssFormInstancesApi","ssFormTemplatesApi","ssStorage","ssOrganizationSvc","ssToastHlp",function(e,t,n,r,i,s,o,a,l,c,p,u){function m(){var e=r.search().resolvemethod;return"ReadModel"===e||"Mongo"===e?e:null}var d=t.routeVm,f=(e.get("segmentMyFormsContentLogic"),null),g=t.vm={selectedFilter:"current"},v=t.go={filter:function(e){g.selectedFilter=e},getCurrentForms:function(){var e={id:f,include:"steps","filter[search]":d.search};return null!==m()&&(e.resolvemethod=m()),{api:a.queryCurrent,config:e}},getSentForms:function(){return{api:a.querySubmitted,config:{id:f,include:"steps","filter[search]":d.search}}},getCompletedForms:function(){return{api:a.query,config:{id:f,include:"steps","filter[status]":i.formStatus.complete,"filter[search]":d.search}}},getInitiatedForms:function(){return{api:l.query,config:{include:"steps,statusHistory",latestVersion:!0,"filter[isemployeeinitiated]":"true","filter[name]":d.search}}}};s(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.prev=1,e.next=4,o.getIdentityByType("employee");case 4:f=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),{error:e.t0,msg:"There was an error retrieving employee data. Forms will not display. Please see the console for more detail."};case 10:n.activeTab&&n.activeTab.length?v.filter(n.activeTab):"EmployeeInitiated"===c.load("inboxDefaultTab")&&(v.filter("initiate"),c.clear("inboxDefaultTab")),e.next=16;break;case 13:e.prev=13,e.t1=e.catch(0),u.error(e.t1.msg,"",!1);case 16:case"end":return e.stop()}},e,this,[[0,13],[1,7]])}))()}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentMyFormsContent",function(){return new l("content")})},{"base-segment":37}],116:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentMyFormsContentLogic",r)},{}],117:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope",function(e,t){var n=t.routeVm;e.get("segmentMyFormsHeaderLogic"),t.vm={};n.search=""}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentMyFormsHeader",function(){return new l("header")})},{"base-segment":37}],118:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentMyFormsHeaderLogic",r)},{}],119:[function(e,t,n){"use strict";var r=e("base-state"),i={},s={url:"/builder",templateUrl:"routes/packet-builder/builder/builder.html",resolve:{$title:["$title",function(e){return e+" (Packet Builder)"}]},$permissions:function(e){return e.isPermittedAction("packets","create")||e.isPermittedAction("packets","edit")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.packetBuilder.Builder",new r.State(s,i))}])},{"base-state":38}],120:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-segment"),c=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$scope","enumStepAction","ssAsync","ssFormTemplatesApi","ssListSvc","ssDebounce","formsHlp","ssToastHlp",function(e,t,n,i,s,o,a,l,c){function p(){b&&b.$abort(),w.loading=!0,b=i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u();case 3:w.showInfScroll=w.forms.length<_&&_>h,w.loading=!1,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c.error("There was an error getting form templates","Error");case 10:case"end":return e.stop()}},e,this,[[0,7]])}))()}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.offset,n=void 0===t?0:t;return i(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.query({include:"steps,statusHistory",limit:h,offset:n,filter:m(),sort:d(),latestVersion:!0});case 2:t=e.sent,f(t),w.forms=[].concat(r(w.forms),r(t)),_=parseInt(t.$headers["total-results"],10);case 6:case"end":return e.stop()}},e,this)}))()}function m(){var e="filter[name]="+w.search,t="";if("All"!==w.selectedCategory){t="filter[categoryname]="+w.categories.find(function(e){return e.value===w.selectedCategory}).name}return t.length?e+"&"+t:e}function d(){var e=w.sortBy.startsWith("-")?"DESC":"ASC";return"sort["+w.sortBy.replace("-","")+"]="+e}function f(e){return e.map(function(e){return e.inPacket=w.packet._formTemplateIds.some(function(t){return t===e.id}),e})}function g(e,n){t.added.splice(n,0,t.added.splice(e,1)[0])}var v=(t.routeVm,e.get("segmentPacketBuilderBuilderBuilderLogic"),t.packetVm),h=30,y=1,b=null,_=0;t.added=[];var w=t.vm={showInfScroll:!1,loading:!1,scrolling:!1,loadingPacket:!1,packet:v.packetData,selectedCategory:"All",sortBy:"-changedutc",search:"",sortCriteria:[{name:"Recently Modified",field:"-changedutc"},{name:"Name ASC",field:"name"},{name:"Name DESC",field:"-name"}],stepAction:n,forms:[]};i(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.getByExternalId("form.categories");case 3:w.categories=e.sent,w.packet._formTemplateIds.length&&(w.loadingPacket=!0,n=w.packet._formTemplateIds.toString(),s.formTemplatesByIds(w.packet._formTemplateIds,{include:"steps,statusHistory"}).then(function(e){l.sortByOrderField(e,n),t.added=e,w.loadingPacket=!1}).catch(function(e){c.error("There was an error retrieving form templates in the packet","Error"),w.loadingPacket=!1})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},e,this,[[0,7]])}))(),t.$watchGroup(["vm.search","vm.selectedCategory","vm.sortBy"],function(e,t){e!==t&&(w.scrolling=!1,w.forms=[],_=0,y=1,a(function(){p()},350)())}),t.$watchCollection("added",function(e,t){if(e!==t){var n=e.map(function(e){return e.id});JSON.stringify(n)!==JSON.stringify(w.packet._formTemplateIds)&&(w.packet._formTemplateIds=n)}});t.go={scrollData:function(){if(!w.scrolling){w.scrolling=!0,y++;var e=(y-1)*h;b=i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u({offset:e});case 3:w.scrolling=!1,w.showInfScroll=w.forms.length<_&&_>h,t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),c.error("There was an error getting form templates","Error"),w.scrolling=!1;case 11:case"end":return t.stop()}},t,this,[[0,7]])}))()}},add:function(e,n){t.added.push(n),n.inPacket=!0},remove:function(e,n){t.added.splice(e,1);var r=w.forms.find(function(e){return e.id===n.id});r&&(r.inPacket=!1)},dropForm:function(e,n,r,i){var s=t.added.find(function(e){return e.id===i.id});if(s){g(t.added.indexOf(s),n)}else{t.added.splice(n,0,i);var o=w.forms.find(function(e){return e.id===i.id});o&&(o.inPacket=!0)}}};p()}]}]),t}(l.Segment);angular.module("ec-forms-segments").directive("segmentPacketBuilderBuilderBuilder",function(){return new c("builder")})},{"base-segment":37}],121:[function(e,t,n){"use strict";function r(){function e(e,t){return statusLabelHlp.getLabel(e,t).status}function t(e,t){return statusLabelHlp.getLabel(e,t).statusLabel}return{getStatusLabel:t,getStatus:e}}angular.module("ec-forms-segment-logic").factory("segmentPacketBuilderBuilderBuilderLogic",r)},{}],122:[function(e,t,n){"use strict";var r=e("base-state"),i={},s={url:"/packet-builder/{packetId:[0-9A-Za-z-]+}",templateUrl:"routes/packet-builder/packet-builder.html",resolve:{packet:["$stateParams","ssAsync","ssPacketsApi",function(e,t,n){return t(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.get({id:e.packetId});case 3:i.packetData=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),ssToastHlp.error("There was an error retrieving packet data.","",!1);case 9:case"end":return t.stop()}},t,this,[[0,6]])}))()}],org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],$title:["packet",function(e){return"Frontline Central - "+i.packetData._name}]},$permissions:function(e){return e.isPermittedAction("packets","create")||e.isPermittedAction("packets","edit")||e.isPermittedAction("packetInstances","send")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.packetBuilder",new r.State(s,i))}])},{"base-state":38}],123:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope",function(e,t){var n=t.routeVm;e.get("segmentPacketBuilderContentLogic");t.packetVm=n;t.vm={},t.go={}}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentPacketBuilderContent",function(){return new l("content")})},{"base-segment":37}],124:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentPacketBuilderContentLogic",r)},{}],125:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$q","$scope","$timeout","ssAsync","ssEventSvc","rAF","statusLabelHlp",function(e,t,n,r,i,s,o,a){function l(){var e,t=document.querySelectorAll(".form-title-ctrl"),n=angular.element(t[0]).find("input");null!=n.val()&&(e=n.val().length>45?45:n.val().length,n.attr("size",e))}var c=n.routeVm,p=e.get("segmentPacketBuilderHeaderLogic"),u=n.vm={formTitle:c.packetData._name,editTitle:!1,nothingToSave:!0,autoSaved:!1,packetStatusLabel:a.getLabel(c.packetData,c.org).statusLabel};n.validator=p.validator;var m=void 0,d=n.go={editTitle:function(){u.editTitle=!0,u.previousAutoSaved=u.autoSaved,o.raw(function(){l()})},savePacket:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(c.saving||u.nothingToSave)return t.when();var n=m;return c.saving=!0,i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u.editTitle=!1,c.packetData._name=u.formTitle,t.next=5,c.packetData.$save(!0,!e);case 5:n===m&&(u.nothingToSave=!0,u.autoSaved=e),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),u.nothingToSave=!1;case 11:return t.prev=11,c.saving=!1,t.finish(11);case 15:case"end":return t.stop()}},t,this,[[0,8,11,15]])}))()},confirmTitleEdit:function(){""!==u.formTitle&&(u.editTitle=!1,u.currentValue=u.formTitle,u.nothingToSave=!1)},cancelTitleEdit:function(){u.editTitle=!1,u.formTitle=u.currentValue,u.autoSaved=u.previousAutoSaved}};c.modelChanged=function(){u.nothingToSave=u.autoSaved=!1,m=Date.now()},s.on("ss-json-api.changedRecord.packets",c.modelChanged,n),c.saveFormTemplate=d.savePacket,n.$watch("vm.formTitle",function(e,t){e===t&&(u.currentValue=t),o.raw(function(){l()})})}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentPacketBuilderHeader",function(){return new l("header")})},{"base-segment":37}],126:[function(e,t,n){"use strict";function r(e){return{validator:{required:e.required()}}}r.$inject=["ssValidationHlp"],angular.module("ec-forms-segment-logic").factory("segmentPacketBuilderHeaderLogic",r)},{}],127:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","ssAsync","ssListSvc","ssFormTemplatesApi","ssValidationHlp","enumStepAction","formsHlp","rAF",function(e,t,n,r,i,s,o,a,l){t.routeVm,e.get("segmentPacketBuilderSettingsSettingsLogic");t.validate={conditionalRequired:function(e,t){return!c.packet._startupEmail.useStartupEmail||s.required()(e,t)}};var c=t.vm={loading:null,packet:t.packetVm.packetData,forms:[],stepAction:o};null==c.packet._startupEmail&&(c.packet._startupEmail={}),n(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.loading=!0,e.prev=1,e.next=4,r.getByExternalId("form.categories");case 4:c.categories=e.sent,c.packet._formTemplateIds.length&&(t=c.packet._formTemplateIds.toString(),i.formTemplatesByIds(c.packet._formTemplateIds,{include:"steps"}).then(function(e){a.sortByOrderField(e,t),c.forms=e,c.forms.forEach(function(e){e.steps=e._steps.filter(function(e){return e._stepAction!==o.formCompleted}),a.sortByOrderField(e.steps,e._stepOrder)}),c.loading=!1})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c.loading=!1;case 11:case"end":return e.stop()}},e,this,[[1,8]])}))(),t.$watch("vm.packet._startupEmail.useStartupEmail",function(e,n){e!==n&&(e?l(function(){return document.getElementById("message-textarea").focus()},t):c.packet._startupEmail.message="")})}]}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentPacketBuilderSettingsSettings",function(){return new l("settings")})},{"base-segment":37}],128:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentPacketBuilderSettingsSettingsLogic",r)},{}],129:[function(e,t,n){"use strict";var r=e("base-state"),i={},s={url:"/packet-builder/settings",templateUrl:"routes/packet-builder/settings/settings.html",resolve:{$title:["$title",function(e){return e+" (Settings)"}]},$permissions:function(e){return e.isPermittedAction("packets","create")||e.isPermittedAction("packets","edit")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.packetBuilder.Settings",new r.State(s,i))}])},{"base-state":38}],130:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"controller",value:["$injector","$scope","$rootScope","$window","ssAsync","ssActiveUserSvc","ssEmployeeApi","ssFormTemplatesApi","enumStepParticipantType","enumFormAdministratorType","enumStepAction","ssStorage","moment","ssDateByOrgHlp","formsHlp",function(e,t,n,r,i,s,o,a,l,c,p,u,m,d,f){function g(e){e.forEach(function(e,t){e.showResendMessage=t+1!==w.item._steps.length&&w.item._steps[t+1]._stepAction===p.reviewApproveOrDeny,e._stepParticipant.participantType===l.specificPerson&&e._stepParticipant.employeeIds.length?e.resolvedParticipant=e._stepParticipant.name:e.resolvedParticipant=l.byValue(e._stepParticipant.participantType)})}function v(e){var t=e.type,n=e.recipients;_[t]=n,u.save(b,_)}var h=t.routeVm,y=(e.get("segmentSendContentLogic"),{individual:0,group:1});h.postData={isPacket:"packet"===h.templateType.toLowerCase(),isForm:"formtemplate"===h.templateType.toLowerCase(),recipients:[],bulkRecipients:[],exclusions:[],submissionDueDate:null,asOf:null};var b,_,w=t.vm={loadingFormSender:!0,resolvedFormSender:"loading form sender",useEffectiveDating:!1,asOf:null,recipient:l.recipientChosenWhenSent,hasSubmissionDueDate:"false",isPacket:"Packet"===h.templateType,isForm:"FormTemplate"===h.templateType,item:h.data,datePickerOptions:{minDate:new Date},selectedFilter:"sendDetails",exporting:!1};t.go={export:function(){i(regeneratorRuntime.mark(function e(){var t,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return w.exporting=!0,t=h.postData.recipients.map(function(e){return e.id}).concat(h.postData.bulkRecipients.map(function(e){return e.id})).filter(function(e,t,n){return n.indexOf(e)===t}),n={organizationId:h.org.id,include:"statusHistory,employmentHistory,addresses,phoneNumbers,emails,emergencyContacts,positions,assignments,locations,jobtypes,payschedules,supervisors"},w.useEffectiveDating&&null!=w.asOf?n.asOfTimeUtc=d.safeAsOfDateRelativeTo(m(w.asOf).startOf("day"),h.org):n.asOfTimeUtc=d.safeAsOfDateRelativeTo(m().startOf("day"),h.org),e.next=6,o.exportEmployeesById(n,{ids:t});case 6:i=e.sent,r.open(i._string,"_blank",""),w.exporting=!1;case 9:case"end":return e.stop()}},e,this)}))()}};!function(){try{b=h.org.id+"_template_"+h.data.id,_=u.load(b),null==_?_={}:(h.postData.recipients=_[y.individual]||[],h.postData.bulkRecipients=_[y.group]||[]),t.$root.isPermitted.activeUser.idmAdministrator?w.resolvedFormSender="You (IDM Administrator)":i(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getIdentityByType("employee");case 2:return t=e.sent,e.next=5,o.get({id:t,fields:"id,firstname,lastname"},null,!1);case 5:n=e.sent,w.resolvedFormSender="You ("+n.fullName+")",w.loadingFormSender=!1;case 8:case"end":return e.stop()}},e,this)}))(),w.isForm?(f.sortByOrderField(w.item._steps,w.item._stepOrder),g(w.item._steps),3===w.item._formAdministrator.formAdministratorType?i(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.get({id:w.item._formAdministrator.employeeId,fields:"id,firstname,lastname"},null,!1);case 2:t=e.sent,w.formAdministrator=t.fullName;case 4:case"end":return e.stop()}},e,this)}))():w.formAdministrator=c.byValue(w.item._formAdministrator.formAdministratorType)||"None"):w.isPacket&&i(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:w.item._formTemplateIds&&(w.loadingPacket=!0,t=w.item._formTemplateIds.toString(),a.formTemplatesByIds(w.item._formTemplateIds,{include:"steps"}).then(function(e){f.sortByOrderField(e,t),w.item.forms=e,w.item.forms.forEach(function(e){e.steps=e._steps.filter(function(e){return e._stepAction!==p.formCompleted}),f.sortByOrderField(e.steps,e._stepOrder)}),w.loadingPacket=!1}).catch(function(e){w.loadingPacket=!1}));case 1:case"end":return e.stop()}},e,this)}))()}catch(e){}}(),t.$watch("vm.hasSubmissionDueDate",function(e,t){e!==t&&null!=e&&"false"===e&&(h.postData.submissionDueDate="")}),n.$on("$stateChangeStart",function(e){v({type:y.individual,recipients:h.postData.recipients}),v({type:y.group,recipients:h.postData.bulkRecipients})}),r.addEventListener("beforeunload",function(){v({type:y.individual,recipients:h.postData.recipients}),v({type:y.group,recipients:h.postData.bulkRecipients})},{capture:!0}),t.$on("destroy",t.$watch("vm.useEffectiveDating",function(e,t){e!==t&&(e&&w.asOf?(h.postData.asOf=w.asOf,n.$broadcast("parentAsOfDate-Change",{asOf:w.asOf})):(h.postData.asOf=null,w.asOf="",n.$broadcast("parentAsOfDate-Change",{asOf:w.asOf})))})),t.$on("destroy",t.$watch("vm.asOf",function(e,t){e!==t&&(n.$broadcast("parentAsOfDate-Change",{asOf:e}),h.postData.asOf=e)}))}]},{key:"link",value:function(e,t,n){e.$watch("routeVm.postData.recipients.length",function(n,r){e.$emit("ss-validate-field-event",t.find("input").eq(0),"ss-validate-array-field")})}}]),t}(a.Segment);angular.module("ec-forms-segments").directive("segmentSendContent",function(){return new l("content")})},{"base-segment":37}],131:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentSendContentLogic",r)},{}],132:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-segment"),c=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"controller",value:["$injector","$scope","ssAsync","ssFormInstancesApi","ssStatusApi","ssActiveUserSvc","ssToastHlp","ssStorage","ssArrayHlp","ssModalSvc","$location","$q","enumFormTemplateStatus","ssDateByOrgHlp","ssOrganizationSvc",function(e,t,n,i,s,o,a,l,c,p,u,m,d,f,g){var v,h,y=t.routeVm,b=e.get("segmentSendHeaderLogic"),_=t.vm={isPacket:"packet"===y.templateType.toLowerCase(),isForm:"formtemplate"===y.templateType.toLowerCase(),isSending:!1,item:y.data,batches:[],batchStyles:{}},w=(_.isPacket,t.go={preview:b.preview,send:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(_.item._isEmployeeInitiated&&1===_.item._formAdministrator.formAdministratorType)return void a.error("An Employee-Initiated form cannot be started when the sender of the form is also the Form Administrator.","",!1);if(_.item._formAdministrator&&(!_.item._formAdministrator.formAdministratorType||_.item._formAdministrator.formAdministratorType<=0))p.showDestructive({title:"Form Administrator Required",content:"You must select a form administrator before sending this form.",primaryText:"Edit",secondaryText:"Cancel"}).then(function(){n(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.update({id:_.item.id},{statusId:d.inactive});case 2:u.url("/ec-formbuilder/form/"+_.item.id+"/settings");case 3:case"end":return e.stop()}},e,this)}))()});else{var g={};_.isSending=!0;var w=[].concat(r(e),r(o)),S=[].concat(r(m));Object.assign(g,b.getDefaultBatchObj()),y.postData.asOf&&Object.assign(g,{asOf:f.safeAsOfDateRelativeTo(moment(y.postData.asOf).startOf("day"),y.org)}),g._dueDateUtc=y.postData.submissionDueDate?f.endOfDayRelativeTo(moment(y.postData.submissionDueDate),y.org):null,g._requestType=_.isPacket?1:0,g._templateId=_.item.id,g._includedEmployeeIds=c.unique(w.map(function(e){return e.id})),g._excludedEmployeeIds=c.unique(S.map(function(e){return e.id})),h=_.isPacket?i.postPacketInstanceBatch:i.postFormInstanceBatch,n(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h({organizationId:y.org.id},g);case 3:n=e.sent,_.batches.unshift(n),y.removeGroup(),l.clear(v),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),a.error("",'There was an error sending "'+t.form._name+'"',!1);case 13:return e.prev=13,_.isSending=!1,e.finish(13);case 16:case"end":return e.stop()}},e,this,[[0,9,13,16]])}))()}},removeBatch:function(e){var t=_.batches.indexOf(e);_.batches.splice(t,1)}});n(regeneratorRuntime.mark(function e(){var n,s,o,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v=y.org.id+"_template_"+y.data.id,e.next=4,i.getAllBatches({organizationId:y.org.id,"filter[templateid]":_.item.id});case 4:if(n=e.sent,n.length){e.next=7;break}return e.abrupt("return");case 7:return s=n.map(function(e){return i.getBatchStatus({id:e.id})}),e.next=10,m.all(s);case 10:o=e.sent,o=o.filter(function(e){return 3!==e._status&&!e._isArchived||3===e._status&&e._numFailed}),l=n.filter(function(e){return o.find(function(t){return t.id===e.id})}),_.batches=[].concat(r(l)),t.$on("$destroy",t.$watch("vm.batches.length",function(e,t){_.batchStyles=b.getBatchListStyles(_.batches)})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),a.error("",'There was an error retrieving current batches for "'+_.item._name+'"');case 20:case"end":return e.stop()}},e,this,[[0,17]])}))(),y.go={send:function(){var e=y.postData.recipients,t=y.postData.bulkRecipients,n=y.postData.exclusions;w.send(e,t,n)}}}]}]),t}(l.Segment);angular.module("ec-forms-segments").directive("segmentSendHeader",function(){return new c("header")})},{"base-segment":37}],133:[function(e,t,n){"use strict";function r(e){return{preview:function(t){e.url("/ec-formbuilder/form/"+t.id+"/preview")},buildInstance:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=Object.assign({},t),s=e.id;if(null!=r&&r.length){if(r.map(function(e){return e.id}).includes(s))return}i.employee={employeeId:s},n.attributes.push(i)},getDefaultBatchObj:function(){return{_requestType:0,_templateId:"",_filters:{},_includedEmployeeIds:[],_excludedEmployeeIds:[]}},getBatchListStyles:function(e){return{height:100*e.length+"px",transition:"height 0.5s","transition-delay":"1s"}}}}r.$inject=["$location"],angular.module("ec-forms-segment-logic").factory("segmentSendHeaderLogic",r)},{}],134:[function(e,t,n){"use strict";var r=e("base-state"),i={retryLoading:!1},s={url:"/send/{type:[A-Za-z]+}/{id:[0-9A-Za-z-]+}",templateUrl:"routes/send/send.html",resolve:{packetFormName:["$stateParams","ssAsync","ssFormTemplatesApi","ssPacketsApi",function(e,t,n,r){return t(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i.templateType=e.type,"Packet"!==i.templateType){t.next=8;break}return t.next=5,r.get({id:e.id});case 5:i.data=t.sent,t.next=11;break;case 8:return t.next=10,n.get({id:e.id,include:"steps,formFields,statusHistory"});case 10:i.data=t.sent;case 11:return t.abrupt("return",i.data._name);case 14:t.prev=14,t.t0=t.catch(0);case 16:case"end":return t.stop()}},t,this,[[0,14]])}))()}],org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],$title:["$stateParams","packetFormName",function(e,t){return"Frontline Central - Send "+e.type+" "+t}]},$permissions:function(e){
return e.isPermittedAction("formTemplates","send")||e.isPermittedAction("packets","send")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.send",new r.State(s,i))}])},{"base-state":38}]},{},[2]);